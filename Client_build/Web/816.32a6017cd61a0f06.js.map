{"version":3,"file":"816.32a6017cd61a0f06.js","mappings":"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","sources":["./src/violations/confirm/confirm.component.ts","./src/violations/confirm/confirm.html","./src/violations/detailsRefresh/invoiced/invoiced.component.ts","./src/violations/detailsRefresh/invoiced/invoiced.html","./src/violations/detailsRefresh/invoiced/invoicedDetailsModal.component.ts","./src/violations/detailsRefresh/invoiced/invoicedDetailsModal.html","./src/violations/detailsRefresh/invoiced/overpaymentModal/overpaymentModal.component.ts","./src/violations/detailsRefresh/invoiced/overpaymentModal/overpaymentModal.html","./src/violations/detailsRefresh/plate/plate.component.ts","./src/violations/detailsRefresh/plate/plate.html","./src/violations/detailsRefresh/uninvoiced/uninvoiced.component.ts","./src/violations/detailsRefresh/uninvoiced/uninvoiced.html","./src/violations/detailsRefresh/violationsDetails.component.ts","./src/violations/detailsRefresh/violationsDetails.html","./src/violations/frame/frame.component.ts","./src/violations/frame/frame.html","./src/violations/grid/grid.component.ts","./src/violations/grid/grid.html","./src/violations/grid/prevPaidInvoicesModal/prevPaidInvoicesModal.component.ts","./src/violations/grid/prevPaidInvoicesModal/prevPaidInvoicesModal.html","./src/violations/landing/landing.component.ts","./src/violations/landing/landing.html","./src/violations/module.ts","./src/violations/receipt/receipt.component.ts","./src/violations/receipt/receipt.html","./src/violations/selectPayment/selectPayment.component.ts","./src/violations/selectPayment/selectPayment.html"],"sourcesContent":["import { Component, Input, OnInit, ViewChild, AfterViewInit } from '@angular/core';\r\nimport { StateOrName, StateService, UIRouterGlobals } from '@uirouter/angular';\r\nimport { StateConfig } from 'common/interfaces';\r\nimport { BankAccountType, BillingInfo, BillingType } from 'common/models';\r\nimport { DialogService, ResponseErrorService } from 'common/services';\r\nimport {\r\n    BillingModalComponent,\r\n    InjectionValues as BillingInjectionValues\r\n} from 'common/ui/modals/billingModal/billingModal.component';\r\nimport { cloneDeep, isEmpty } from 'lodash';\r\nimport { FrameComponent } from 'violations/frame/frame.component';\r\nimport { ViolationPlateContainer } from 'violations/interfaces';\r\nimport { WebApisService } from 'violationsCommon/services/webapi/webApis.service';\r\nimport { WizardComponent } from 'common/ui';\r\n\r\ninterface CmsData {\r\n    Title: string;\r\n    EMAIL_TITLE: string;\r\n    PAYMENT_DETAILS_TITLE: string;\r\n    EMAIL_INSTRUCTION: string;\r\n    BILLING_INFO_HEADER: string; //totalPaymentLabel?\r\n}\r\n\r\n@Component({\r\n    selector: 'violations-confirm-component',\r\n    templateUrl: './confirm.html',\r\n    styleUrls: ['./confirm.less']\r\n})\r\nexport class ConfirmComponent implements OnInit, AfterViewInit {\r\n\r\n    constructor(\r\n        private parent: FrameComponent,\r\n        private uiRouterGlobals: UIRouterGlobals,\r\n        private state: StateService,\r\n        private webApis: WebApisService,\r\n        private responseErrorService: ResponseErrorService,\r\n        private dialogService: DialogService\r\n    ) { }\r\n\r\n    public BillingType = BillingType;\r\n    public billingInfo: BillingInfo;\r\n    @Input() emailAddress: string;\r\n    @Input() stateList: any[];\r\n    @Input() countryList: any[];\r\n    @Input() cmsData: CmsData;\r\n    public plateContainer: ViolationPlateContainer;\r\n\r\n    @ViewChild(WizardComponent) wizardComponent: WizardComponent;\r\n\r\n    ngOnInit() {\r\n        this.billingInfo = this.uiRouterGlobals.params.billingInfo || {};\r\n        this.plateContainer = {} as any;\r\n        this.parent.stepNum = 3;\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        return this.billingInfo && this.billingInfo.billingType && !isEmpty(this.billingInfo)\r\n            ? this.setupPage()\r\n            : this.wizardComponent.gotoPreviousState();\r\n    }\r\n\r\n    private setupPage() {\r\n        this.plateContainer = this.parent.getPlateContainer();\r\n\r\n        this.parent.setTitle(this.cmsData.Title);\r\n        this.parent.scrollToTop();\r\n    }\r\n\r\n    async previous(targetState: StateOrName) {\r\n        await this.state.go(targetState, { billingInfo: this.billingInfo });\r\n    }\r\n\r\n    async submit(targetState: StateConfig) {\r\n        const { plate, paymentAmount } = this.plateContainer;\r\n\r\n        const paymentRequest: ViolationPlateContainer = {\r\n            ...this.plateContainer,\r\n            isCreditCard: this.billingInfo.billingType === BillingType.Credit,\r\n            eftPaymentMethod: {\r\n                ...this.billingInfo.eft,\r\n                nameOnBankAccount: this.billingInfo.eft.name,\r\n                accountTypeDisplay: this.billingInfo.eft.accountType === BankAccountType.Personal\r\n                    ? 'Personal'\r\n                    : 'Business'\r\n\r\n            },\r\n            creditCardPaymentMethod: {\r\n                ...this.billingInfo.credit,\r\n            },\r\n            plate: {\r\n                ...plate,\r\n                totalPaymentAmount: paymentAmount\r\n            },\r\n            paymentAmount\r\n        };\r\n\r\n        const response = await this.webApis.makePayment(paymentRequest);\r\n\r\n        await (response.errors.length > 0\r\n            ? this.responseErrorService.displayErrorsFromResponse(response)\r\n            : this.goToNextState(targetState));\r\n    }\r\n\r\n    async goToNextState(nextState: StateConfig) {\r\n        await this.state.go(nextState, { billingInfo: this.billingInfo }, { custom: { isExplicitlyAllowedTransition: true } });\r\n    }\r\n\r\n    public async openModal() {\r\n        const data: BillingInjectionValues = {\r\n            billingInformation: cloneDeep(this.billingInfo),\r\n            billingType: this.billingInfo.billingType,\r\n            stateList: this.stateList,\r\n            countryList: this.countryList\r\n        };\r\n\r\n        return this.dialogService.openSliderCentered(BillingModalComponent, data)\r\n            .then((result: BillingInjectionValues) => {\r\n                if (result) {\r\n                    this.billingInfo = cloneDeep(result.billingInformation);\r\n                    this.billingInfo.billingType = result.billingType;\r\n                }\r\n            });\r\n    }\r\n}\r\n","<page-centered-container>\r\n    <form #ConfirmForm=\"ngForm\" validation-focus name=\"violationsForm\"\r\n          fxLayout=\"column\"\r\n          class=\"u-spacing--widthFill\">\r\n\r\n        <card-container>\r\n            <header>\r\n                <h2>{{cmsData.EMAIL_TITLE}}</h2>\r\n                <mat-divider class=\"u-spacing__divider--marginTopBottom\"></mat-divider>\r\n            </header>\r\n            <article>{{cmsData.EMAIL_INSTRUCTION}}</article>\r\n\r\n            <!--Email-->\r\n            <section [error-check]=\"EmailAddressInput\" class=\"u-spacing--widthFill u-spacing__fieldToSection--marginTop\">\r\n                <mat-label>EMAIL</mat-label>\r\n                <input type=\"text\"\r\n                       id=\"emailAddress\"\r\n                       name=\"emailAddress\"\r\n                       #EmailAddressInput=\"ngModel\"\r\n                       [(ngModel)]=\"plateContainer.email\"\r\n                       maxLength=\"80\"\r\n                       minLength=\"1\"\r\n                       placeholder=\"username@domain.com\"\r\n                       class=\"u-spacing--widthFill\"\r\n                       email />\r\n\r\n                <div *ngFor=\"let error of EmailAddressInput.errors | keyvalue\" role=\"alert\">\r\n                    <ng-container *ngIf=\"ConfirmForm.submitted\" [ngSwitch]=\"error.key\">\r\n                        <p *ngSwitchCase=\"'email'\" class=\"help-block\">Please enter a valid email address</p>\r\n                        <p *ngSwitchCase=\"'maxLength'\" class=\"help-block\">Please enter a valid email address</p>\r\n                        <p *ngSwitchCase=\"'minLength'\" class=\"help-block\">Please enter a valid email address</p>\r\n                    </ng-container>\r\n                </div>\r\n            </section>\r\n        </card-container>\r\n\r\n        <card-container class=\"u-spacing__cardToCard--marginTop\">\r\n            <header>\r\n                <div fxLayout=\"row\"\r\n                     fxLayoutAlign=\"start center\"\r\n                     class=\"u-spacing--widthFill\">\r\n                    <h2 fxFlex=\"grow\">{{cmsData.BILLING_INFO_HEADER}}</h2>\r\n                    <a class=\"editButton\"\r\n                       (click)=\"openModal()\"\r\n                       fxFlex=\"none\"\r\n                       aria-label=\"Edit\">\r\n                        Edit\r\n                    </a>\r\n                </div>\r\n                <mat-divider class=\"u-spacing__divider--marginTopBottom\"></mat-divider>\r\n            </header>\r\n\r\n            <payment-display [billingType]=\"billingInfo.billingType\"\r\n                             [bankDetails]=\"billingInfo.eft\"\r\n                             [creditCard]=\"billingInfo.credit\"\r\n                             [showAccountNumber]=\"true\"\r\n                             [showLabels]=\"true\">\r\n            </payment-display>\r\n\r\n            <address-display *ngIf=\"billingInfo.billingType\"\r\n                             [address]=\"billingInfo.billingType === BillingType.Credit ?  billingInfo.credit : billingInfo.eft\"\r\n                             [international]=\"billingInfo.billingType === BillingType.Credit ? billingInfo.credit.international : billingInfo.eft.international\"\r\n                             [showLabels]=\"true\">\r\n            </address-display>\r\n\r\n            <row-container [rowType]=\"'emphasis'\"\r\n                           class=\"u-spacing__rowToSection--marginTop\">\r\n                <section col-start\r\n                         id=\"totalPaymentLabel\"\r\n                         fxFlex=\"grow\">\r\n                    {{cmsData.PAYMENT_DETAILS_TITLE}}\r\n                </section>\r\n\r\n                <section col-end\r\n                         id=\"totalPaymentValue\"\r\n                         fxFlex=\"none\">\r\n                    <currency [value]=\"plateContainer.paymentAmount\"></currency>\r\n                </section>\r\n            </row-container>\r\n        </card-container>\r\n\r\n        <section class=\"u-spacing__buttonToField--marginTop\">\r\n            <wizard-ui (next)=\"submit($event)\"\r\n                       (previous)=\"previous($event)\">\r\n                <span wizard-next>PAY</span>\r\n                <span wizard-previous\r\n                      fxLayout=\"row\"\r\n                      fxLayoutAlign=\"start center\">\r\n                    <mat-icon svgIcon=\"previous-arrow\"></mat-icon>\r\n                    Previous\r\n                </span>\r\n                <span wizard-cancel>Cancel</span>\r\n            </wizard-ui>\r\n        </section>\r\n\r\n    </form>\r\n</page-centered-container>\r\n","import {\r\n    Component, Input, Output, OnInit,\r\n    EventEmitter, OnChanges, SimpleChanges\r\n} from '@angular/core';\r\n\r\nimport { MatDialog, MatDialogConfig } from '@angular/material/dialog';\r\nimport { DownloadService, DialogService, DialogContent, ToasterService } from 'common/services';\r\n\r\nimport { collapseTrigger } from 'animations/collapse';\r\nimport { ViolationInvoice } from 'violations/interfaces';\r\nimport { Selectable, InputFieldMetadata } from '../';\r\nimport {\r\n    InvoicedDetailsModalComponent,\r\n    InjectionValues as InvoicedDetailsModalInjectionValues\r\n} from './invoicedDetailsModal.component';\r\n\r\nimport {\r\n    OverpaymentModalComponent,\r\n    InjectionValues as OverpaymentModalInjectionValues,\r\n    CmsContent as OverpaymentModalCmsContent,\r\n    CloseImage as OverpaymentModalCloseImage\r\n} from './overpaymentModal/overpaymentModal.component';\r\n\r\n\r\nexport interface InvoiceOverPaymentCmsData {\r\n    OVERPAYMENT_HEADER: string;\r\n    OVERPAYMENT_BODY: string;\r\n}\r\n\r\nexport interface CaoToolTipData {\r\n    dueDate: string;\r\n    futureAmt: number;\r\n}\r\n\r\n@Component({\r\n    selector: 'violations-invoiced-row',\r\n    templateUrl: './invoiced.html',\r\n    styleUrls: ['./invoiced.less'],\r\n    animations: [collapseTrigger],\r\n    providers: [\r\n        //provides a separate instance for each invoice\r\n        //the link for this invoice gets blocked but other links still work\r\n        //remove this to block all pdf links when one is being downloaded \r\n        DownloadService\r\n    ]\r\n})\r\nexport class ViolationsInvoicedComponent implements OnInit, OnChanges {\r\n\r\n    constructor(\r\n        private downloadService: DownloadService,\r\n        private matDialog: MatDialog,\r\n        private dialogService: DialogService,\r\n        private toastService: ToasterService\r\n    ) { }\r\n\r\n    // eslint-disable-next-line id-blacklist\r\n    @Input() plate: { number: string; state: string };\r\n    @Input() invoiced: ViolationInvoice & Selectable;\r\n    @Input() isEditAllowed: boolean;\r\n    @Input() cmsData: OverpaymentModalCmsContent;\r\n    @Input() isLast: boolean;\r\n    @Input() isChecked: boolean;\r\n    @Input() caoToolTipCms: string;\r\n    @Output() selectionChange = new EventEmitter();\r\n    @Output() paymentAmountChange = new EventEmitter();\r\n    public areDetailsCollapsed: boolean;\r\n    public paymentAmountString: string;\r\n    private initialPaymentAmount: number;\r\n    public checkboxMetadata: InputFieldMetadata;\r\n    public inputMetadata: InputFieldMetadata;\r\n    public caoToolTipData: CaoToolTipData;\r\n\r\n    get isDownloadBusy() {\r\n        return this.downloadService.isBusy;\r\n    }\r\n\r\n    checkBoxChange() {\r\n        this.invoiced.checked = this.isChecked;\r\n        this.selectionChange.emit();\r\n\r\n        const paymentAmount = this.isChecked\r\n            ? (this.initialPaymentAmount || this.invoiced.invoiceDueBeforeDiscount)\r\n            : 0;\r\n\r\n        this.initialPaymentAmount = 0;\r\n        this.paymentAmountString = this.updatePaymentAmount(paymentAmount);\r\n    }\r\n\r\n    //move input to row if partial payments for uninvoiced violations as well\r\n    private updatePaymentAmount = (paymentAmount: number): string => {\r\n\r\n        const twoDecimalPlaces = paymentAmount.toFixed(2);\r\n        this.invoiced.paymentAmount = parseFloat(twoDecimalPlaces);\r\n        this.paymentAmountChange.emit();\r\n\r\n        return '$' + twoDecimalPlaces;\r\n    };\r\n\r\n    private parseCurrency(amount: string): number {\r\n        const parsed = parseFloat(amount.replace('$', ''));\r\n\r\n        return isNaN(parsed) ? 0 : parsed;\r\n    }\r\n\r\n    amountBlur() {\r\n        let paymentAmount = this.parseCurrency(this.paymentAmountString);\r\n\r\n        const isOverPayment = paymentAmount > this.invoiced.invoiceDueBeforeDiscount;\r\n\r\n        if (isOverPayment) {\r\n            this.showOverPaymentModal();\r\n        }\r\n\r\n        paymentAmount = isOverPayment\r\n            ? this.invoiced.invoiceDueBeforeDiscount\r\n            : paymentAmount;\r\n\r\n        paymentAmount = paymentAmount < 0.01\r\n            ? 0.01\r\n            : paymentAmount;\r\n\r\n        this.paymentAmountString = this.updatePaymentAmount(paymentAmount);\r\n    }\r\n\r\n    private showOverPaymentModal = () => {\r\n        const settings: MatDialogConfig<OverpaymentModalInjectionValues> = {\r\n            data: {\r\n                cmsContent: this.cmsData as OverpaymentModalCmsContent,\r\n                amountDue: this.initialPaymentAmount || this.invoiced.invoiceDueBeforeDiscount\r\n            }\r\n        };\r\n\r\n        this.matDialog\r\n            .open<OverpaymentModalComponent, OverpaymentModalInjectionValues>(OverpaymentModalComponent, settings);\r\n    };\r\n\r\n    amountChanged(newPaymentAmountString: string) {\r\n\r\n        this.updatePaymentAmount(this.parseCurrency(newPaymentAmountString));\r\n\r\n        const hasDollarSign = newPaymentAmountString.indexOf('$') > -1;\r\n\r\n        this.paymentAmountString = (hasDollarSign ? '$' : '') + newPaymentAmountString.replace('$', '');\r\n    }\r\n\r\n    allowKey(key: string) {\r\n\r\n        const isDigit = [...Array(10).keys()]\r\n            .map(x => x.toString())\r\n            .some(accept => accept === key);\r\n\r\n        return isDigit ||\r\n            (key === '$' && this.paymentAmountString === '') ||\r\n            ((key === '.' || key === 'Del' /*IE numpad sends Del for dot*/) && this.paymentAmountString.indexOf('.') < 0);\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.areDetailsCollapsed = true;\r\n        this.initialPaymentAmount = this.invoiced.paymentAmount; //paymentAmount not null when returning to page from billing, confirm\r\n\r\n        this.caoToolTipData = {\r\n            dueDate: this.invoiced.dueDate,\r\n            futureAmt: this.invoiced.caoFineEstimate + this.invoiced.invoiceDueBeforeDiscount\r\n        };\r\n\r\n        const metaData = (prefix: string) => ({\r\n            id: `${prefix.toLowerCase()}invoice${this.invoiced.invoiceNum}`,\r\n            description: `${prefix} for Invoice ${this.invoiced.invoiceNum}`\r\n        });\r\n\r\n        this.checkboxMetadata = metaData('Checkbox');\r\n        this.inputMetadata = metaData('Input');\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n        if (changes.isChecked) {\r\n            if (changes.isChecked.currentValue && this.invoiced.checked) {\r\n                // When the invoiced component is reloaded from pagination\r\n                this.paymentAmountString = this.updatePaymentAmount(this.invoiced.paymentAmount);\r\n            } else {\r\n                this.checkBoxChange();\r\n            }\r\n        }\r\n    }\r\n\r\n    public openTollDetailsModal() {\r\n        this.dialogService.openSliderFilled(InvoicedDetailsModalComponent,\r\n            { invoiced: this.invoiced, plate: this.plate, isPreviousPaid: false } as InvoicedDetailsModalInjectionValues,\r\n            { title: 'Invoice Details' } as DialogContent);\r\n        this.toastService.removeAll();\r\n    }\r\n}\r\n","<main>\r\n    <fx-row [isInner]=\"!isLast\"\r\n                           [isBottom]=\"isLast\">\r\n\r\n        <section col-start\r\n                 class=\"fx-flex-auto fx-layout-row fx-layout-align-start-center\">\r\n            <div class=\"fx-flex-auto-shrink-more limited-flex\">\r\n                <a class=\"fx-layout-row fx-layout-align-start-center u--noUnderline clickable\"\r\n                   (click)=\"openTollDetailsModal()\">\r\n                    <div translation-skip class=\"fx-flex-none violationId--width\">{{invoiced.invoiceNum}}</div>\r\n                    <div class=\"fx-flex-none glyphicon glyphicon-chevron-right\"></div>\r\n                </a>\r\n            </div>\r\n            <div fxShow\r\n                 fxHide.lt-md\r\n                 class=\"fx-flex-auto-shrink-more limited-flex\">\r\n                {{invoiced.mailedDate | dateWithTimeZone : 'date1' | default : 'To be mailed'}}\r\n            </div>\r\n            <div fxShow\r\n                 fxHide.lt-md\r\n                 class=\"fx-flex-auto-shrink-more limited-flex\">\r\n                {{invoiced.dueDate | dateWithTimeZone : 'date1' | default : 'To be mailed'}}\r\n            </div>\r\n            <div fxShow\r\n                 fxHide.lt-md\r\n                 fxLayoutAlign=\"start start\"\r\n                 fxLayout=\"row\"\r\n                 class=\"fx-flex-auto-grow-more unlimited-flex\">\r\n                <span translation-skip>{{invoiced.agencyName}}</span>\r\n                <tool-tip *ngIf =\"invoiced.hasCAOFineEstimate\"\r\n                          [ngStyle]=\"{'width': '12.5px', 'margin-left': '5px'}\">\r\n                    <span tool-tip-hover>\r\n                        <mat-icon svgIcon=\"information\"></mat-icon>\r\n                    </span>\r\n                    <span tool-tip-message ngClass=\"hoverBoxAdjusment\">\r\n                        <cms-content [template]=\"caoToolTipCms\" [data]=\"caoToolTipData\"></cms-content>\r\n                    </span>\r\n                </tool-tip>\r\n            </div>\r\n        </section>\r\n\r\n        <section col-end\r\n                 class=\"fx-flex-none fx-layout-row fx-layout-align-end-center\"\r\n                 style=\"width: 160px\">\r\n            <div *ngIf=\"isEditAllowed && invoiced.checked;else amountDue\"\r\n                 class=\"fx-flex-auto unlimited-flex-end\"\r\n                 col-amount>\r\n                <label translation-skip [for]=\"inputMetadata.id\" class=\"sr-only\">{{inputMetadata.description}}</label>\r\n                <input type=\"text\"\r\n                       [id]=\"inputMetadata.id\"\r\n                       (click)=\"$event.stopPropagation()\"\r\n                       (keypress)=\"allowKey($event.key)\"\r\n                       [ngModel]=\"paymentAmountString\"\r\n                       (ngModelChange)=\"amountChanged($event)\"\r\n                       (blur)=\"amountBlur()\"\r\n                       col-amount/>\r\n            </div>\r\n            <ng-template #amountDue>\r\n                <div class=\"fx-flex-auto limited-flex-end\"><currency [value]=\"invoiced.invoiceDueBeforeDiscount\"></currency></div>\r\n            </ng-template>\r\n            <div *ngIf=\"isEditAllowed\"\r\n                 class=\"fx-layout-row fx-layout-align-end-center unlimited-flex-end\">\r\n                <label translation-skip [for]=\"checkboxMetadata.id\" class=\"sr-only\">{{checkboxMetadata.description}}</label>\r\n                <input type=\"checkbox\"\r\n                       [id]=\"checkboxMetadata.id\"\r\n                       [(ngModel)]=\"isChecked\"\r\n                       (change)=\"checkBoxChange()\"\r\n                       (click)=\"$event.stopPropagation()\"/>\r\n            </div>\r\n        </section>\r\n    </fx-row>\r\n</main>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { DialogRef, DownloadService } from 'common/services';\r\nimport { ViolationInvoice } from '../../interfaces';\r\nimport { PdfUrlService } from 'violationsCommon/services/pdfUrl.service';\r\nimport { WebApisService } from 'violationsCommon/services/webapi/webApis.service';\r\n\r\n\r\nexport interface InjectionValues {\r\n    invoiced: ViolationInvoice;\r\n    // eslint-disable-next-line id-blacklist\r\n    plate: { state: string; number: string };\r\n    isPreviousPaid: boolean;\r\n}\r\n\r\n@Component({\r\n    selector: 'violations-invoiced-details',\r\n    templateUrl: './invoicedDetailsModal.html',\r\n    styleUrls: ['./invoicedDetailsModal.less'],\r\n    providers: [\r\n        DownloadService,\r\n        { provide: PdfUrlService, useExisting: WebApisService }\r\n    ]\r\n})\r\nexport class InvoicedDetailsModalComponent implements OnInit {\r\n\r\n    constructor(\r\n        private dialogRef: DialogRef<InjectionValues>,\r\n        private pdfUrlService: PdfUrlService,\r\n        private downloadService: DownloadService\r\n    ) { }\r\n\r\n    public data = {} as InjectionValues;\r\n    public showAdjustments: boolean;\r\n    public adjustmentAmt: number;\r\n    get isDownloadBusy() {\r\n        return this.downloadService.isBusy;\r\n    }\r\n\r\n    public close() {\r\n        this.dialogRef.close();\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.data = { ...this.dialogRef.data };\r\n        this.showAdjustments = this.data.invoiced.excusalAmt != null && this.data.isPreviousPaid ?\r\n            (this.data.invoiced.invoiceLevelDiscount + this.data.invoiced.excusalAmt !== 0) :\r\n            (this.data.invoiced.excusalAmt !== 0);\r\n        this.adjustmentAmt = this.data.invoiced.excusalAmt + (this.data.isPreviousPaid ? this.data.invoiced.invoiceLevelDiscount : 0);\r\n    }\r\n\r\n    getInvoicePdf() {\r\n\r\n        const { invoiceNum, agencyId, mailedDate } = this.data.invoiced;\r\n\r\n        const url = this.pdfUrlService.getPdfURL({\r\n            licensePlate: this.data.plate.number,\r\n            licenseState: this.data.plate.state,\r\n            invoiceNum,\r\n            agencyId,\r\n            mailedDate\r\n        });\r\n\r\n        this.downloadService.download(url, true);\r\n    }\r\n}\r\n","<main fxLayout=\"column\"\r\n      fxLayoutAlign=\"start start\">\r\n    <app-toaster-container></app-toaster-container>\r\n    <header fxLayout=\"row\"\r\n            fxLayoutAlign=\"start center\">\r\n        <h3>Invoice: <span translation-skip>{{data.invoiced.invoiceNum}}</span></h3>\r\n        <figure class=\"pdfIcon right-caption clickable\"\r\n                [ngClass]=\"{ 'link-faded': isDownloadBusy }\"\r\n                (click)=\"getInvoicePdf()\"\r\n                fxFlexOffset=\"30px\">\r\n            <img src=\"/Content/icons/pdf.gif\" />\r\n            <figcaption>\r\n                &nbsp;PDF\r\n            </figcaption>\r\n        </figure>\r\n    </header>\r\n    <section fxLayout=\"row\"\r\n             fxLayout.lt-md=\"row wrap\"\r\n             [ngStyle]=\"{'margin-top': '16px', 'margin-bottom': '18px', 'width': '100%'}\">\r\n\r\n        <section fxFlex=\"auto\">\r\n            <div class=\"u-spacing--widthFill\">\r\n                <div class=\"c-labelRowContainer\" ngClass.lt-md=\"lt-md\">\r\n                    <fx-row [isLabel]=\"true\"\r\n                                           [backgroundColorClass]=\"'transparent-background'\">\r\n                        <section col-start\r\n                                 fxFlex=\"auto\">\r\n                            <mat-label>INVOICE DATE</mat-label>\r\n                        </section>\r\n                    </fx-row>\r\n                </div>\r\n                <row-container [rowType]=\"'bodyInvert'\">\r\n                    <section translation-skip col-start\r\n                             fxFlex=\"auto\">\r\n                        {{data.invoiced.mailedDate | dateWithTimeZone : 'date1' | default : 'To be mailed'}}\r\n                    </section>\r\n                </row-container>\r\n            </div>\r\n        </section>\r\n\r\n        <section fxFlex=\"auto\"\r\n                 fxFlexOrder=\"0\"\r\n                 fxFlexOrder.lt-md=\"1\"\r\n                 ngStyle.lt-md=\"width: 100%\">\r\n            <div class=\"u-spacing--widthFill\">\r\n                <div class=\"c-labelRowContainer\" ngClass.lt-md=\"lt-md\">\r\n                    <fx-row [isLabel]=\"true\"\r\n                                           [backgroundColorClass]=\"'transparent-background'\">\r\n                        <section col-start\r\n                                 fxFlex=\"auto\">\r\n                            <mat-label>DUE DATE</mat-label>\r\n                        </section>\r\n                    </fx-row>\r\n                </div>\r\n                <row-container [rowType]=\"'bodyInvert'\">\r\n                    <section translation-skip col-start\r\n                             fxFlex=\"auto\">\r\n                        {{data.invoiced.dueDate | dateWithTimeZone : 'date1' | default : 'To be mailed'}}\r\n                    </section>\r\n                </row-container>\r\n            </div>\r\n        </section>\r\n\r\n        <section fxFlexOrder=\"0\"\r\n                 fxFlexOrder.lt-md=\"1\"\r\n                 class=\"hidden u-spacing--widthFill\"\r\n                 [ngClass.lt-md]=\"{'hidden': false}\"></section>\r\n\r\n        <section fxFlex=\"2 1 auto\"\r\n                 fxFlexOrder=\"0\"\r\n                 fxFlexOrder.lt-md=\"1\"\r\n                 *ngIf=\"data.isPreviousPaid\">\r\n            <div class=\"u-spacing--widthFill\">\r\n                <div class=\"c-labelRowContainer\" ngClass.lt-md=\"lt-md\">\r\n                    <fx-row [isLabel]=\"true\"\r\n                                           [backgroundColorClass]=\"'transparent-background'\">\r\n                        <section col-start\r\n                                 fxFlex=\"auto\">\r\n                            <mat-label>STATUS</mat-label>\r\n                        </section>\r\n                    </fx-row>\r\n                </div>\r\n                <row-container [rowType]=\"'bodyInvert'\">\r\n                    <section col-start\r\n                             fxFlex=\"auto\">\r\n                        <mat-icon svgIcon=\"checkmark\" class=\"center-vertical\"></mat-icon>\r\n                        <span class=\"green-text\" style=\"margin-left: 8px\">Closed</span>\r\n                    </section>\r\n                </row-container>\r\n            </div>\r\n        </section>\r\n\r\n        <section fxFlexOrder=\"0\"\r\n                 fxFlexOrder.lt-md=\"1\"\r\n                 class=\"hidden u-spacing--widthFill\"\r\n                 [ngClass.lt-md]=\"{'hidden': false}\"></section>\r\n\r\n        <section fxFlex=\"2 1 auto\"\r\n                 fxFlexOrder=\"0\"\r\n                 fxFlexOrder.lt-md=\"1\">\r\n            <div class=\"u-spacing--widthFill\">\r\n                <div class=\"c-labelRowContainer\" ngClass.lt-md=\"lt-md\">\r\n                    <fx-row [isLabel]=\"true\"\r\n                                           [backgroundColorClass]=\"'transparent-background'\">\r\n                        <section col-start\r\n                                 fxFlex=\"auto\">\r\n                            <mat-label>AGENCY</mat-label>\r\n                        </section>\r\n                    </fx-row>\r\n                </div>\r\n                <row-container [rowType]=\"'bodyInvert'\">\r\n                    <section translation-skip\r\n                             col-start\r\n                             fxFlex=\"auto\"\r\n                             fxShow\r\n                             fxHide.lt-md>\r\n                        <div>{{data.invoiced.agencyName}}</div>\r\n                    </section>\r\n                    <section translation-skip\r\n                             col-start\r\n                             fxFlex=\"auto\"\r\n                             fxHide\r\n                             fxShow.lt-md>\r\n                        <div>{{data.invoiced.mobileAgencyName}}</div>\r\n                    </section>\r\n                </row-container>\r\n            </div>\r\n        </section>\r\n\r\n        <section fxFlex=\"none\">\r\n            <div class=\"u-spacing--widthFill\">\r\n                <div class=\"c-labelRowContainer\" ngClass.lt-md=\"lt-md\">\r\n                    <fx-row [isLabel]=\"true\"\r\n                                           [backgroundColorClass]=\"'transparent-background'\">\r\n                        <section col-end\r\n                                 fxFlex=\"none\"\r\n                                 class=\"u-spacing--widthFill c--textAlignEnd\">\r\n                            <mat-label>AMOUNT DUE</mat-label>\r\n                        </section>\r\n                    </fx-row>\r\n                </div>\r\n                <row-container [rowType]=\"'bodyInvert'\">\r\n                    <section col-end\r\n                             fxFlex=\"none\"\r\n                             class=\"u-spacing--widthFill c--textAlignEnd\">\r\n                        <div><currency [value]=\"data.invoiced.invoiceDueBeforeDiscount\"></currency></div>\r\n                    </section>\r\n                </row-container>\r\n            </div>\r\n        </section>\r\n    </section>\r\n\r\n    <header fxHide.gt-sm\r\n            style=\"margin-top: 44px; margin-bottom: 11px;\">\r\n        <h3>Toll Violation Summary</h3>\r\n    </header>\r\n\r\n    <section style=\"width:100%\">\r\n        <div *ngFor=\"let violation of data.invoiced.violations; first as isFirst; last as isLast\">\r\n            <section fxLayout=\"row\"\r\n                     fxLayout.lt-md=\"row wrap\"\r\n                     [ngStyle]=\"{'margin-top': '2px'}\">\r\n\r\n                <section fxFlex=\"0 0 45%\"\r\n                         fxFlex.lt-md=\"0 0 80%\">\r\n                    <div class=\"u-spacing--widthFill\">\r\n                        <div class=\"c-labelRowContainer\" ngClass.lt-md=\"lt-md\">\r\n                            <fx-row [fxHide]=\"!isFirst\"\r\n                                                   fxHide.lt-md=\"false\"\r\n                                                   [isLabel]=\"true\"\r\n                                                   [backgroundColorClass]=\"'transparent-background'\">\r\n                                <section col-start\r\n                                         fxFlex=\"auto\">\r\n                                    <mat-label>VIOLATION DATE</mat-label>\r\n                                </section>\r\n                            </fx-row>\r\n                        </div>\r\n                        <fx-row [backgroundColorClass]=\"'white-background'\"\r\n                                               [isTop]=\"data.invoiced.violations.length > 1 && isFirst\"\r\n                                               [isBottom]=\"data.invoiced.violations.length > 1 && isLast\"\r\n                                               [isInner]=\"!isFirst && !isLast\">\r\n                            <section translation-skip col-start\r\n                                     fxFlex=\"auto\">\r\n                                {{violation.violationDate | dateWithTimeZone : 'dateTime3' | default : 'To be mailed'}}\r\n                            </section>\r\n                        </fx-row>\r\n                    </div>\r\n                </section>\r\n\r\n                <section fxFlex=\"0 0 40%\"\r\n                         fxFlexOrder=\"0\"\r\n                         fxFlexOrder.lt-md=\"1\"\r\n                         fxFlex.lt-md=\"0 0 auto\"\r\n                         ngStyle.lt-md=\"width: 100%\">\r\n                    <div class=\"u-spacing--widthFill\">\r\n                        <div class=\"c-labelRowContainer\" ngClass.lt-md=\"lt-md\">\r\n                            <fx-row [fxHide]=\"!isFirst\"\r\n                                                   fxHide.lt-md=\"false\"\r\n                                                   [isLabel]=\"true\"\r\n                                                   [backgroundColorClass]=\"'transparent-background'\">\r\n                                <section col-start\r\n                                         fxFlex=\"auto\">\r\n                                    <mat-label>VIOLATION LOCATION</mat-label>\r\n                                </section>\r\n                            </fx-row>\r\n                        </div>\r\n                        <fx-row [backgroundColorClass]=\"'white-background'\"\r\n                                               [isTop]=\"data.invoiced.violations.length > 1 && isFirst\"\r\n                                               [isBottom]=\"data.invoiced.violations.length > 1 && isLast\"\r\n                                               [isInner]=\"!isFirst && !isLast\">\r\n                            <section translation-skip\r\n                                     col-start\r\n                                     fxFlex=\"auto\">\r\n                                {{violation.location}}\r\n                            </section>\r\n                        </fx-row>\r\n                    </div>\r\n                </section>\r\n\r\n                <!--<section fxFlexOrder=\"0\"\r\n                         fxFlexOrder.lt-md=\"1\"\r\n                         class=\"hidden u-spacing--widthFill\"\r\n                         [ngClass.lt-md]=\"{'hidden': false}\"></section>-->\r\n\r\n\r\n                <section fxFlex=\"0 0 15%\"\r\n                         fxFlex.lt-md=\"0 0 20%\">\r\n                    <div class=\"u-spacing--widthFill\">\r\n                        <div class=\"c-labelRowContainer\" ngClass.lt-md=\"lt-md\">\r\n                            <fx-row [fxHide]=\"!isFirst\"\r\n                                                   fxHide.lt-md=\"false\"\r\n                                                   [isLabel]=\"true\"\r\n                                                   [backgroundColorClass]=\"'transparent-background'\">\r\n                                <section col-end\r\n                                         fxFlex=\"none\"\r\n                                         class=\"u-spacing--widthFill c--textAlignEnd\">\r\n                                    <mat-label>AMOUNT</mat-label>\r\n                                </section>\r\n                            </fx-row>\r\n                        </div>\r\n                        <fx-row [backgroundColorClass]=\"'white-background'\"\r\n                                               [isTop]=\"data.invoiced.violations.length > 1 && isFirst\"\r\n                                               [isBottom]=\"data.invoiced.violations.length > 1 && isLast\"\r\n                                               [isInner]=\"!isFirst && !isLast\">\r\n                            <section col-end\r\n                                     fxFlex=\"none\"\r\n                                     class=\"u-spacing--widthFill c--textAlignEnd\">\r\n                                <div>\r\n                                    <currency\r\n                                              [value]=\"data.invoiced.invoiceDueBeforeDiscount === 0 ? violation.originalTollAmount : violation.tollAmount\">\r\n                                    </currency>\r\n                                </div>\r\n                            </section>\r\n                        </fx-row>\r\n                    </div>\r\n                </section>\r\n            </section>\r\n        </div>\r\n    </section>\r\n    <section id=\"fee-summary\"\r\n             style=\"width: 100%\"\r\n             fxFlexOffset=\"8px\">\r\n        <row-container [rowType]=\"'bodyInvert'\"\r\n                       [isTop]=\"true\">\r\n            <section col-start\r\n                     fxFlex=\"grow\">\r\n                Administrative Fees\r\n            </section>\r\n            <section col-end\r\n                     fxFlex=\"none\">\r\n                <currency [value]=\"data.invoiced.originalAdminFees\"></currency>\r\n            </section>\r\n        </row-container>\r\n        <row-container [rowType]=\"'bodyInvert'\"\r\n                       [isInner]=\"true\">\r\n            <section col-start\r\n                     fxFlex=\"grow\">\r\n                Collections Fees:\r\n            </section>\r\n            <section col-end\r\n                     fxFlex=\"none\">\r\n                <currency [value]=\"data.invoiced.originalCollectionFees\"></currency>\r\n            </section>\r\n        </row-container>\r\n        <row-container [rowType]=\"'bodyInvert'\"\r\n                       [isBottom]=\"true\">\r\n            <section col-start\r\n                     fxFlex=\"grow\">\r\n                Other Fees:\r\n            </section>\r\n            <section col-end\r\n                     fxFlex=\"none\">\r\n                <currency [value]=\"data.invoiced.originalOtherFees\"></currency>\r\n            </section>\r\n        </row-container>\r\n    </section>\r\n    <section id=\"violation-summary\"\r\n             style=\"width: 100%\"\r\n             fxFlexOffset=\"8px\">\r\n        <row-container [rowType]=\"'bodyInvert'\"\r\n                       [isTop]=\"true\">\r\n            <section col-start\r\n                     fxFlex=\"grow\">\r\n                Sub-total Invoice Due:\r\n            </section>\r\n            <section col-end\r\n                     fxFlex=\"none\">\r\n                <currency [value]=\"data.invoiced.originalInvoiceTotal\"></currency>\r\n            </section>\r\n        </row-container>\r\n        <row-container [rowType]=\"'bodyInvert'\"\r\n                       [isInner]=\"true\"\r\n                       *ngIf=\"showAdjustments\">\r\n            <section col-start\r\n                     fxFlex=\"grow\"\r\n                     class=\"green-text\">\r\n                Adjustments:\r\n            </section>\r\n            <section col-end\r\n                     fxFlex=\"none\"\r\n                     class=\"green-text\">\r\n                <currency [value]=\"adjustmentAmt * -1\"></currency>                \r\n            </section>\r\n        </row-container>\r\n        <row-container [rowType]=\"'bodyInvert'\"\r\n                       [isBottom]=\"true\">\r\n            <section col-start\r\n                     fxFlex=\"grow\"\r\n                     class=\"green-text\">\r\n                Amount Already Paid:\r\n            </section>\r\n            <section col-end\r\n                     fxFlex=\"none\"\r\n                     class=\"green-text\">\r\n                <currency [value]=\"data.invoiced.previouslyPaid * -1\"></currency>                \r\n            </section>\r\n        </row-container>\r\n    </section>\r\n    <section id=\"total-amount\"\r\n             style=\"width: 100%; margin-bottom: 40px\"\r\n             fxFlexOffset=\"8px\">\r\n        <row-container [rowType]=\"'bodyInvert'\">\r\n            <section col-start\r\n                     fxFlex=\"grow\">\r\n                <h3>Total Invoice Amount Due: </h3>\r\n            </section>\r\n            <section col-end\r\n                     fxFlex=\"none\">\r\n                <h3><currency [value]=\"data.invoiced.invoiceDueBeforeDiscount\"></currency></h3>\r\n            </section>\r\n        </row-container>\r\n    </section>\r\n</main>\r\n","import { Component, Inject, OnInit } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { CmsImage } from 'common/interfaces';\r\nimport { CmsUtilService } from 'cms/services';\r\n\r\nexport interface CmsContent {\r\n    Title: string;\r\n    PrimaryContent: string;\r\n}\r\n\r\nexport interface CloseImage {\r\n    Image: string;\r\n}\r\n\r\nexport interface InjectionValues {\r\n    cmsContent: CmsContent;\r\n    amountDue: number;\r\n}\r\n\r\n@Component({\r\n    selector: 'overpayment-modal-component',\r\n    templateUrl: './overpaymentModal.html',\r\n    styleUrls: ['./overpaymentModal.less']\r\n})\r\nexport class OverpaymentModalComponent implements OnInit {\r\n\r\n    constructor(\r\n        private dialogRef: MatDialogRef<OverpaymentModalComponent>,\r\n        @Inject(MAT_DIALOG_DATA) private injectedData: InjectionValues\r\n    ) { }\r\n\r\n    public cmsContent: CmsContent;\r\n    public primaryContentParams = {};\r\n\r\n    ngOnInit() {\r\n        this.cmsContent = this.injectedData.cmsContent;\r\n        this.primaryContentParams = { amountDue: this.injectedData.amountDue };\r\n    }\r\n\r\n    public close() {\r\n        this.dialogRef.close();\r\n    }\r\n\r\n}\r\n","<main id=\"modal-popup\" class=\"refresh-2020\" style=\"position:relative\">\r\n\r\n    <section fxLayout=\"column\"\r\n             class=\"overpayment-modal\"\r\n             style=\"padding-top:32px;\"\r\n             [ngStyle.lt-md]=\"{'width' : '100%', 'padding-top' : '45px'}\"\r\n             [ngStyle]=\"{'min-width' : '700px', 'max-width' : '700px', 'padding-top' : '32px'}\">\r\n\r\n        <div fxLayout=\"column\"\r\n             fxLayoutAlign=\"center center\"\r\n             style=\"width:100%; max-width:700px; text-align:center;\">\r\n\r\n            <header fxLayout=\"column\"\r\n                    fxLayoutAlign=\"center center\"\r\n                    [ngStyle.lt-md]=\"{'width' : '100%'}\"\r\n                    [ngStyle]=\"{'max-width' : '700px'}\">\r\n\r\n\r\n                <h2>{{cmsContent.Title}}</h2>\r\n                <mat-divider></mat-divider>\r\n\r\n            </header>\r\n\r\n        </div>\r\n\r\n        <div fxLayout=\"row\"\r\n             fxLayoutAlign=\"center center\"\r\n             style=\"padding-top:20.5px; text-align:center; \">\r\n\r\n            <cms-content [template]=\"cmsContent.PrimaryContent\" [data]=\"primaryContentParams\"></cms-content>\r\n\r\n        </div>\r\n\r\n        <div fxLayout=\"row\"\r\n             fxLayoutAlign=\"center center\"\r\n             style=\"padding-top:33px;\">\r\n\r\n            <button id=\"close\"\r\n                    [ngStyle.lt-md]=\"{'width' : '100%', 'padding-left' : '32px', 'padding-right' : '32px'}\"\r\n                    [ngStyle]=\"{'width' : 'auto'}\"\r\n                    type=\"button\"\r\n                    (click)=\"close();\">\r\n                CLOSE\r\n            </button>\r\n\r\n        </div>\r\n\r\n    </section>\r\n\r\n</main>\r\n","import {\r\n    Component, Input\r\n} from '@angular/core';\r\n\r\nimport { ViolationPlate } from 'violations/interfaces';\r\n\r\n@Component({\r\n    selector: 'violations-plate-row-refresh',\r\n    templateUrl: './plate.html',\r\n    styleUrls: ['./plate.less']\r\n})\r\nexport class PlateRowComponent {\r\n\r\n    constructor() { }\r\n\r\n    @Input() plate: ViolationPlate;\r\n    @Input() noDiscount: boolean;\r\n\r\n}\r\n","<fx-row [isLabel]=\"true\"\r\n                       [backgroundColorClass]=\"'transparent-background'\">\r\n    <section col-start\r\n             class=\"fx-flex-auto fx-layout-row fx-layout-align-start-center\">\r\n        <mat-label class=\"fx-flex-auto-shrink-more limited-flex\">PLATE</mat-label>\r\n    </section>\r\n    <section col-end\r\n             class=\"fx-flex-none fx-layout-row fx-layout-align-end-center\">\r\n        <mat-label class=\"fx-flex-auto limited-flex-end\">AMOUNT</mat-label>\r\n    </section>\r\n</fx-row>\r\n<row-container [rowType]=\"'semi-emphasis'\"\r\n               [isTop]=\"true\"\r\n               [isBig]=\"true\">\r\n    <section translation-skip col-start\r\n             fxFlex=\"grow\">\r\n        {{plate.licenseState}} {{plate.licensePlate}}\r\n    </section>\r\n    <section *ngIf=\"plate.totalPaymentAmount !== 0\"\r\n             col-end\r\n             fxFlex=\"none\"\r\n             class=\"totalAmountValue\">\r\n        <currency [value]=\"plate.plateDueBeforeDiscount\"></currency>\r\n    </section>\r\n</row-container>\r\n","import {\r\n    Component, Input, Output, OnInit, OnChanges,\r\n    EventEmitter, SimpleChanges\r\n} from '@angular/core';\r\n\r\nimport { DialogService, DialogContent } from 'common/services';\r\nimport { Selectable, InputFieldMetadata } from '../';\r\nimport { Violation } from 'violations/interfaces';\r\nimport { UninvoicedDetailsModalComponent, InjectionValues } from 'missedatoll/details/uninvoiced/uninvoicedDetailsModal.component';\r\nimport { ViolationDataEntry } from 'missedatoll/interfaces';\r\n\r\n@Component({\r\n    selector: 'violations-uninvoiced-row',\r\n    templateUrl: './uninvoiced.html',\r\n    styleUrls: ['./uninvoiced.less']\r\n})\r\nexport class ViolationsUnInvoicedComponent implements OnInit, OnChanges {\r\n\r\n    constructor(private dialogService: DialogService) { }\r\n\r\n    @Input() uninvoiced: Violation & Selectable;\r\n    @Input() isEditAllowed: boolean;\r\n    @Input() isLast: boolean;\r\n    @Input() isChecked: boolean;\r\n    @Output() selectionChange = new EventEmitter();\r\n    @Output() paymentAmountChange = new EventEmitter();\r\n    public paymentAmountString: string;\r\n    public checkboxMetadata: InputFieldMetadata;\r\n    public inputMetadata: InputFieldMetadata;\r\n    public areDetailsCollapsed: boolean;\r\n\r\n    checkBoxChange() {\r\n        this.uninvoiced.checked = this.isChecked;\r\n        this.selectionChange.emit();\r\n\r\n        this.uninvoiced.paymentAmount = this.isChecked ? this.uninvoiced.tollAmount : 0;\r\n        this.paymentAmountChange.emit();\r\n\r\n        this.paymentAmountString = '$' + this.uninvoiced.paymentAmount.toFixed(2);\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.areDetailsCollapsed = true;\r\n\r\n        const metaData = (prefix: string) => ({\r\n            id: `${prefix.toLowerCase()}violation${this.uninvoiced.violationId}`,\r\n            description: `${prefix} for Violation ${this.uninvoiced.violationId}`\r\n        });\r\n\r\n        this.checkboxMetadata = metaData('Checkbox');\r\n        this.inputMetadata = metaData('Input');\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n        if (changes.isChecked) {\r\n            if (changes.isChecked.currentValue && this.uninvoiced.checked) {\r\n                // When the invoiced component is reloaded from pagination\r\n                this.paymentAmountString = '$' + this.uninvoiced.paymentAmount.toFixed(2);\r\n            } else {\r\n                this.checkBoxChange();\r\n            }\r\n        }\r\n    }\r\n\r\n    public openTollDetailsModal() {\r\n        const uninvoicedData = {\r\n            agencyCode: this.uninvoiced.agencyName,\r\n            amountDue: this.uninvoiced.tollAmount,\r\n            location: this.uninvoiced.location,\r\n            violationDate: this.uninvoiced.violationDate,\r\n            violationNumber: this.uninvoiced.violationId.toString()\r\n        } as ViolationDataEntry;\r\n\r\n        this.dialogService.openSliderFilled(UninvoicedDetailsModalComponent,\r\n            { uninvoicedDetails: uninvoicedData } as InjectionValues,\r\n            { title: 'Invoice Details' } as DialogContent);\r\n    }\r\n}\r\n","<main>\r\n    <fx-row [isInner]=\"!isLast\"\r\n                           [isBottom]=\"isLast\">\r\n\r\n        <section col-start\r\n                 class=\"fx-flex-auto fx-layout-row fx-layout-align-start-center\">\r\n            <div class=\"fx-flex-auto-shrink-more limited-flex\">\r\n                <a class=\"fx-layout-row fx-layout-align-start-center u--noUnderline clickable\"\r\n                   (click)=\"openTollDetailsModal()\">\r\n                    <div translation-skip class=\"fx-flex-none violationId--width\">{{uninvoiced.violationId}}</div>\r\n                    <div class=\"fx-flex-none glyphicon glyphicon-chevron-right\"></div>\r\n                </a>\r\n            </div>\r\n            <div fxShow\r\n                 fxHide.lt-md\r\n                 class=\"fx-flex-auto-shrink-more limited-flex\">\r\n            </div>\r\n            <div fxShow\r\n                 fxHide.lt-md\r\n                 class=\"fx-flex-auto-shrink-more limited-flex\">\r\n            </div>\r\n            <div translation-skip\r\n                 fxShow\r\n                 fxHide.lt-md\r\n                 class=\"fx-flex-auto-grow-more unlimited-flex\">\r\n                {{uninvoiced.agencyName}}\r\n            </div>\r\n        </section>\r\n\r\n        <section col-end\r\n                 class=\"fx-flex-none fx-layout-row fx-layout-align-end-center\"\r\n                 style=\"width: 160px\">\r\n            <div *ngIf=\"isEditAllowed && uninvoiced.checked;else amountDue\"\r\n                 class=\"fx-flex-auto unlimited-flex-end\"\r\n                 col-amount>\r\n                <label translation-skip [for]=\"inputMetadata.id\" class=\"sr-only\">{{inputMetadata.description}}</label>\r\n                <input type=\"text\"\r\n                       [id]=\"inputMetadata.id\"\r\n                       readonly\r\n                       (click)=\"$event.stopPropagation()\"\r\n                       [ngModel]=\"paymentAmountString\"\r\n                       col-amount/>\r\n            </div>\r\n            <ng-template #amountDue>\r\n                <div class=\"fx-flex-auto limited-flex-end\"><currency [value]=\"uninvoiced.tollAmount\"></currency></div>\r\n            </ng-template>\r\n            <div *ngIf=\"isEditAllowed\"\r\n                 class=\"fx-layout-row fx-layout-align-end-center unlimited-flex-end\">\r\n                <label translation-skip [for]=\"checkboxMetadata.id\" class=\"sr-only\">{{checkboxMetadata.description}}</label>\r\n                <input type=\"checkbox\"\r\n                       [id]=\"checkboxMetadata.id\"\r\n                       [(ngModel)]=\"isChecked\"\r\n                       (change)=\"checkBoxChange()\"\r\n                       (click)=\"$event.stopPropagation()\"/>\r\n            </div>\r\n        </section>\r\n    </fx-row>\r\n</main>\r\n","import {\r\n    Component, Input, OnInit\r\n} from '@angular/core';\r\n\r\n\r\nimport { SelectableViolationPlate, Violation, ViolationInvoice } from 'violations/interfaces';\r\nimport { InvoiceOverPaymentCmsData } from '../detailsRefresh';\r\n\r\nexport interface Selectable {\r\n    checked: boolean;\r\n}\r\n\r\nexport interface InputFieldMetadata {\r\n    id: string;\r\n    description: string;\r\n}\r\n\r\n@Component({\r\n    selector: 'violations-details-rows-refresh',\r\n    templateUrl: './violationsDetails.html',\r\n    styleUrls: ['./violationsDetails.less']\r\n})\r\nexport class ViolationsDetailsComponent implements OnInit {\r\n\r\n    constructor() { }\r\n\r\n    @Input() totalDescription: string;\r\n    @Input() plate: SelectableViolationPlate;\r\n    @Input() paginatedPlate: SelectableViolationPlate;\r\n    @Input() isEditAllowed: boolean;\r\n    @Input() arePlatesExpanded: boolean;\r\n    @Input() cmsData: InvoiceOverPaymentCmsData;\r\n    @Input() caoToolTipCms: string;\r\n    public areAllSelected: boolean;\r\n    public total: number;\r\n    public checkboxMetadata: InputFieldMetadata;\r\n\r\n    public get plateHasInvoicedViolations() {\r\n        return !!this.paginatedPlate.invoices && this.paginatedPlate.invoices.length > 0;\r\n    }\r\n\r\n    computeSelectAll() {\r\n        this.areAllSelected = this.isEveryChildSelected();\r\n    }\r\n\r\n    computePaymentAmount() {\r\n        this.computeTotals();\r\n\r\n        this.total = this.plate.totalSelected;\r\n    }\r\n\r\n    private computeTotals() {\r\n\r\n        const sumPartials = (list) => list\r\n            .map(x => x.paymentAmount || 0)\r\n            .reduce((a, b) => a + b, 0);\r\n\r\n        this.plate.totalSelected = sumPartials(this.plate.invoices) + sumPartials(this.plate.uninvoicedViolations);\r\n        this.plate.remainingBalance = this.plate.plateDueBeforeDiscount - this.plate.totalSelected;\r\n    }\r\n\r\n    changeSelectAll() {\r\n\r\n        if (this.isEveryChildSelected() !== this.areAllSelected) {\r\n            this.applyCheckEventToAll();\r\n        }\r\n\r\n    }\r\n\r\n    private applyCheckEventToAll() {\r\n        this.plate.checked = this.areAllSelected;\r\n\r\n        (this.plate as SelectableViolationPlate).invoices.forEach(\r\n            item => this.setPaymentAmountAndChecked(item, item.invoiceDueBeforeDiscount, 0));\r\n        (this.plate as SelectableViolationPlate).uninvoicedViolations.forEach(\r\n            item => this.setPaymentAmountAndChecked(item, item.tollAmount, 0));\r\n\r\n        this.computePaymentAmount();\r\n    }\r\n\r\n    private setPaymentAmountAndChecked(item: (Violation | ViolationInvoice) & Selectable,\r\n        checkedDefaultAmount: number,\r\n        notCheckedDefaultAmount: number) {\r\n\r\n        if (!item.checked && this.areAllSelected) {\r\n            item.paymentAmount = checkedDefaultAmount;\r\n        } else if (item.checked && !this.areAllSelected) {\r\n            item.paymentAmount = notCheckedDefaultAmount;\r\n        }\r\n\r\n        item.checked = this.areAllSelected;\r\n    };\r\n\r\n    private isEveryChildSelected() {\r\n        const isChecked = (x: Selectable): boolean => x.checked;\r\n\r\n        const allInvoicesSelected = this.plate.invoices.every(isChecked);\r\n        const allUninvoicedViolationsSelected = this.plate.uninvoicedViolations.every(isChecked);\r\n\r\n        return allInvoicesSelected && allUninvoicedViolationsSelected;\r\n    }\r\n\r\n    //This is for backwards compatibility. Once we get rid of the CAF Toggle we can remove this\r\n    public isInvoice(violation: ViolationInvoice | Violation): boolean {\r\n        return violation.isInvoice || Array.isArray((violation as ViolationInvoice).violations); \r\n    }\r\n\r\n    ngOnInit() {\r\n        this.computeTotals();\r\n        this.checkboxMetadata = {\r\n            id: 'checkboxSelectAll',\r\n            description: 'Checkbox for Selecting All'\r\n        };\r\n        this.total = this.isEditAllowed\r\n            ? 0\r\n            : this.plate.plateDueBeforeDiscount;\r\n    }\r\n}\r\n","<main>\r\n    <fx-row [isLabel]=\"true\"\r\n                           [backgroundColorClass]=\"'transparent-background'\">\r\n        <section col-start\r\n                 class=\"fx-flex-auto fx-layout-row fx-layout-align-start-center\">\r\n            <mat-label class=\"fx-flex-auto-shrink-more limited-flex\">INVOICE/VIOLATIONS ID</mat-label>\r\n            <mat-label class=\"fx-flex-auto-shrink-more limited-flex\"\r\n                       [ngClass.lt-md]=\"{'hidden': true}\">INVOICE DATE</mat-label>\r\n            <mat-label class=\"fx-flex-auto-shrink-more limited-flex\"\r\n                       [ngClass.lt-md]=\"{'hidden': true}\">DUE DATE</mat-label>\r\n            <mat-label class=\"fx-flex-auto-grow-more unlimited-flex\"\r\n                       [ngClass.lt-md]=\"{'hidden': true}\">AGENCY</mat-label>\r\n        </section>\r\n        <section col-end\r\n                 class=\"fx-flex-none fx-layout-row fx-layout-align-end-center\"\r\n                 style=\"width: 160px\">\r\n            <mat-label class=\"fx-flex-auto limited-flex-end\">AMOUNT</mat-label>\r\n            <div class=\"fx-layout-column fx-layout-align-end-start unlimited-flex-end\"\r\n                 *ngIf=\"isEditAllowed\">\r\n                <mat-label class=\"pay-label\">PAY</mat-label>\r\n                <input type=\"checkbox\"\r\n                       [(ngModel)]=\"areAllSelected\"\r\n                       (change)=\"changeSelectAll()\" />\r\n            </div>\r\n        </section>\r\n    </fx-row>\r\n    <div *ngFor=\"let violation of paginatedPlate.invoicesAndViolations; first as isFirst; last as isLast\" class=\"violations-plate-row\">\r\n        <div [ngClass]=\"{'table-space': !isFirst}\"\r\n             [ngClass.lt-md]=\"{'table-space': !isFirst, 'lt-md': true}\">\r\n            <violations-invoiced-row *ngIf=\"isInvoice(violation)\"\r\n                                     [cmsData]=\"cmsData\"\r\n                                     [caoToolTipCms]=\"caoToolTipCms\"\r\n                                     [plate]=\"{ state: paginatedPlate.licenseState, number: paginatedPlate.licensePlate }\"\r\n                                     (selectionChange)=\"computeSelectAll()\"\r\n                                     (paymentAmountChange)=\"computePaymentAmount()\"\r\n                                     [invoiced]=\"violation\"\r\n                                     [isEditAllowed]=\"isEditAllowed\"\r\n                                     [isLast]=\"isLast\"\r\n                                     [isChecked]=\"violation.checked\">\r\n            </violations-invoiced-row>\r\n            <violations-uninvoiced-row *ngIf=\"!isInvoice(violation)\"\r\n                                       (selectionChange)=\"computeSelectAll()\"\r\n                                       (paymentAmountChange)=\"computePaymentAmount()\"\r\n                                       [uninvoiced]=\"violation\"\r\n                                       [isEditAllowed]=\"isEditAllowed\"\r\n                                       [isLast]=\"isLast\"\r\n                                       [isChecked]=\"violation.checked\">\r\n            </violations-uninvoiced-row>\r\n        </div>\r\n    </div>\r\n    <ng-content></ng-content>\r\n\r\n    <div class=\"table-space\"\r\n         [ngClass.lt-md]=\"{'lt-md': true}\">\r\n        <row-container [rowType]=\"'emphasis'\"\r\n                       [isBig]=\"true\">\r\n            <section col-start\r\n                     fxFlex=\"grow\"\r\n                     style=\"font-weight: 700\">\r\n                {{(isEditAllowed) ? 'Selected Payment Amount' : 'Original Amount Due'}}\r\n            </section>\r\n            <section col-end\r\n                     fxFlex=\"none\"\r\n                     class=\"totalAmountValue\"\r\n                     style=\"font-weight: 700\">\r\n                <currency [value]=\"isEditAllowed ? paginatedPlate.totalSelected : paginatedPlate.plateDueBeforeDiscount\"></currency>                \r\n            </section>\r\n        </row-container>\r\n    </div>\r\n</main>\r\n","import {\r\n    Component, Inject, Input, OnInit\r\n} from '@angular/core';\r\nimport { StateService, UIRouterGlobals } from '@uirouter/angular';\r\nimport { WindowRef } from 'common/providers';\r\nimport { wait } from 'common/utilities';\r\n\r\nimport { ViolationPlateContainer } from 'violations/interfaces';\r\nimport { WebStorageConst } from 'constants/module';\r\nimport { StateNames as ViolationStates } from 'violations/constants';\r\nimport { hideTrigger } from 'animations/hide';\r\nimport { StepperStep } from 'common/ui';\r\nimport { WebStorageService } from '../../common/services/webStorageService/webStorage.service';\r\n\r\n\r\ninterface FrameCmsData {\r\n    Step1: string;\r\n    Step2: string;\r\n    Step3: string;\r\n    Step4: string;\r\n}\r\n\r\n\r\n@Component({\r\n    selector: 'violations-frame-component',\r\n    templateUrl: './frame.html',\r\n    styleUrls: ['./frame.less'],\r\n    animations: [hideTrigger]\r\n})\r\nexport class FrameComponent implements OnInit {\r\n\r\n    constructor(\r\n        private uiRouterGlobals: UIRouterGlobals,\r\n        private webStorageConst: WebStorageConst,\r\n        private violationStates: ViolationStates,\r\n        @Inject(WindowRef) private windowRef: Window,\r\n        private webStorage: WebStorageService,\r\n        private stateService: StateService\r\n    ) { }\r\n\r\n    private readonly emptyPlate: ViolationPlateContainer = {\r\n        plate: {\r\n            licensePlate: '',\r\n            licenseState: '',\r\n            discountProgramCode: 0,\r\n            uninvoicedViolations: [],\r\n            invoices: []\r\n        }\r\n    } as any;\r\n\r\n    @Input() cms: FrameCmsData;\r\n    @Input() public stateList: { stateCode: string }[];\r\n    @Input() public countryList: { countryCode: string; displayName: string }[];\r\n    public steps: StepperStep[] = [];\r\n    public stepNum = 0;\r\n    public isHidden: boolean;\r\n\r\n    ngOnInit() {\r\n        this.steps = [\r\n            { name: this.cms.Step1, background: 'primary' },\r\n            { name: this.cms.Step2, background: 'secondary' },\r\n            { name: this.cms.Step3, background: 'secondary' },\r\n            { name: this.cms.Step4 }\r\n        ];\r\n    }\r\n\r\n    public async scrollToTop() {\r\n        this.isHidden = true;\r\n\r\n        await wait(20);\r\n        this.windowRef.scrollTo(0, 0);\r\n\r\n        this.isHidden = false;\r\n    }\r\n\r\n    public get currentData() {\r\n        return this.uiRouterGlobals.current?.data || {};\r\n    }\r\n\r\n    public setTitle(title: string) {\r\n        this.uiRouterGlobals.current.data.title = title;\r\n    }\r\n\r\n    public getPlateContainer(): ViolationPlateContainer {\r\n        const plateContainer = this.webStorage.getValue(this.webStorageConst.enhancedViolationsPlateAndInvoiceData);\r\n\r\n        if (!plateContainer) {\r\n            this.stateService.go(this.violationStates.Landing);\r\n            return this.emptyPlate;\r\n        }\r\n\r\n        return plateContainer;\r\n    }\r\n}\r\n","<main class=\"refresh-2020\">\r\n    <title-banner>\r\n        {{currentData.title}}\r\n    </title-banner>\r\n\r\n    <stepper [steps]=\"steps\"\r\n             [currentStepNum]=\"stepNum\"></stepper>\r\n\r\n    <div [@hide]=\"isHidden\">\r\n        <ui-view></ui-view>\r\n    </div>\r\n</main>\r\n","import { Component, Inject, Input, OnInit } from '@angular/core';\r\nimport { PageEvent } from '@angular/material/paginator';\r\nimport { StateOrName, StateService, UIRouterGlobals } from '@uirouter/angular';\r\nimport { stateNames as cavveStates } from 'cavve/constants';\r\nimport { DialogContent, DialogService, ToasterService } from 'common/services';\r\nimport { ENVIRON_CONFIG } from 'common/upgrades';\r\nimport { WebStorageConst } from 'constants/module';\r\nimport { clone, isNil } from 'lodash';\r\nimport {\r\n    CmsContent as OverpaymentModalCmsContent\r\n} from 'violations/detailsRefresh/invoiced/overpaymentModal/overpaymentModal.component';\r\nimport { FrameComponent } from 'violations/frame/frame.component';\r\nimport {\r\n    AgencyInformation, Violation, ViolationInvoice, ViolationPlate,\r\n    ViolationPlateContainer\r\n} from 'violations/interfaces';\r\nimport { PdfUrlService } from 'violationsCommon/services/pdfUrl.service';\r\nimport { WebApisService } from 'violationsCommon/services/webapi/webApis.service';\r\nimport { WebStorageService } from '../../common/services/webStorageService/webStorage.service';\r\nimport { InvoiceOverPaymentCmsData } from '../detailsRefresh';\r\nimport { PrevPaidInvoicesComponent, PrevPaidInvoicesData } from './prevPaidInvoicesModal/prevPaidInvoicesModal.component';\r\n\r\n\r\ninterface CmsChild {\r\n    DISCOUNT_ENUM: string;\r\n    DISCOUNT_STRING: string;\r\n    ItemName: string;\r\n}\r\n\r\ninterface GridDiscountCmsData extends CmsChild {\r\n    ItemName: string;\r\n    Title: string;\r\n    LongDescription: string;\r\n    ShortDescription: string;\r\n    SUMMARY_HEADER: string;\r\n    DISCOUNT_INVOICE_HEADER: string;\r\n    DISCOUNT_VIOLATIONS_HEADER: string;\r\n    DISCOUNT_OUTSTANDING_HEADER: string;\r\n    IMPORTANT_REMINDER: string;\r\n    Children?: any;\r\n    PAYMENT_SUMMARY_INFO?: string;\r\n\r\n}\r\n\r\ninterface SummaryCmsData extends CmsChild {\r\n    ShortDescription: string;\r\n    LongDescription: string;\r\n    SUMMARY_HEADER: string;\r\n    LABEL_ORIGINAL_DUE: string;\r\n    LABEL_SELECTED: string;\r\n    LABEL_REMAINING: string;\r\n}\r\n\r\ninterface PrevPaidCmsData extends CmsChild {\r\n    ShortDescription: string;\r\n    LongDescription: string;\r\n    SUMMARY_HEADER: string;\r\n    LABEL_REMAINING_BALANCE: string;\r\n    LABEL_TOTAL_PAYMENT: string;\r\n    NO_INVOICES: string;\r\n    HEADER: string;\r\n}\r\n\r\ninterface GridPageCmsData extends InvoiceOverPaymentCmsData {\r\n    Title: string;\r\n    LongDescription: string;\r\n    ShortDescription: string;\r\n    LABEL_ORIGINAL_DUE: string;\r\n    LABEL_DISCOUNT: string;\r\n    LABEL_ADMIN_FEE: string;\r\n    LABEL_TOTAL_DUE: string;\r\n    TOAST_NO_INVOICES_SELECTED: string;\r\n    PREVIOUSLY_PAID_HEADER: string;\r\n    NO_DISCOUNT_HEADER: string;\r\n    NO_DISCOUNT_INVOICE_HEADER: string;\r\n    CAO_FEE_INFO: string;\r\n    CAO_TOOL_TIP: string;\r\n    LABEL_REMAINING_BALANCE: string;\r\n    LABEL_TOTAL_PAYMENT: string;\r\n    Children: (GridDiscountCmsData | SummaryCmsData | PrevPaidCmsData)[];\r\n    CAF_TOOL_TIP_TITLE: string;\r\n}\r\n\r\n@Component({\r\n    selector: 'violations-grid-component',\r\n    templateUrl: './grid.html',\r\n    styleUrls: ['./grid.less'],\r\n    providers: [{ provide: PdfUrlService, useExisting: WebApisService }]\r\n})\r\nexport class GridComponent implements OnInit {\r\n\r\n    constructor(\r\n        private parent: FrameComponent,\r\n        private state: StateService,\r\n        private webStorageConst: WebStorageConst,\r\n        private uiRouterGlobals: UIRouterGlobals,\r\n        private webStorage: WebStorageService,\r\n        private dialogService: DialogService,\r\n        @Inject(ENVIRON_CONFIG) private environmentConfig,\r\n        private toasterService: ToasterService\r\n    ) { }\r\n\r\n    @Input() cmsData: GridPageCmsData;\r\n\r\n    // CAF Feature Toggle. This is used in HTML file as well.\r\n    @Input() discountPerAgencyAvailable: boolean;\r\n\r\n\r\n    //Pagination\r\n    public paginatedPlate: ViolationPlate = { invoices: [], uninvoicedViolations: [], invoicesAndViolations: [] } as ViolationPlate;\r\n    public mobileLoadedPlate: ViolationPlate = { invoices: [], uninvoicedViolations: [], invoicesAndViolations: [] } as ViolationPlate;\r\n    public get mobileLoadedCombinedViolationsArrayLength() {\r\n        // Used for length comparison in HTML\r\n        return this.mobileLoadedPlate.invoices.length + this.mobileLoadedPlate.uninvoicedViolations.length;\r\n    }\r\n    public readonly defaultPageSize = this.environmentConfig.paginationConfig.violations.PageSize;\r\n    public readonly paginationLimit = this.environmentConfig.paginationConfig.violations.LimitToStart;\r\n\r\n    public discountArray: string[] = [];\r\n\r\n    public overpaymentModalCmsContent: OverpaymentModalCmsContent;\r\n    public plateContainer: ViolationPlateContainer;\r\n    public discountCmsData: GridDiscountCmsData = {} as GridDiscountCmsData;\r\n    public noDiscountCmsData: SummaryCmsData = {} as SummaryCmsData;\r\n    public prevPaidCmsData: PrevPaidCmsData = {} as PrevPaidCmsData;\r\n    public showDiscountPage: boolean;\r\n    public wizardBackLabel: string;\r\n    public noDiscountWizardBackLabel: string;\r\n    public previouslyPaidPlate: ViolationPlate;\r\n    public showPreviouslyPaidPlate: boolean;\r\n    public hasOutstandingViolations: boolean;\r\n    public selectedAgenciesToPay: AgencyInformation[];\r\n    public unpaidAgencies: AgencyInformation[];\r\n\r\n    public cms = {\r\n        discountTop: {\r\n            text: '',\r\n            invoiceHeader: '',\r\n            invoiceHeaderDescription: '',\r\n            selectHeader: '',\r\n            selectHeaderDescription: '',\r\n            summary: '',\r\n            importantReminderHeader: '',\r\n            importantReminder: '',\r\n            data: {}\r\n        },\r\n        noDiscountTop: {\r\n            plateHeader: '',\r\n            plateHeaderDescription: '',\r\n            outstandingViolationsHeader: '',\r\n            outstandingViolationsHeaderDescription: '',\r\n            data: {}\r\n        }\r\n    };\r\n\r\n    private getPreviouslyPaidPlate = (plate: ViolationPlate): ViolationPlate => ({\r\n        ...plate,\r\n        invoices: plate.previouslyPaidInvoices,\r\n        uninvoicedViolations: [],\r\n        plateDueBeforeDiscount: 0\r\n    });\r\n\r\n    private hasViewableContent = (plate: ViolationPlate): boolean => (plate.invoices.length + plate.uninvoicedViolations.length) > 0;\r\n\r\n    private getShowDiscountPage = (discountCmsData: boolean, hasOutstandingViolations: boolean, partialPayments: boolean) =>\r\n        discountCmsData && hasOutstandingViolations && !partialPayments;\r\n\r\n    private getCurrentStep = (hasOutstandingViolations: boolean): number => hasOutstandingViolations ? 1 : 0;\r\n\r\n\r\n    private recalculatePlateContainerValues() {\r\n        this.plateContainer.plate.totalSelected =\r\n            this.selectedAgenciesToPay.reduce((sum, current) => sum + current.totalDueAfterDiscount, 0);\r\n        this.plateContainer.plate.totalFeesDiscounted = this.selectedAgenciesToPay.reduce((sum, current) => sum + current.discountTotal, 0);\r\n        this.plateContainer.remainingBalance =\r\n            this.plateContainer.plate.agencies.reduce((sum, current) => sum + current.totalDueBeforeDiscount, 0)\r\n            - this.selectedAgenciesToPay.reduce((sum, current) => sum + current.totalDueBeforeDiscount, 0);\r\n    }\r\n\r\n    selectSingleAgencyToPay(event: any) {\r\n        if (event.target.checked) {\r\n            this.selectedAgenciesToPay.push(\r\n                this.plateContainer.plate.agencies.find(x => x.agencyName.toLowerCase() === event.target.value.toLowerCase())\r\n            );\r\n\r\n            //if all checkboxes are checked, check the \"select all\" checkbox.\r\n            if (this.selectedAgenciesToPay.length === this.unpaidAgencies.length) {\r\n                (document.getElementById('selectPayAllAgenciesCheckbox') as any).checked = true;\r\n            }\r\n\r\n        } else {\r\n            this.selectedAgenciesToPay = this.selectedAgenciesToPay.filter(\r\n                obj => obj.agencyName.toLowerCase() !== event.target.value.toLowerCase()\r\n            );\r\n\r\n            (document.getElementById('selectPayAllAgenciesCheckbox') as any).checked = false;\r\n        }\r\n\r\n        this.recalculatePlateContainerValues();\r\n    }\r\n\r\n    selectAllCheckboxes(event: any) {\r\n        const checked = event.target.checked;\r\n        this.unpaidAgencies.forEach(agency => {\r\n            ((agency as any).isChecked = checked);\r\n            ((document.getElementById(`selectPayAgency${agency.agencyName}Checkbox`) as any).checked) = checked;\r\n        });\r\n\r\n        //This removes all agencies currently in the array so that there are no duplicates (added twice)\r\n        //use case: if user selected an agency before clicking \"select all\" -- this will cause duplicates of selected agencies\r\n        while (this.selectedAgenciesToPay.length !== 0) {\r\n            this.selectedAgenciesToPay.pop();\r\n        }\r\n\r\n        if (event.target.checked) {\r\n            this.unpaidAgencies.forEach(agency => this.selectedAgenciesToPay.push(agency));\r\n        }\r\n\r\n        this.recalculatePlateContainerValues();\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.selectedAgenciesToPay = [];\r\n        this.plateContainer = this.parent.getPlateContainer();\r\n        //The if else can be removed once we cleanup the CAF feature toggle\r\n        if (this.plateContainer.plate.invoicesAndViolations) {\r\n            //This is to sync the object references\r\n            this.plateContainer.plate.invoices = this.plateContainer.plate.invoicesAndViolations.filter(violation =>\r\n                Array.isArray((violation as ViolationInvoice).violations)) as ViolationInvoice[];\r\n            this.plateContainer.plate.uninvoicedViolations = this.plateContainer.plate.invoicesAndViolations.filter(violation =>\r\n                !Array.isArray((violation as ViolationInvoice).violations)) as Violation[];\r\n        } else {\r\n            this.plateContainer.plate.invoicesAndViolations =\r\n                [].concat(this.plateContainer.plate.invoices,\r\n                    this.plateContainer.plate.uninvoicedViolations)\r\n                    .filter(vio => !isNil(vio));\r\n        }\r\n        let discountStringArray = [];\r\n\r\n        if (this.discountPerAgencyAvailable) {\r\n            this.plateContainer.plate.agencies.forEach((agency) => {\r\n                (agency as any).isChecked = false;\r\n                //This is for the backwards flow as a way to reset\r\n                agency.paymentAmount = 0;\r\n            });\r\n            this.recalculatePlateContainerValues();\r\n            this.unpaidAgencies = this.plateContainer.plate.agencies.filter(x => x.totalDueBeforeDiscount !== 0);\r\n            discountStringArray = [...new Set(this.plateContainer.plate.agencies.map(item => item.discountProgram))];\r\n            discountStringArray = discountStringArray.filter(x => !isNil(x));\r\n        }\r\n\r\n        this.previouslyPaidPlate = this.getPreviouslyPaidPlate(this.plateContainer.plate);\r\n\r\n        this.showPreviouslyPaidPlate = this.hasViewableContent(this.previouslyPaidPlate);\r\n        this.hasOutstandingViolations = this.hasViewableContent(this.plateContainer.plate);//set to false to view previously paid only\r\n        this.uiRouterGlobals.current.data.currentStep = this.getCurrentStep(this.hasOutstandingViolations);\r\n        this.parent.stepNum = this.uiRouterGlobals.current.data.currentStep;\r\n\r\n        this.discountCmsData = this.cmsData.Children\r\n            .filter(child =>\r\n                this.plateContainer\r\n                    .plate\r\n                    .discountProgramCode\r\n                    .toString() === child.DISCOUNT_ENUM)[0] as GridDiscountCmsData;\r\n\r\n        if (this.discountPerAgencyAvailable && discountStringArray.length > 0 && this.plateContainer.plate.discountProgramCode === 0) {\r\n            this.discountCmsData = this.cmsData.Children\r\n                .filter(child => discountStringArray[0] === child.DISCOUNT_STRING)[0] as GridDiscountCmsData;\r\n        }\r\n\r\n        this.setSummaryArray(discountStringArray);\r\n\r\n        this.noDiscountCmsData = (this.cmsData.Children\r\n            .filter(child => 'Summary' === child.ItemName)[0] || {}) as SummaryCmsData;\r\n        this.prevPaidCmsData = (this.cmsData.Children\r\n            .filter(child => 'Previously Paid' === child.ItemName)[0] || {}) as PrevPaidCmsData;\r\n        if (this.discountCmsData) {\r\n            this.discountCmsData.PAYMENT_SUMMARY_INFO = this.noDiscountCmsData.LongDescription || '';\r\n        }\r\n\r\n        this.showDiscountPage = this.getShowDiscountPage(\r\n            !!this.discountCmsData,\r\n            this.hasOutstandingViolations,\r\n            this.plateContainer.partialPayments);\r\n\r\n        this.cms.noDiscountTop.plateHeader = this.cmsData.NO_DISCOUNT_HEADER;\r\n        this.cms.noDiscountTop.plateHeaderDescription = this.cmsData.ShortDescription;\r\n        this.cms.noDiscountTop.outstandingViolationsHeaderDescription = this.cmsData.LongDescription;\r\n        this.cms.noDiscountTop.outstandingViolationsHeader = this.cmsData.NO_DISCOUNT_INVOICE_HEADER;\r\n        this.cms.discountTop.text = this.discountCmsData && this.discountCmsData.LongDescription;\r\n        this.cms.discountTop.summary = this.discountCmsData &&\r\n            this.discountCmsData.Children.filter(child => 'Summary' === child.ItemName)[0].ShortDescription || '';\r\n        this.cms.discountTop.invoiceHeader = this.discountCmsData && this.discountCmsData.DISCOUNT_INVOICE_HEADER;\r\n        this.cms.discountTop.invoiceHeaderDescription = this.discountCmsData && this.discountCmsData.ShortDescription;\r\n        this.cms.discountTop.selectHeader = this.discountCmsData && this.discountCmsData.DISCOUNT_VIOLATIONS_HEADER;\r\n        this.cms.discountTop.selectHeaderDescription = this.discountCmsData && this.discountCmsData.LongDescription;\r\n        this.cms.discountTop.importantReminderHeader = this.discountCmsData && this.discountCmsData.IMPORTANT_REMINDER;\r\n        this.cms.discountTop.importantReminder = this.discountCmsData &&\r\n            this.discountCmsData.Children.filter(child => 'Important Reminder' === child.ItemName)[0].ShortDescription || '';\r\n\r\n        this.cms.discountTop.data = this.cms.noDiscountTop.data = {\r\n            licensePlateState: this.plateContainer.plate.licenseState.toUpperCase(),\r\n            licensePlateNumber: this.plateContainer.plate.licensePlate.toUpperCase(),\r\n            itemsFound: this.plateContainer.plate.invoices.length + this.plateContainer.plate.uninvoicedViolations.length,\r\n            totalAmountDue: this.plateContainer.plate.plateDueBeforeDiscount\r\n        };\r\n\r\n        this.overpaymentModalCmsContent = {\r\n            Title: this.cmsData.OVERPAYMENT_HEADER,\r\n            PrimaryContent: this.cmsData.OVERPAYMENT_BODY,\r\n        };\r\n\r\n        this.wizardBackLabel = this.plateContainer.plate.isNewEzTagAccountEligibile\r\n            ? 'Back to Offer'\r\n            : 'Previous';\r\n\r\n        this.noDiscountWizardBackLabel = this.discountCmsData\r\n            ? 'Previous'\r\n            : this.wizardBackLabel;\r\n\r\n        this.parent.setTitle(this.getDiscountTitle());\r\n        this.parent.scrollToTop();\r\n\r\n\r\n        this.mobileLoadedPlate = clone(this.plateContainer.plate);\r\n        this.mobileLoadedPlate.invoices = [];\r\n        this.mobileLoadedPlate.uninvoicedViolations = [];\r\n        this.mobileLoadedPlate.invoicesAndViolations = [];\r\n\r\n        this.paginatedPlate = clone(this.plateContainer.plate);\r\n        this.paginatedPlate.invoices = [];\r\n        this.paginatedPlate.uninvoicedViolations = [];\r\n        this.paginatedPlate.invoicesAndViolations = [];\r\n\r\n        // Any pagination related logic\r\n        if (this.plateContainer.plate.invoicesAndViolations.length >= this.paginationLimit) {\r\n            this.updateViolationsDetailsTable({\r\n                pageIndex: 0,\r\n                pageSize: this.defaultPageSize\r\n            } as PageEvent);\r\n\r\n            this.mobileLoadMore();\r\n        }\r\n    }\r\n    // The paginated version of the plate should only be updated when pagination events are triggered\r\n    public updateViolationsDetailsTable(event: PageEvent) {\r\n        // Use the start/end indexes to retrieve the violations to show\r\n        const start = event.pageIndex * event.pageSize;\r\n        const end = (event.pageIndex + 1) * event.pageSize;\r\n        const subViolationsArray = this.plateContainer.plate.invoicesAndViolations.slice(start, end);\r\n\r\n        // Split the violations array back into the separate arrays for component and later logic consumption\r\n        this.paginatedPlate.invoices = subViolationsArray.filter(violation =>\r\n            Array.isArray((violation as ViolationInvoice).violations)) as ViolationInvoice[];\r\n        this.paginatedPlate.uninvoicedViolations = subViolationsArray.filter(violation =>\r\n            !Array.isArray((violation as ViolationInvoice).violations)) as Violation[];\r\n        this.paginatedPlate.invoicesAndViolations = subViolationsArray;\r\n\r\n        // Used to change the reference while maintaining the same invoice objects\r\n        // Considered having ngDoCheck in violationsDetails but it resulted in an excessive amount of checking on the array objects\r\n        this.paginatedPlate = clone(this.paginatedPlate);\r\n    }\r\n\r\n    public mobileLoadMore() {\r\n        // Use the start/end indexes to retrieve the violations to append\r\n        const start = this.mobileLoadedCombinedViolationsArrayLength;\r\n        const end = this.mobileLoadedCombinedViolationsArrayLength + this.defaultPageSize;\r\n        const subViolationsArray = this.plateContainer.plate.invoicesAndViolations.slice(start, end);\r\n\r\n        // Split the violations array back into the separate arrays for component and later logic consumption\r\n        this.mobileLoadedPlate.invoices = this.mobileLoadedPlate.invoices.concat(subViolationsArray.filter(\r\n            violation => Array.isArray((violation as ViolationInvoice).violations)) as ViolationInvoice[]);\r\n        this.mobileLoadedPlate.uninvoicedViolations = this.mobileLoadedPlate.uninvoicedViolations.concat(subViolationsArray.filter(\r\n            violation => !Array.isArray((violation as ViolationInvoice).violations)) as Violation[]);\r\n        this.mobileLoadedPlate.invoicesAndViolations = this.mobileLoadedPlate.invoicesAndViolations.concat(subViolationsArray);\r\n\r\n        // Used to change the reference while maintaining the same invoice objects\r\n        // Considered having ngDoCheck in violationsDetails but it resulted in an excessive amount of checking on the array objects\r\n        this.mobileLoadedPlate = clone(this.mobileLoadedPlate);\r\n    }\r\n\r\n    public openPrevPaidInvoices() {\r\n\r\n        const data = {\r\n            previouslyPaidInvoices: this.plateContainer.plate.previouslyPaidInvoices,\r\n            plate: {\r\n                state: this.plateContainer.plate.licenseState,\r\n                // eslint-disable-next-line id-blacklist\r\n                number: this.plateContainer.plate.licensePlate\r\n            }\r\n        } as PrevPaidInvoicesData;\r\n\r\n        this.dialogService.openSliderFilled(\r\n            PrevPaidInvoicesComponent, data,\r\n            { title: 'Previously Paid Invoices' } as DialogContent\r\n        );\r\n    }\r\n\r\n    async goToNextWhenPaymentAmountValid(targetState: StateOrName) {\r\n\r\n        if (this.plateContainer.plate.totalSelected >= 0.01) {\r\n            await this.goToNextState(targetState);\r\n        } else {\r\n            this.toasterService.show('Success', this.cmsData.TOAST_NO_INVOICES_SELECTED);\r\n        }\r\n    }\r\n\r\n    async goToNextState(targetState: StateOrName) {\r\n\r\n        this.savePlateContainer();\r\n        await this.state.go(targetState, { billingInfo: this.uiRouterGlobals.params.billingInfo });\r\n    }\r\n\r\n    private savePlateContainer = () => {\r\n        if (this.discountPerAgencyAvailable && this.showDiscountPage) {\r\n\r\n            // Manually delete the isChecked attribute per agency if showDiscountPage is true.\r\n            // It was used for user selection of agencies to pay.\r\n            // This is not needed if !showDiscountPage because it is the \"original\", which doesn't have isChecked. \r\n            this.plateContainer.plate.agencies.forEach(agency => delete (agency as any).isChecked);\r\n            this.selectedAgenciesToPay.forEach(agency => agency.paymentAmount = agency.totalDueAfterDiscount);\r\n        }\r\n\r\n        const { plate } = this.plateContainer;\r\n\r\n        const plateContainerWithDiscount: ViolationPlateContainer = {\r\n            ...this.plateContainer,\r\n            violationsFlowName: this.showDiscountPage ? this.discountCmsData.ItemName : 'OLVPS',\r\n            partialPayments: !this.showDiscountPage,\r\n            paymentAmount: !this.discountPerAgencyAvailable && this.showDiscountPage\r\n                ? plate.totalPaymentAmount\r\n                : this.discountPerAgencyAvailable && this.showDiscountPage\r\n                    ? plate.totalSelected + plate.serviceFee\r\n                    : plate.totalSelected,\r\n            remainingBalance: !this.discountPerAgencyAvailable && this.showDiscountPage\r\n                ? 0\r\n                : plate.remainingBalance\r\n        };\r\n\r\n        this.webStorage.setKeyValue(this.webStorageConst.enhancedViolationsPlateAndInvoiceData, plateContainerWithDiscount);\r\n    };\r\n\r\n    async showDiscount(targetState: StateOrName) {\r\n\r\n        if (this.discountCmsData) {\r\n            this.parent.setTitle(this.getDiscountTitle());\r\n            this.showDiscountPage = true;\r\n            this.savePlateContainer();\r\n            this.parent.scrollToTop();\r\n        } else {\r\n            await this.goToPreviousState(targetState);\r\n        }\r\n    }\r\n\r\n    async hideDiscount() {\r\n        this.selectedAgenciesToPay = [];\r\n        this.recalculatePlateContainerValues();\r\n        this.parent.setTitle(this.cmsData.Title);\r\n        this.showDiscountPage = false;\r\n        this.savePlateContainer();\r\n        this.parent.scrollToTop();\r\n    }\r\n\r\n    private getDiscountTitle() {\r\n        return (this.discountCmsData && this.discountCmsData.Title) || this.cmsData.Title;\r\n    }\r\n\r\n    async goToPreviousState(targetState: StateOrName) {\r\n\r\n        const to = this.plateContainer.plate.isNewEzTagAccountEligibile\r\n            ? cavveStates.Offer\r\n            : targetState;\r\n\r\n\r\n        this.savePlateContainer();\r\n        await this.state.go(to);\r\n    }\r\n\r\n    private setSummaryArray(discountEnumArray: string[]) {\r\n        discountEnumArray.forEach((x) => {\r\n            const discountCms = (this.cmsData.Children\r\n                .filter(child =>\r\n                    x.toString() === child.DISCOUNT_STRING)[0] as GridDiscountCmsData);\r\n            const discountSummary = !discountCms ? '' :\r\n                discountCms\r\n                    .Children\r\n                    .filter(child => 'Summary' === child.ItemName)[0].LongDescription || '';\r\n\r\n            if (discountSummary) {\r\n                this.discountArray = this.discountArray.concat(discountSummary);\r\n            }\r\n        });\r\n    }\r\n}\r\n","<page-filled-container>\r\n\r\n    <div *ngIf=\"showPreviouslyPaidPlate && !hasOutstandingViolations;then paidInvoices; else activeInvoices\"></div>\r\n    <ng-template #activeInvoices>\r\n        <div *ngIf=\"showDiscountPage;then discountPage; else noDiscountPage\"></div>\r\n        <ng-template #discountPage>\r\n            <section fxLayout=\"column\"\r\n                     class=\"u-spacing--widthFill\">\r\n                <header>\r\n                    <h2>\r\n                        <cms-content [template]=\"cms.discountTop.invoiceHeader\"\r\n                                     [data]=\"cms.noDiscountTop.data\"></cms-content>\r\n                    </h2>\r\n                    <mat-divider class=\"u-spacing__divider--marginTopBottom\"></mat-divider>\r\n                </header>\r\n                <div [innerHTML]=\"cms.discountTop.invoiceHeaderDescription\"></div>\r\n            </section>\r\n            <div *ngIf=\"!discountPerAgencyAvailable\">\r\n                <section fxLayout=\"column\"\r\n                         class=\"u-spacing--widthFill u-spacing__headerToSection--marginTop\">\r\n                    <header>\r\n                        <h2 [innerHTML]=\"cms.discountTop.selectHeader\"></h2>\r\n                        <mat-divider class=\"u-spacing__divider--marginTopBottom\"></mat-divider>\r\n                    </header>\r\n                    <div [innerHTML]=\"cms.discountTop.selectHeaderDescription\"></div>\r\n                </section>\r\n            </div>\r\n            <section fxLayout=\"column\"\r\n                     class=\"u-spacing--widthFill u-spacing__headerToSection--marginTop\">\r\n                <header>\r\n                    <h2 [innerHTML]=\"cms.discountTop.importantReminderHeader\"></h2>\r\n                    <mat-divider class=\"u-spacing__divider--marginTopBottom\"></mat-divider>\r\n                </header>\r\n                <div [innerHTML]=\"cms.discountTop.importantReminder\"></div>\r\n            </section>\r\n            <section fxLayout=\"column\"\r\n                     fxLayoutAlign=\"start center\"\r\n                     class=\"u-spacing--widthFill u-spacing__sectionToSection--marginTop\">\r\n                <section fxLayout=\"row\"\r\n                         fxLayoutAlign=\"start center\"\r\n                         class=\"u-spacing--widthFill\">\r\n                    <aside id=\"records-found-text\"\r\n                           [fxFlex]=\"cms.discountTop.data['itemsFound'] >= paginationLimit ? 'none' : 'grow'\">\r\n                        {{cms.discountTop.data['itemsFound']}} Record{{cms.discountTop.data['itemsFound'] > 1 ? 's' : ''}} found\r\n                    </aside>\r\n                    <mat-divider [vertical]=\"true\"\r\n                                 [fxShow]=\"cms.discountTop.data['itemsFound'] >= paginationLimit\"\r\n                                 fxHide.lt-md></mat-divider>\r\n                    <a id=\"prevPaidInvoicesLink\"\r\n                       *ngIf=\"plateContainer.plate.previouslyPaidInvoices && plateContainer.plate.previouslyPaidInvoices.length > 0\"\r\n                       fxFlex.gt-sm=\"none\"\r\n                       [ngClass.gt-sm]=\"{'text-align-right': cms.discountTop.data['itemsFound'] < paginationLimit}\"\r\n                       ngClass.lt-md=\"text-align-right smaller-font\"\r\n                       (click)=\"openPrevPaidInvoices()\">\r\n                        View Previously Paid Invoices\r\n                    </a>\r\n                    <div *ngIf=\"cms.discountTop.data['itemsFound'] >= paginationLimit\"\r\n                         fxShow\r\n                         fxHide.lt-md\r\n                         fxFlex=\"auto\"\r\n                         fxLayout=\"row\"\r\n                         fxLayoutAlign=\"end center\">\r\n                        <mat-paginator-goto [length]=\"cms.discountTop.data['itemsFound']\"\r\n                                            [pageIndex]=\"0\"\r\n                                            [pageSize]=\"defaultPageSize\"\r\n                                            [hidePageSize]=\"true\"\r\n                                            (page)=\"updateViolationsDetailsTable($event)\">\r\n                        </mat-paginator-goto>\r\n                    </div>\r\n                </section>\r\n            </section>\r\n            <section fxLayout=\"column\"\r\n                     class=\"u-spacing--widthFill\">\r\n                <violations-plate-row-refresh [plate]=\"plateContainer.plate\"></violations-plate-row-refresh>\r\n                <violations-details-rows-refresh *ngIf=\"cms.discountTop.data['itemsFound'] < paginationLimit\"\r\n                                         totalDescription=\"Original Amount Due\"\r\n                                         [arePlatesExpanded]=\"true\"\r\n                                         [caoToolTipCms]=\"cmsData.CAO_TOOL_TIP\"\r\n                                         [plate]=\"plateContainer.plate\"\r\n                                         [paginatedPlate]=\"plateContainer.plate\"\r\n                                         class=\"u-spacing__sectionToSection--marginTop\">\r\n                </violations-details-rows-refresh>\r\n                <violations-details-rows-refresh *ngIf=\"cms.discountTop.data['itemsFound'] >= paginationLimit\"\r\n                                         fxShow\r\n                                         fxHide.lt-md\r\n                                         totalDescription=\"Original Amount Due\"\r\n                                         [arePlatesExpanded]=\"true\"\r\n                                         [caoToolTipCms]=\"cmsData.CAO_TOOL_TIP\"\r\n                                         [plate]=\"plateContainer.plate\"\r\n                                         [paginatedPlate]=\"paginatedPlate\"\r\n                                         class=\"u-spacing__sectionToSection--marginTop\">\r\n                </violations-details-rows-refresh>\r\n                <violations-details-rows-refresh *ngIf=\"cms.discountTop.data['itemsFound'] >= paginationLimit\"\r\n                                         fxHide\r\n                                         fxShow.lt-md\r\n                                         totalDescription=\"Original Amount Due\"\r\n                                         [arePlatesExpanded]=\"true\"\r\n                                         [caoToolTipCms]=\"cmsData.CAO_TOOL_TIP\"\r\n                                         [plate]=\"plateContainer.plate\"\r\n                                         [paginatedPlate]=\"mobileLoadedPlate\"\r\n                                         class=\"u-spacing__sectionToSection--marginTop\">\r\n                    <div *ngIf=\"cms.discountTop.data['itemsFound'] >= paginationLimit && mobileLoadedCombinedViolationsArrayLength < cms.discountTop.data['itemsFound']\"\r\n                         fxLayout=\"row\"\r\n                         fxLayoutAlign=\"center\"\r\n                         class=\"u-spacing--widthFill u-spacing__loadMore--margin\">\r\n                        <a class=\"u--noUnderline\"\r\n                           (click)=\"mobileLoadMore()\">Load more</a>\r\n                    </div>\r\n                </violations-details-rows-refresh>\r\n            </section>\r\n            <section fxLayout=\"column\"\r\n                     class=\"u-spacing--widthFill u-spacing__headerToSection--marginTop\">\r\n                <header>\r\n                    <h2 [innerHTML]=\"discountCmsData.SUMMARY_HEADER\"></h2>\r\n                    <mat-divider class=\"u-spacing__divider--marginTopBottom\"></mat-divider>\r\n                </header>\r\n                <div fxLayout=\"row\"\r\n                     fxLayoutAlign=\"space-between start\"\r\n                     fxLayout.lt-md=\"column\"\r\n                     class=\"u-spacing--widthFill\">\r\n                    <div ngClass.gt-sm=\"max-width-half\">\r\n                        <div>\r\n                            <p [innerHtml]=\"discountCmsData.PAYMENT_SUMMARY_INFO | safeHtml\"></p>\r\n                        </div>\r\n                        <div *ngFor=\"let summary of discountArray\">\r\n                            <p [innerHtml]=\"summary | safeHtml\"></p>\r\n                        </div>\r\n                        <span *ngIf=\"!discountArray || discountArray.length === 0\" [innerHtml]=\"cms.discountTop.summary | safeHtml\"></span>\r\n                        <span *ngIf=\"plateContainer.plate.hasCAOFineEstimates\" [innerHtml]=\"cmsData.CAO_FEE_INFO | safeHtml\"></span>\r\n                    </div>\r\n\r\n                    <!-- DiscountPerAgencyAvailable FT OFF -->\r\n                    <div *ngIf=\"!discountPerAgencyAvailable\"\r\n                         ngClass.gt-sm=\"payment-summary-desktop\"\r\n                         ngClass.lt-md=\"u-spacing--widthFill\">\r\n                        <row-container [rowType]=\"'semi-emphasis'\"\r\n                                       [isTop]=\"true\">\r\n                            <section col-start\r\n                                     fxFlex=\"grow\">\r\n                                {{cmsData.LABEL_ORIGINAL_DUE}}\r\n                            </section>\r\n                            <section col-end\r\n                                     fxFlex=\"none\">\r\n                                <currency [value]=\"plateContainer.plate.plateDueBeforeDiscount\"></currency>\r\n                            </section>\r\n                        </row-container>\r\n                        <row-container [rowType]=\"'emphasis'\"\r\n                                       [isInner]=\"true\">\r\n                            <section col-start\r\n                                     fxFlex=\"grow\"\r\n                                     class=\"green-text\">\r\n                                {{cmsData.LABEL_DISCOUNT}}\r\n                            </section>\r\n                            <section col-end\r\n                                     fxFlex=\"none\"\r\n                                     class=\"green-text\">\r\n                                -<currency [value]=\"plateContainer.plate.totalFeesDiscounted\"></currency>\r\n                            </section>\r\n                        </row-container>\r\n                        <row-container [rowType]=\"'semi-emphasis'\"\r\n                                       [isInner]=\"true\"\r\n                                       *ngIf=\"plateContainer.plate.serviceFee !== 0\">\r\n                            <section col-start\r\n                                     fxFlex=\"grow\">\r\n                                {{cmsData.LABEL_ADMIN_FEE}}\r\n                            </section>\r\n                            <section col-end\r\n                                     fxFlex=\"none\">\r\n                                <currency [value]=\"plateContainer.plate.serviceFee\"></currency>\r\n                            </section>\r\n                        </row-container>\r\n                        <row-container [rowType]=\"'semi-emphasis'\"\r\n                                       [isBottom]=\"true\">\r\n                            <section col-start\r\n                                     fxFlex=\"grow\">\r\n                                {{cmsData.LABEL_TOTAL_DUE}}\r\n                            </section>\r\n                            <section col-end\r\n                                     fxFlex=\"none\">\r\n                                <currency [value]=\"plateContainer.plate.totalPaymentAmount\"></currency>\r\n                            </section>\r\n                        </row-container>\r\n                    </div>\r\n\r\n                    <!-- DiscountPerAgencyAvailable FT ON -->\r\n                    <div *ngIf=\"discountPerAgencyAvailable\"\r\n                         ngClass.gt-sm=\"payment-summary-desktop\"\r\n                         ngClass.lt-md=\"u-spacing--widthFill\">\r\n\r\n                        <section col-end\r\n                                 class=\"fx-flex-none fx-layout-row fx-layout-align-end-center\"\r\n                                 style=\"padding-bottom: 5px;\">\r\n                            <div class=\"fx-layout-column fx-layout-align-end-start unlimited-flex-end\">\r\n                                <mat-label class=\"pay-label\">PAY</mat-label>\r\n                                <input id=\"selectPayAllAgenciesCheckbox\"\r\n                                       type=\"checkbox\"\r\n                                       (change)=\"selectAllCheckboxes($event)\" />\r\n                            </div>\r\n                        </section>\r\n\r\n                        <div fxShow fxHide.lt-md *ngFor=\"let agency of unpaidAgencies; first as isFirst;\">\r\n                            <row-container [isTop]=\"isFirst\"\r\n                                           [isInner]=\"!isFirst\"\r\n                                           [isBottom]=\"false\"\r\n                                           id=\"{{agency.agencyName}}Row\">\r\n\r\n                                <section translation-skip col-start\r\n                                         fxFlex=\"grow\">\r\n                                    {{agency.agencyName}}:\r\n                                </section>\r\n\r\n                                <!--Checkboxes per agency-->\r\n                                <section col-end\r\n                                         class=\"fx-flex-none fx-layout-row fx-layout-align-end-center\">\r\n                                    <section fxFlex=\"none\">\r\n                                        <div class=\"fx-flex-auto limited-flex-end\"><currency [value]=\"agency.totalDueBeforeDiscount\"></currency></div>\r\n\r\n                                    </section>\r\n\r\n                                    <div class=\"fx-flex-auto unlimited-flex-end\">\r\n                                        <input type=\"checkbox\"\r\n                                               id=\"selectPayAgency{{agency.agencyName}}Checkbox\"\r\n                                               [value]=\"agency.agencyName\"\r\n                                               [checked]=\"agency.isChecked\"\r\n                                               (change)=\"selectSingleAgencyToPay($event)\"\r\n                                               col-amount />\r\n                                    </div>\r\n                                </section>\r\n\r\n                            </row-container>\r\n                        </div>\r\n                        <div fxHide fxShow.lt-md *ngFor=\"let agency of unpaidAgencies; first as isFirst;\">\r\n                            <row-container [isTop]=\"isFirst\"\r\n                                           [isInner]=\"!isFirst\"\r\n                                           [isBottom]=\"false\"\r\n                                           id=\"{{agency.mobileAgencyName}}Row\">\r\n\r\n                                <section col-start\r\n                                         fxFlex=\"grow\">\r\n                                    {{agency.mobileAgencyName}}:\r\n                                </section>\r\n\r\n                                <!--Checkboxes per agency-->\r\n                                <section col-end\r\n                                         class=\"fx-flex-none fx-layout-row fx-layout-align-end-center\">\r\n                                    <section fxFlex=\"none\">\r\n                                        <div class=\"fx-flex-auto limited-flex-end\"><currency [value]=\"agency.totalDueBeforeDiscount\"></currency></div>\r\n\r\n                                    </section>\r\n\r\n                                    <div class=\"fx-flex-auto unlimited-flex-end\">\r\n                                        <input type=\"checkbox\"\r\n                                               id=\"selectPayAgency{{agency.agencyName}}Checkbox\"\r\n                                               [value]=\"agency.agencyName\"\r\n                                               [checked]=\"agency.isChecked\"\r\n                                               (change)=\"selectSingleAgencyToPay($event)\"\r\n                                               col-amount />\r\n                                    </div>\r\n                                </section>\r\n\r\n                            </row-container>\r\n                        </div>\r\n                        <!--ADMIN FEE-->\r\n                        <row-container *ngIf=\"plateContainer.plate.serviceFee > 0\"\r\n                                       id=\"adminFeeRow\"\r\n                                       [isInner]=\"true\">\r\n\r\n                            <section col-start\r\n                                     fxFlex=\"grow\">\r\n                                {{cmsData.LABEL_ADMIN_FEE}}\r\n                            </section>\r\n                            <section col-end\r\n                                     fxFlex=\"none\"\r\n                                     class=\"align-currency\">\r\n                                <currency [value]=\"plateContainer.plate.serviceFee\"></currency>\r\n                            </section>\r\n                        </row-container>\r\n\r\n                        <!--FEE REDUCTION-->\r\n                        <row-container [isInner]=\"true\"\r\n                                       id=\"feeReductionRow\">\r\n                            <section col-start\r\n                                     fxFlex=\"grow\"\r\n                                     fxFlex.lt-md=\"50\">\r\n                                <div fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n                                    <div class=\"green-text\"\r\n                                         [ngStyle.lt-md]=\"{'max-width': '160px'}\">\r\n                                        {{cmsData.LABEL_DISCOUNT}}\r\n                                    </div>\r\n                                    <tool-tip [hidden]=\"selectedAgenciesToPay.length === 0\"\r\n                                              class=\"tool-tip\"\r\n                                              [ngClass.lt-md]=\"{'lt-md': true}\"\r\n                                              fxFlex=\"none\">\r\n                                        <span tool-tip-hover>\r\n                                            <mat-icon svgIcon=\"information\"></mat-icon>\r\n                                        </span>\r\n                                        <div tool-tip-message class=\"hoverBoxAdjustment\">\r\n                                            <p class=\"tool-tip-heading\">{{cmsData.CAF_TOOL_TIP_TITLE}}</p>\r\n                                            <hr />\r\n                                            <div *ngFor=\"let agencies of selectedAgenciesToPay\">\r\n                                                <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\r\n                                                    <div translation-skip fxShow fxHide.lt-md>{{agencies.agencyName}}</div>\r\n                                                    <div translation-skip fxHide fxShow.lt-md>{{agencies.mobileAgencyName}}</div>\r\n                                                    <div class=\"green-text\">-<currency [value]=\"agencies.discountTotal\"></currency></div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </tool-tip>\r\n                                </div>\r\n                            </section>\r\n                            <section col-end\r\n                                     fxFlex=\"none\"\r\n                                     fxFlex.lt-md=\"50\"\r\n                                     style=\"text-align: right\"\r\n                                     class=\"green-text align-currency\">\r\n                                <div>-<currency [value]=\"plateContainer.plate.totalFeesDiscounted\"></currency></div>\r\n                            </section>\r\n\r\n                        </row-container>\r\n\r\n                        <!--TOTAL PAYMENT AMOUNT-->\r\n                        <row-container [rowType]=\"'emphasis'\"\r\n                                       [isInner]=\"true\"\r\n                                       id=\"totalPaymentRow\">\r\n                            <section col-start\r\n                                     fxFlex=\"grow\">\r\n                                {{prevPaidCmsData.LABEL_TOTAL_PAYMENT}}\r\n                            </section>\r\n                            <section col-end\r\n                                     fxFlex=\"none\"\r\n                                     class=\"align-currency\">\r\n                                <currency [value]=\"plateContainer.plate.totalSelected + plateContainer.plate.serviceFee\"></currency>                                \r\n                            </section>\r\n                        </row-container>\r\n\r\n                        <!--REMAINING BALANCE -->\r\n                        <row-container [isBottom]=\"true\"\r\n                                       id=\"remainingBalanceRow\">\r\n                            <section col-start\r\n                                     fxFlex=\"grow\">\r\n                                {{prevPaidCmsData.LABEL_REMAINING_BALANCE}}\r\n                            </section>\r\n                            <section col-end\r\n                                     fxFlex=\"none\"\r\n                                     class=\"align-currency\">\r\n                                <currency [value]=\"plateContainer.remainingBalance\"></currency>\r\n                            </section>\r\n                        </row-container>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n        </ng-template>\r\n\r\n        <ng-template #noDiscountPage>\r\n            <section fxLayout=\"column\"\r\n                     class=\"u-spacing--widthFill\">\r\n                <header>\r\n                    <h2>\r\n                        <cms-content [template]=\"cms.noDiscountTop.plateHeader\" [data]=\"cms.noDiscountTop.data\"></cms-content>\r\n                    </h2>\r\n                    <mat-divider class=\"u-spacing__divider--marginTopBottom\"></mat-divider>\r\n                </header>\r\n                <div [innerHTML]=\"cms.noDiscountTop.plateHeaderDescription\"></div>\r\n            </section>\r\n            <section fxLayout=\"column\"\r\n                     class=\"u-spacing--widthFill u-spacing__headerToSection--marginTop\">\r\n                <header>\r\n                    <h2 [innerHTML]=\"cms.noDiscountTop.outstandingViolationsHeader\"></h2>\r\n                    <mat-divider class=\"u-spacing__divider--marginTopBottom\"></mat-divider>\r\n                </header>\r\n                <div [innerHTML]=\"cms.noDiscountTop.outstandingViolationsHeaderDescription\"></div>\r\n            </section>\r\n            <section fxLayout=\"column\"\r\n                     fxLayoutAlign=\"start center\"\r\n                     class=\"u-spacing--widthFill u-spacing__sectionToSection--marginTop\">\r\n                <section fxLayout=\"row\"\r\n                         fxLayoutAlign=\"start center\"\r\n                         class=\"u-spacing--widthFill\">\r\n                    <aside id=\"records-found-text\"\r\n                           [fxFlex]=\"cms.noDiscountTop.data['itemsFound'] >= paginationLimit ? 'none' : 'grow'\">\r\n                        {{cms.noDiscountTop.data['itemsFound']}} Record{{cms.noDiscountTop.data['itemsFound'] > 1 ? 's' : ''}} found\r\n                    </aside>\r\n                    <mat-divider [vertical]=\"true\"\r\n                                 [fxShow]=\"cms.noDiscountTop.data['itemsFound'] >= paginationLimit\"\r\n                                 fxHide.lt-md></mat-divider>\r\n                    <a id=\"prevPaidInvoicesLink\"\r\n                       *ngIf=\"plateContainer.plate.previouslyPaidInvoices && plateContainer.plate.previouslyPaidInvoices.length > 0\"\r\n                       fxFlex.gt-sm=\"none\"\r\n                       [ngClass.gt-sm]=\"{'text-align-right': cms.noDiscountTop.data['itemsFound'] < paginationLimit}\"\r\n                       ngClass.lt-md=\"text-align-right smaller-font\"\r\n                       (click)=\"openPrevPaidInvoices()\">\r\n                        View Previously Paid Invoices\r\n                    </a>\r\n                    <div *ngIf=\"cms.noDiscountTop.data['itemsFound'] >= paginationLimit\"\r\n                         fxShow\r\n                         fxHide.lt-md\r\n                         fxFlex=\"auto\"\r\n                         fxLayout=\"row\"\r\n                         fxLayoutAlign=\"end center\">\r\n                        <mat-paginator-goto [length]=\"cms.noDiscountTop.data['itemsFound']\"\r\n                                            [pageIndex]=\"0\"\r\n                                            [pageSize]=\"defaultPageSize\"\r\n                                            [hidePageSize]=\"true\"\r\n                                            (page)=\"updateViolationsDetailsTable($event)\">\r\n                        </mat-paginator-goto>\r\n                    </div>\r\n                </section>\r\n            </section>\r\n            <section fxLayout=\"column\"\r\n                     class=\"u-spacing--widthFill \">\r\n                <violations-plate-row-refresh [plate]=\"plateContainer.plate\"\r\n                                      [noDiscount]=\"true\"></violations-plate-row-refresh>\r\n                <violations-details-rows-refresh *ngIf=\"cms.noDiscountTop.data['itemsFound'] < paginationLimit\"\r\n                                         [isEditAllowed]=\"true\"\r\n                                         [arePlatesExpanded]=\"true\"\r\n                                         totalDescription=\"Selected Payment Amount \"\r\n                                         [caoToolTipCms]=\"cmsData.CAO_TOOL_TIP\"\r\n                                         [cmsData]=\"overpaymentModalCmsContent\"\r\n                                         [plate]=\"plateContainer.plate\"\r\n                                         [paginatedPlate]=\"plateContainer.plate\"\r\n                                         class=\"u-spacing__sectionToSection--marginTop\">\r\n                </violations-details-rows-refresh>\r\n                <violations-details-rows-refresh *ngIf=\"cms.noDiscountTop.data['itemsFound'] >= paginationLimit\"\r\n                                         fxShow\r\n                                         fxHide.lt-md\r\n                                         [isEditAllowed]=\"true\"\r\n                                         [arePlatesExpanded]=\"true\"\r\n                                         totalDescription=\"Selected Payment Amount \"\r\n                                         [caoToolTipCms]=\"cmsData.CAO_TOOL_TIP\"\r\n                                         [cmsData]=\"overpaymentModalCmsContent\"\r\n                                         [plate]=\"plateContainer.plate\"\r\n                                         [paginatedPlate]=\"paginatedPlate\"\r\n                                         class=\"u-spacing__sectionToSection--marginTop\">\r\n                </violations-details-rows-refresh>\r\n                <violations-details-rows-refresh *ngIf=\"cms.noDiscountTop.data['itemsFound'] >= paginationLimit\"\r\n                                         fxHide\r\n                                         fxShow.lt-md\r\n                                         [isEditAllowed]=\"true\"\r\n                                         [arePlatesExpanded]=\"true\"\r\n                                         totalDescription=\"Selected Payment Amount \"\r\n                                         [caoToolTipCms]=\"cmsData.CAO_TOOL_TIP\"\r\n                                         [cmsData]=\"overpaymentModalCmsContent\"\r\n                                         [plate]=\"plateContainer.plate\"\r\n                                         [paginatedPlate]=\"mobileLoadedPlate\"\r\n                                         class=\"u-spacing__sectionToSection--marginTop\">\r\n                    <div *ngIf=\"cms.noDiscountTop.data['itemsFound'] >= paginationLimit && mobileLoadedCombinedViolationsArrayLength < cms.discountTop.data['itemsFound']\"\r\n                         fxLayout=\"row\"\r\n                         fxLayoutAlign=\"center\"\r\n                         class=\"u-spacing--widthFill u-spacing__loadMore--margin\">\r\n                        <a class=\"u--noUnderline\"\r\n                           (click)=\"mobileLoadMore()\">Load more</a>\r\n                    </div>\r\n                </violations-details-rows-refresh>\r\n            </section>\r\n            <section fxLayout=\"column\"\r\n                     class=\"u-spacing--widthFill u-spacing__headerToSection--marginTop\">\r\n                <header>\r\n                    <h2 [innerHTML]=\"noDiscountCmsData.SUMMARY_HEADER\"></h2>\r\n                    <mat-divider class=\"u-spacing__divider--marginTopBottom\"></mat-divider>\r\n                </header>\r\n                <div fxLayout=\"row\"\r\n                     fxLayoutAlign=\"space-between start\"\r\n                     fxLayout.lt-md=\"column\">\r\n                    <div ngClass.gt-sm=\"max-width-half\">\r\n                        <span [innerHtml]=\"noDiscountCmsData.ShortDescription | safeHtml\"></span>\r\n                        <span *ngIf=\"plateContainer.plate.hasCAOFineEstimates\" [innerHtml]=\"cmsData.CAO_FEE_INFO | safeHtml\"></span>\r\n                    </div>\r\n\r\n                    <div ngClass.gt-sm=\"payment-summary-desktop\"\r\n                         ngClass.lt-md=\"u-spacing--widthFill\">\r\n                        <row-container [rowType]=\"'semi-emphasis'\"\r\n                                       [isTop]=\"true\">\r\n                            <section col-start\r\n                                     fxFlex=\"grow\">\r\n                                {{noDiscountCmsData.LABEL_ORIGINAL_DUE}}\r\n                            </section>\r\n                            <section col-end\r\n                                     fxFlex=\"none\">\r\n                                <currency [value]=\"plateContainer.plate.plateDueBeforeDiscount\"></currency>\r\n                            </section>\r\n                        </row-container>\r\n                        <row-container [rowType]=\"'emphasis'\"\r\n                                       [isInner]=\"true\">\r\n                            <section col-start\r\n                                     fxFlex=\"grow\">\r\n                                {{noDiscountCmsData.LABEL_SELECTED}}\r\n                            </section>\r\n                            <section col-end\r\n                                     fxFlex=\"none\">\r\n                                <currency [value]=\"plateContainer.plate.totalSelected\"></currency>\r\n                            </section>\r\n                        </row-container>\r\n                        <row-container [rowType]=\"'semi-emphasis'\"\r\n                                       [isBottom]=\"true\">\r\n                            <section col-start\r\n                                     fxFlex=\"grow\">\r\n                                {{noDiscountCmsData.LABEL_REMAINING}}\r\n                            </section>\r\n                            <section col-end\r\n                                     fxFlex=\"none\">\r\n                                <currency [value]=\"plateContainer.plate.remainingBalance\"></currency>\r\n                            </section>\r\n                        </row-container>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        </ng-template>\r\n\r\n        <div *ngIf=\"hasOutstandingViolations\"\r\n             class=\"u-spacing--widthFill u-spacing__buttonToField--marginTop\">\r\n            <div *ngIf=\"showDiscountPage;then discountWizard; else noDiscountWizard\"></div>\r\n            <ng-template #discountWizard>\r\n                <wizard-ui (next)=\"goToNextState($event)\"\r\n                           (previous)=\"goToPreviousState($event)\"\r\n                           (cancel)=\"hideDiscount()\"\r\n                           [disabled]=\"discountPerAgencyAvailable && selectedAgenciesToPay.length === 0\">\r\n                    <span wizard-next>ACCEPT</span>\r\n                    <span wizard-cancel>Decline</span>\r\n                    <span wizard-previous\r\n                          fxLayout=\"row\"\r\n                          fxLayoutAlign=\"start center\">\r\n                        <mat-icon svgIcon=\"previous-arrow\"></mat-icon>\r\n                        {{wizardBackLabel}}\r\n                    </span>\r\n                </wizard-ui>\r\n            </ng-template>\r\n            <ng-template #noDiscountWizard>\r\n                <wizard-ui (next)=\"goToNextWhenPaymentAmountValid($event)\"\r\n                           (previous)=\"showDiscount($event)\">\r\n                    <span wizard-next>CONTINUE</span>\r\n                    <span wizard-cancel>Cancel</span>\r\n                    <span wizard-previous\r\n                          fxLayout=\"row\"\r\n                          fxLayoutAlign=\"start center\">\r\n                        <mat-icon svgIcon=\"previous-arrow\"></mat-icon>\r\n                        {{noDiscountWizardBackLabel}}\r\n                    </span>\r\n                </wizard-ui>\r\n            </ng-template>\r\n        </div>\r\n    </ng-template>\r\n\r\n    <ng-template #paidInvoices>\r\n        <section *ngIf=\"prevPaidCmsData.HEADER\"\r\n                 fxLayout=\"column\"\r\n                 class=\"u-spacing--widthFill\">\r\n            <header>\r\n                <h2>\r\n                    <cms-content [template]=\"cms.discountTop.invoiceHeader\"\r\n                                 [data]=\"prevPaidCmsData.HEADER\"></cms-content>\r\n                </h2>\r\n                <mat-divider class=\"u-spacing__divider--marginTopBottom\"></mat-divider>\r\n            </header>\r\n            <div [innerHTML]=\"prevPaidCmsData.LongDescription | safeHtml\"></div>\r\n        </section>\r\n        <section fxLayout=\"column\"\r\n                 fxLayoutAlign=\"start center\"\r\n                 class=\"u-spacing--widthFill u-spacing__sectionToSection--marginTop\">\r\n            <section fxLayout=\"row\"\r\n                     fxLayoutAlign=\"start center\"\r\n                     class=\"u-spacing--widthFill\">\r\n                <aside id=\"records-found-text\"\r\n                       [fxFlex]=\"cms.discountTop.data['itemsFound'] >= paginationLimit ? 'none' : 'grow'\">\r\n                    0 Records found\r\n                </aside>\r\n                <mat-divider [vertical]=\"true\"\r\n                             [fxShow]=\"cms.discountTop.data['itemsFound'] >= paginationLimit\"\r\n                             fxHide.lt-md></mat-divider>\r\n            </section>\r\n        </section>\r\n        <section fxLayout=\"column\"\r\n                 class=\"u-spacing--widthFill\">\r\n            <violations-plate-row-refresh [plate]=\"plateContainer.plate\"></violations-plate-row-refresh>\r\n            <!--image-->\r\n            <mat-icon svgIcon=\"no-invoices-found\" fxFlexAlign=\"center\"></mat-icon>\r\n\r\n            <span class=\"text-align-center\">{{prevPaidCmsData.NO_INVOICES}}</span>\r\n\r\n            <a id=\"prevPaidInvoicesLink\"\r\n               *ngIf=\"plateContainer.plate.previouslyPaidInvoices && plateContainer.plate.previouslyPaidInvoices.length > 0\"\r\n               fxFlex.gt-sm=\"none\"\r\n               class=\"smaller-font text-align-center\"\r\n               (click)=\"openPrevPaidInvoices()\">\r\n                View Previously Paid Invoices\r\n            </a>\r\n        </section>\r\n\r\n        <section fxLayout=\"column\"\r\n                 class=\"u-spacing--widthFill u-spacing__headerToSection--marginTop\">\r\n            <header>\r\n                <h2 [innerHTML]=\"prevPaidCmsData.SUMMARY_HEADER\"></h2>\r\n                <mat-divider class=\"u-spacing__divider--marginTopBottom\"></mat-divider>\r\n            </header>\r\n            <div fxLayout=\"row\"\r\n                 fxLayoutAlign=\"space-between start\"\r\n                 fxLayout.lt-md=\"column\">\r\n                <div [innerHTML]=\"prevPaidCmsData.ShortDescription | safeHtml\"\r\n                     ngClass.gt-sm=\"max-width-half\"></div>\r\n\r\n                <div ngClass.gt-sm=\"payment-summary-desktop\"\r\n                     ngClass.lt-md=\"u-spacing--widthFill\">\r\n                    <row-container [rowType]=\"'emphasis'\"\r\n                                   [isInner]=\"true\">\r\n                        <section col-start\r\n                                 fxFlex=\"grow\">\r\n                            {{prevPaidCmsData.LABEL_TOTAL_PAYMENT}}\r\n                        </section>\r\n                        <section col-end\r\n                                 fxFlex=\"none\">\r\n                            <currency [value]=\"0\"></currency>\r\n                        </section>\r\n                    </row-container>\r\n                    <row-container [rowType]=\"'semi-emphasis'\"\r\n                                   [isBottom]=\"true\">\r\n                        <section col-start\r\n                                 fxFlex=\"grow\">\r\n                            {{prevPaidCmsData.LABEL_REMAINING_BALANCE}}\r\n                        </section>\r\n                        <section col-end\r\n                                 fxFlex=\"none\">\r\n                            <currency [value]=\"0\"></currency>\r\n                        </section>\r\n                    </row-container>\r\n                </div>\r\n            </div>\r\n        </section>\r\n\r\n        <wizard-ui (previous)=\"goToPreviousState($event)\">\r\n            <span wizard-previous\r\n                  fxLayout=\"row\"\r\n                  fxLayoutAlign=\"start center\"\r\n                  class=\"link-spacing\">\r\n                <mat-icon svgIcon=\"previous-arrow\"></mat-icon>\r\n                {{wizardBackLabel}}\r\n            </span>\r\n        </wizard-ui>\r\n    </ng-template>\r\n</page-filled-container>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ViolationInvoice } from 'violations/interfaces';\r\nimport { DialogRef, DialogService, DialogContent } from 'common/services';\r\nimport { InvoicedDetailsModalComponent, InjectionValues } from 'violations/detailsRefresh/invoiced/invoicedDetailsModal.component';\r\n\r\nexport interface PrevPaidInvoicesData {\r\n    previouslyPaidInvoices: ViolationInvoice[];\r\n    // eslint-disable-next-line id-blacklist\r\n    plate: { state: string; number: string };\r\n}\r\n\r\n@Component({\r\n    selector: 'previously-paid-invoices',\r\n    templateUrl: './prevPaidInvoicesModal.html',\r\n    styleUrls: ['./prevPaidInvoicesModal.less']\r\n})\r\nexport class PrevPaidInvoicesComponent implements OnInit {\r\n\r\n    public prevPaidInvoices: ViolationInvoice[];\r\n    // eslint-disable-next-line id-blacklist\r\n    public plate: { state: string; number: string };\r\n\r\n    constructor(\r\n        private dialogRef: DialogRef<PrevPaidInvoicesData>,\r\n        private dialogService: DialogService\r\n    ) { }\r\n\r\n    ngOnInit() {\r\n        this.prevPaidInvoices = this.dialogRef.data.previouslyPaidInvoices;\r\n        this.plate = this.dialogRef.data.plate;\r\n    }\r\n\r\n    public openTollDetailsModal(index) {\r\n        this.dialogService.openSliderFilled(InvoicedDetailsModalComponent,\r\n            {\r\n                invoiced: this.prevPaidInvoices[index],\r\n                plate: this.plate, isPreviousPaid: true\r\n            } as InjectionValues,\r\n            { title: 'Invoice Details', hasBack: true } as DialogContent);\r\n    }\r\n}\r\n","<main class=\"refresh-2020\">\r\n    <section fxLayout=\"column\">\r\n        <aside fxLayout=\"row\"\r\n               fxLayoutAlign=\"space-between center\"\r\n               fxFlexOffset=\"34px\"\r\n               style=\"margin-bottom: 10px; margin-top: 0px\">\r\n            <p>\r\n                {{prevPaidInvoices.length}} Record{{prevPaidInvoices.length > 1 ? 's' : ''}} found\r\n            </p>\r\n        </aside>\r\n    </section>\r\n\r\n    <fx-row [isLabel]=\"true\"\r\n                           [backgroundColorClass]=\"'transparent-background'\">\r\n\r\n        <section col-start\r\n                 class=\"fx-flex-auto fx-layout-row fx-layout-align-start-center\">\r\n            <mat-label class=\"fx-flex-auto-shrink-more limited-flex\">INVOICE ID</mat-label>\r\n            <mat-label class=\"fx-flex-auto-shrink-more limited-flex\"\r\n                       [ngClass.lt-md]=\"{'hidden': true}\">INVOICE DATE</mat-label>\r\n            <mat-label class=\"fx-flex-auto-shrink-more limited-flex\"\r\n                       [ngClass.lt-md]=\"{'hidden': true}\">STATUS</mat-label>\r\n            <mat-label class=\"fx-flex-auto-grow-more unlimited-flex\"\r\n                       [ngClass.lt-md]=\"{'hidden': true}\">AGENCY</mat-label>\r\n        </section>\r\n        <section col-end\r\n                 class=\"fx-flex-none fx-layout-row fx-layout-align-end-center\">\r\n\r\n            <mat-label class=\"fx-flex-auto larger-limited-flex-end\">ORIGINAL INVOICE AMOUNT</mat-label>\r\n        </section>\r\n    </fx-row>\r\n\r\n    <div *ngFor=\"let invoiced of prevPaidInvoices; first as isFirst; last as isLast; index as index\" class=\"violations-plate-row\">\r\n        <div [ngClass]=\"{'table-space': !isFirst}\"\r\n             [ngClass.lt-md]=\"{'table-space': !isFirst, 'lt-md': true}\">\r\n\r\n            <fx-row class=\"clickable\"\r\n                                   (click)=\"openTollDetailsModal(index)\"\r\n                                   [backgroundColorClass]=\"'white-background'\">\r\n                <section col-start\r\n                         class=\"fx-flex-auto fx-layout-row fx-layout-align-start-center\">\r\n                    <div class=\"fx-flex-auto-shrink-more limited-flex\">\r\n                        <a class=\"fx-layout-row fx-layout-align-start-center u--noUnderline\">\r\n                            <div translation-skip class=\"fx-flex-none violationId--width\">{{invoiced.invoiceNum}}</div>\r\n                            <div class=\"fx-flex-none glyphicon glyphicon-chevron-right\"></div>\r\n                        </a>\r\n                    </div>\r\n                    <div translation-skip fxShow\r\n                         fxHide.lt-md\r\n                         class=\"fx-flex-auto-shrink-more limited-flex\">\r\n                        {{invoiced.mailedDate | dateWithTimeZone : 'date1' | default : 'To be mailed'}}\r\n                    </div>\r\n                    <div fxShow\r\n                         fxHide.lt-md\r\n                         class=\"fx-flex-auto-shrink-more limited-flex fx-layout-align-start-center\">\r\n                        <mat-icon svgIcon=\"checkmark\" class=\"center-vertical\"></mat-icon>\r\n                        <span class=\"check-mark-text\">Closed</span>\r\n                    </div>\r\n                    <div translation-skip\r\n                         fxShow\r\n                         fxHide.lt-md\r\n                         class=\"fx-flex-auto-grow-more unlimited-flex\">\r\n                        {{invoiced.agencyName}}\r\n                    </div>\r\n                </section>\r\n\r\n                <section col-end\r\n                         class=\"fx-flex-none fx-layout-row fx-layout-align-end-center\">\r\n                    <div class=\"fx-flex-auto larger-limited-flex-end\"><currency [value]=\"invoiced.originalInvoiceTotal\"></currency></div>\r\n                </section>\r\n            </fx-row>\r\n        </div>\r\n    </div>\r\n</main>\r\n","import { Component, Input, OnInit, Inject } from '@angular/core';\r\nimport { AuthenticationService } from 'authentication/authenticationService/authentication.service';\r\n\r\nimport { CmsImage } from 'common/interfaces';\r\nimport { CmsUtilService } from 'cms/services';\r\nimport { ViolationsDataService } from 'violationsCommon/services/violationsService/violationsData.service';\r\n\r\nimport { FrameComponent } from 'violations/frame/frame.component';\r\nimport { InvoiceExampleComponent, CmsInvoiceExampleData } from './invoiceExample.component';\r\nimport {\r\n    LoginPopUpInjectionValues, CmsContent as LoginModalCmsContent,\r\n    LoginModalComponent, CloseImage as LoginModalCloseImage\r\n} from 'common/ui/modals/loginPopUpModal/loginModal.component';\r\nimport { DialogService } from 'common/services';\r\nimport { SiteCoreItem, SiteCoreMediaItem } from 'cms/cms.module';\r\nimport { StorefrontUtilityService } from '../../storefront/services/storefrontUtility.service';\r\n\r\ninterface LandingPageCmsData {\r\n    Title: string;\r\n    ShortDescription: string;\r\n    Children: any[];\r\n}\r\n\r\ninterface CloseImageCMSData {\r\n    Image: string;\r\n}\r\n\r\n@Component({\r\n    selector: 'violations-landing-component',\r\n    templateUrl: './landing.html',\r\n    styleUrls: ['./landing.less']\r\n})\r\nexport class LandingComponent implements OnInit {\r\n\r\n    //@host decorator was removed for parent due to issue with Ivy. see https://github.com/angular/angular/issues/31539\r\n    constructor(\r\n        private parent: FrameComponent,\r\n        private violationsDataService: ViolationsDataService,\r\n        private cmsUtilService: CmsUtilService,\r\n        private storefrontUtilityService: StorefrontUtilityService,\r\n        private dialogService: DialogService,\r\n        private authService: AuthenticationService\r\n    ) { }\r\n\r\n\r\n    @Input() cmsMainPage: LandingPageCmsData = {} as LandingPageCmsData;\r\n    @Input() cmsSectionDoYouHaveAnEZTagAccount: SiteCoreItem = {} as SiteCoreItem;\r\n    @Input() cmsSectionImportantReminders: SiteCoreItem = {} as SiteCoreItem;\r\n    @Input() cmsSectionInvoiceImage: SiteCoreMediaItem & { ImageCaption: string } = {} as (SiteCoreMediaItem & { ImageCaption: string });\r\n    @Input() cmsSectionSearchForTollViolationInvoices: SiteCoreItem = {} as SiteCoreItem;\r\n    @Input() cmsInvoiceExample: SiteCoreItem = {} as SiteCoreItem;\r\n\r\n    @Input() cmsLoginModal: LoginModalCmsContent;\r\n    @Input() closeImage: CloseImageCMSData;\r\n\r\n\r\n    @Input() public usStates: { stateCode: string }[];\r\n\r\n    public cmsImage: CmsImage;\r\n    public stateList: any[] = [];\r\n    public invoiceNumber: string;\r\n    public violations = {\r\n        selectedState: { stateCode: '' },\r\n        licensePlateNumber: '',\r\n        invoiceNumber: ''\r\n    };\r\n\r\n    ////Kiosk variables\r\n    public kioskCmsData: {\r\n        whatIsAViolationTitle: '';\r\n        whatIsAViolationContent: '';\r\n        payTollTitle: '';\r\n        payTollContent: '';\r\n        hearingProcessTitle: '';\r\n        hearingProcessContent: '';\r\n        wizardTitle: '';\r\n    };\r\n\r\n    public paymentComplete: boolean;\r\n\r\n    ngOnInit() {\r\n        this.violationsDataService.removeAllWebStorageEntries();\r\n\r\n        this.stateList = this.parent.stateList;\r\n        this.parent.stepNum = 0;\r\n        this.parent.setTitle(this.cmsMainPage.Title);\r\n        this.parent.scrollToTop();\r\n\r\n        this.violations.selectedState = this.stateList?.find(x => x.stateCode === 'TX');\r\n\r\n        this.cmsImage = this.cmsUtilService.parseAllImageAttributes(this.cmsSectionInvoiceImage.Image) || {} as CmsImage;\r\n\r\n        //Kiosk\r\n\r\n\r\n        //This is to prevent the login modal popping on top of the survey in kiosk\r\n        const notKioskModeOrIsFullSiteKiosk = !this.storefrontUtilityService.isRunningAsKiosk || this.storefrontUtilityService.webStoreData.fullSiteMode;\r\n\r\n\r\n        if (!this.authService.isAuthenticated() && notKioskModeOrIsFullSiteKiosk) {\r\n            this.showLoginModal();\r\n        }\r\n    }\r\n\r\n    private showLoginModal() {\r\n\r\n        const data = {\r\n            cmsContent: this.cmsLoginModal as LoginModalCmsContent,\r\n            closeImage: this.closeImage as LoginModalCloseImage\r\n        };\r\n\r\n        this.dialogService.openGenericModal<LoginModalComponent, LoginPopUpInjectionValues>(LoginModalComponent, data);\r\n    }\r\n\r\n    public async findViolations() {\r\n\r\n        const fullRequest = {\r\n            violationsData: {\r\n                licenseState: this.violations.selectedState.stateCode,\r\n                invoiceNumber: this.violations.invoiceNumber,\r\n                licensePlate: this.violations.licensePlateNumber\r\n            }\r\n        };\r\n\r\n        await this.violationsDataService.findViolations(fullRequest.violationsData);\r\n    }\r\n\r\n    public openInvoiceExample() {\r\n        this.dialogService.openSliderCentered(InvoiceExampleComponent, {\r\n            pageData: this.cmsInvoiceExample\r\n        } as CmsInvoiceExampleData);\r\n    }\r\n}\r\n","<page-filled-container>\r\n    <section fxLayout=\"column\"\r\n             class=\"u-spacing__firstHeaderToTitle--marginTop u-spacing--widthFill\">\r\n        <header fxLayout=\"column\">\r\n            <h2>{{cmsSectionSearchForTollViolationInvoices.Title}}</h2>\r\n            <mat-divider class=\"u-spacing__divider--marginTopBottom\"></mat-divider>\r\n        </header>\r\n\r\n        <div fxLayout=\"row\"\r\n             fxLayoutAlign=\"start start\"\r\n             fxLayoutGap=\"80px\"\r\n             class=\"u-spacing--widthFill\">\r\n\r\n            <div fxLayout=\"column\">\r\n                <article [innerHTML]=\"cmsSectionSearchForTollViolationInvoices.ShortDescription\"></article>\r\n\r\n                <form #LandingForm=\"ngForm\" validation-focus novalidate\r\n                      fxLayout=\"column start\"\r\n                      class=\"u-spacing__fieldToSection--marginTop\">\r\n\r\n                    <!-- State and License Plate Number-->\r\n                    <div fxLayout=\"row\"\r\n                         fxLayoutAlign=\"start start\"\r\n                         fxLayoutGap=\"30px\">\r\n                        <!-- State drop down-->\r\n                        <div fxFlex=\"none\">\r\n                            <mat-label>STATE</mat-label>\r\n                            <mat-select translation-skip [(value)]=\"violations.selectedState\"\r\n                                        [disableOptionCentering]=\"true\">\r\n                                <mat-option *ngFor=\"let state of stateList\" [value]=\"state\">{{state.stateCode}}</mat-option>\r\n                            </mat-select>\r\n                        </div>\r\n\r\n                        <!-- License Plate input box-->\r\n                        <div fxFlex=\"auto\"\r\n                             fxFlex.lt-md=\"calc(100% - 587px)\"\r\n                             [error-check]=\"licensePlateInput\">\r\n                            <mat-label>LICENSE PLATE NUMBER</mat-label>\r\n                            <input type=\"text\"\r\n                                   name=\"licensePlate\"\r\n                                   [(ngModel)]=\"violations.licensePlateNumber\" #licensePlateInput=\"ngModel\"\r\n                                   required\r\n                                   id=\"licensePlate\"\r\n                                   tabindex=\"2\"\r\n                                   pattern=\"^[a-zA-Z0-9]{1,10}$\"\r\n                                   maxlength=\"10\" />\r\n                            <aside *ngFor=\"let error of licensePlateInput.errors | keyvalue\">\r\n                                <ng-container *ngIf=\"LandingForm.submitted\" [ngSwitch]=\"error.key\">\r\n                                    <p *ngSwitchCase=\"'pattern'\" class=\"help-block\">Please enter a valid license plate number</p>\r\n                                    <p *ngSwitchCase=\"'required'\" class=\"help-block\">Please enter a valid license plate number</p>\r\n                                    <p *ngSwitchCase=\"'maxlength'\" class=\"help-block\">Please enter a valid license plate number</p>\r\n                                </ng-container>\r\n                            </aside>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <!-- Invoice number input box -->\r\n                    <div fxLayout=\"column\"\r\n                         class=\"u-spacing__fieldToField--marginTop\"\r\n                         [error-check]=\"invoiceNumberInput\">\r\n                        <mat-label for=\"invoice\">INVOICE NUMBER</mat-label>\r\n                        <input type=\"text\"\r\n                               id=\"invoice\"\r\n                               [(ngModel)]=\"violations.invoiceNumber\" #invoiceNumberInput=\"ngModel\"\r\n                               pattern=\"^[0-9]+$\"\r\n                               name=\"invoice\"\r\n                               tabindex=\"3\"\r\n                               required />\r\n\r\n                        <aside *ngFor=\"let error of invoiceNumberInput.errors | keyvalue\">\r\n                            <ng-container *ngIf=\"LandingForm.submitted\" [ngSwitch]=\"error.key\">\r\n                                <p *ngSwitchCase=\"'pattern'\" class=\"help-block\">Please enter a valid invoice number</p>\r\n                                <p *ngSwitchCase=\"'required'\" class=\"help-block\">Please enter a valid invoice number</p>\r\n                            </ng-container>\r\n                        </aside>\r\n\r\n                        <div>\r\n                            <a id=\"findInvoiceLnk\" (click)=\"openInvoiceExample()\">Need help finding the information on your invoice?</a>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <!-- Submit Button -->\r\n                    <div class=\"u-spacing__buttonToField--marginTop\">\r\n                        <wizard-ui (next)=\"findViolations()\"\r\n                                   [reverseOrder]=\"true\">\r\n                            <span wizard-next>SUBMIT</span>\r\n                        </wizard-ui>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n\r\n            <!-- Image: Example of a toll violation Invoice -->\r\n            <div fxLayout=\"column\"\r\n                 fxHide.lt-md>\r\n                <figure *ngIf=\"cmsImage.image\"\r\n                        id=\"violations-landing-image\">\r\n                    <img [src]=\"cmsImage.image\"\r\n                         [attr.alt]=\"cmsImage.alt\"\r\n                         [attr.height]=\"cmsImage.height\"\r\n                         [attr.width]=\"cmsImage.width\" />\r\n                </figure>\r\n                <h3>{{cmsSectionInvoiceImage.ImageCaption}}</h3>\r\n            </div>\r\n        </div>\r\n    </section>\r\n\r\n    <section fxLayout=\"column\"\r\n             class=\"u-spacing__headerToSection--marginTop\">\r\n        <header fxLayout=\"column\">\r\n            <h2>{{cmsSectionDoYouHaveAnEZTagAccount.Title}}</h2>\r\n            <mat-divider class=\"u-spacing__divider--marginTopBottom\"></mat-divider>\r\n        </header>\r\n\r\n        <article [innerHTML]=\"cmsSectionDoYouHaveAnEZTagAccount.LongDescription\"></article>\r\n    </section>\r\n\r\n    <section fxLayout=\"column\"\r\n             class=\"u-spacing__headerToSection--marginTop\">\r\n        <header fxLayout=\"column\">\r\n            <h2>{{cmsSectionImportantReminders.Title}}</h2>\r\n            <mat-divider class=\"u-spacing__divider--marginTopBottom\"></mat-divider>\r\n        </header>\r\n\r\n        <article [innerHTML]=\"cmsSectionImportantReminders.LongDescription | safeHtml\"></article>\r\n    </section>\r\n\r\n</page-filled-container>\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { UIRouterModule } from '@uirouter/angular';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { CommonModule as HctraCommonModule, ENVIRON_CONFIG } from 'common/module';\r\nimport { PipesModule } from 'pipes/module';\r\n\r\n//components\r\nimport { FrameComponent } from './frame/frame.component';\r\nimport { LandingComponent } from './landing/landing.component';\r\nimport { GridComponent } from './grid/grid.component';\r\nimport { SelectPaymentComponent } from './selectPayment/selectPayment.component';\r\nimport { ConfirmComponent } from './confirm/confirm.component';\r\nimport { ReceiptComponent } from './receipt/receipt.component';\r\nimport { InvoiceExampleComponent } from './landing/invoiceExample.component';\r\nimport { PrevPaidInvoicesComponent } from './grid/prevPaidInvoicesModal/prevPaidInvoicesModal.component';\r\nimport { InvoicedDetailsModalComponent } from './detailsRefresh/invoiced/invoicedDetailsModal.component';\r\n\r\nimport { violationsGridRefreshComponents } from './detailsRefresh';\r\n\r\nimport { StorefrontModule } from 'storefront/module';\r\nimport { ValidationModule } from 'validation/module';\r\n\r\nimport { DynamicRoutes } from 'app/routing';\r\n\r\n/* Refresh Imports*/\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\nimport { MatDividerModule } from '@angular/material/divider';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatIconModule } from '@angular/material/icon';\r\n\r\nimport { stateNames as eoStates } from 'frp3/constants';\r\n\r\nimport { routes } from './routing';\r\n\r\nconst routesWithComponents = routes.map(route => {\r\n    const componentDictionary = {\r\n        [stateNames.Root]: FrameComponent,\r\n        [stateNames.Landing]: LandingComponent,\r\n        [stateNames.Grid]: GridComponent,\r\n        [stateNames.MakePayment]: SelectPaymentComponent,\r\n        [stateNames.Confirm]: ConfirmComponent,\r\n        [stateNames.Receipt]: ReceiptComponent\r\n    };\r\n\r\n    return {\r\n        ...route,\r\n        component: componentDictionary[route.name]\r\n    };\r\n});\r\n\r\nimport {\r\n    StateNames, CmsIds, Routes, FeatureToggles,\r\n    stateNames, cmsIds, urlPaths, featureToggles\r\n} from './constants';\r\n\r\nimport { HybridModule } from 'hybrid/module';\r\nimport { OverpaymentModalComponent } from './detailsRefresh/invoiced/overpaymentModal/overpaymentModal.component';\r\nimport { ViolationsCommonModule } from 'violationsCommon/violationsCommon.module';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        FrameComponent,\r\n        LandingComponent,\r\n        GridComponent,\r\n        SelectPaymentComponent,\r\n        ReceiptComponent,\r\n        ConfirmComponent,\r\n        InvoiceExampleComponent,\r\n        PrevPaidInvoicesComponent,\r\n        OverpaymentModalComponent,\r\n        ...violationsGridRefreshComponents,\r\n        InvoicedDetailsModalComponent\r\n    ],\r\n    imports: [\r\n        PipesModule, CommonModule,\r\n        DynamicRoutes([ENVIRON_CONFIG], (environConfig) => environConfig.isMergeMATandVioOn\r\n            ? [{ name: stateNames.Root, url: urlPaths.Future, redirectTo: eoStates.Landing }]\r\n            : routesWithComponents\r\n        ),\r\n        HctraCommonModule, StorefrontModule,\r\n        HybridModule,\r\n        ValidationModule,\r\n        FormsModule,\r\n        FlexLayoutModule,\r\n        MatDividerModule,\r\n        MatFormFieldModule,\r\n        MatSelectModule,\r\n        MatIconModule,\r\n        ViolationsCommonModule\r\n    ],\r\n    providers: [\r\n        { provide: StateNames, useValue: stateNames },\r\n        { provide: CmsIds, useValue: cmsIds },\r\n        { provide: Routes, useValue: urlPaths },\r\n        { provide: FeatureToggles, useValue: featureToggles }\r\n    ]\r\n})\r\n\r\nexport class ViolationsModule { }\r\n","import { Component, Input, Inject, OnInit } from '@angular/core';\r\n\r\nimport { StateService, UIRouterGlobals } from '@uirouter/angular';\r\nimport { StateConfig } from 'common/interfaces';\r\nimport { ViolationPlateContainer } from 'violations/interfaces';\r\n\r\nimport { ViolationsDataService } from 'violationsCommon/services/violationsService/violationsData.service';\r\nimport { FrameComponent } from '../frame/frame.component';\r\n\r\nimport { WindowRef } from 'common/providers';\r\nimport { BillingInfo, BillingType, BankAccountType } from 'common/models';\r\nimport { isEmpty } from 'lodash';\r\nimport { StateNames as ViolationsStateNames } from 'violations/constants';\r\nimport { WizardComponent } from 'common/ui';\r\nimport { BrowserExtensionHandlerService } from '../../common/services/browserExtensionHandlerService/browserExtensionHandler.service';\r\n\r\nexport interface CmsContent {\r\n    Title: string;\r\n    TITLE_1: string;\r\n    BillingInformationHeader: string;\r\n}\r\n\r\nexport interface CmsSection {\r\n    Title: string;\r\n    LongDescription: string;\r\n}\r\nexport interface CmsPaymentPopUp extends CmsSection {\r\n    ButtonText: string;\r\n}\r\n\r\n@Component({\r\n    selector: 'receipt-component',\r\n    templateUrl: './receipt.html',\r\n    styleUrls: ['./receipt.less'],\r\n    providers: [\r\n        WizardComponent\r\n    ]\r\n})\r\nexport class ReceiptComponent implements OnInit {\r\n\r\n    constructor(\r\n        private parent: FrameComponent,\r\n        private browserExtensionHandlerService: BrowserExtensionHandlerService,\r\n        @Inject(WindowRef) private window: Window,\r\n        private uiRouterGlobals: UIRouterGlobals,\r\n        private state: StateService,\r\n        private violationsDataService: ViolationsDataService,\r\n        private stateNames: ViolationsStateNames,\r\n        private wizard: WizardComponent\r\n    ) {\r\n    }\r\n\r\n    @Input() cmsContent: CmsContent;\r\n    @Input() cmsSectionImportantInformation: CmsSection;\r\n    @Input() cmsSectionThankYou: CmsSection;\r\n    @Input() cmsPaymentPostingPopup: CmsPaymentPopUp;\r\n\r\n    public BillingType = BillingType;\r\n    public billingMethod: BillingInfo;\r\n    public plateContainer: ViolationPlateContainer;\r\n    public showReturnToInvoicesLink: boolean;\r\n\r\n    public thankYouSectionParams = {};\r\n\r\n    private get dateNow() {\r\n        return new Date();\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.parent.stepNum = 4; //This removes the wizard stepper.\r\n        this.billingMethod = this.uiRouterGlobals.params.billingInfo || {};\r\n        this.plateContainer = this.parent.getPlateContainer();\r\n\r\n        if (!isEmpty(this.billingMethod) && this.billingMethod.billingType) {\r\n            this.browserExtensionHandlerService.sendTag(this.uiRouterGlobals.current, this.plateContainer.violationsFlowName);\r\n            this.showReturnToInvoicesLink = this.plateContainer.remainingBalance !== 0;\r\n            this.parent.setTitle(this.cmsContent.Title);\r\n            this.thankYouSectionParams = {\r\n                paymentDate: this.dateNow,\r\n                totalPayment: this.plateContainer.paymentAmount,\r\n                remainingBalance: this.plateContainer.remainingBalance\r\n            };\r\n        } else {\r\n            this.state.go(this.stateNames.Landing);\r\n        }\r\n    }\r\n\r\n    public async goToLoginOrAccountOverview() {\r\n        await this.wizard.gotoNextState();\r\n        this.violationsDataService.removeAllWebStorageEntries();\r\n    }\r\n\r\n    public async backToInvoicesGrid() {\r\n        const fullRequest = {\r\n            licenseState: this.plateContainer.plate.licenseState,\r\n            invoiceNumber: this.plateContainer.invoiceSearchNum,\r\n            licensePlate: this.plateContainer.plate.licensePlate\r\n        };\r\n\r\n        await this.violationsDataService.findViolations(\r\n            fullRequest,\r\n            {\r\n                to: this.stateNames.Grid, params: { billingInfo: this.billingMethod },\r\n                options: { custom: { isExplicitlyAllowedTransition: true } }\r\n            }\r\n        );\r\n    }\r\n\r\n    public async nextTask(nextState: StateConfig) {\r\n        await this.state.go(nextState);\r\n    }\r\n}\r\n","<page-centered-container>\r\n    <div fxLayout=\"column\">\r\n\r\n        <card-container class=\"u-spacing__firstHeaderToTitle--marginTop\">\r\n            <!-- Thank You Section-->\r\n            <section fxLayout=\"column\">\r\n                <header>\r\n                    <div fxLayout=\"row\"\r\n                         fxLayoutAlign=\"start center\"\r\n                         fxLayout.lt-md=\"column\"\r\n                         fxLayoutAlign.lt-md=\"start start\">\r\n                        <h2 fxFlex=\"grow\"\r\n                            fxFlexOrder=\"1\"\r\n                            fxFlexOrder.lt-md=\"2\">\r\n                            {{cmsSectionThankYou.Title}}\r\n                        </h2>\r\n                        <div fxFlex=\"none\"\r\n                             fxFlexOrder=\"2\"\r\n                             fxFlexOrder.lt-md=\"1\"\r\n                             ngClass.lt-md=\"printContainer-extra-bottom-space\">\r\n                            <print-link id=\"printButton\"></print-link>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <mat-divider class=\"u-spacing__divider--marginTopBottom\"></mat-divider>\r\n                </header>\r\n            </section>\r\n\r\n            <section fxLayout=\"column\">\r\n                <row-container [rowType]=\"'emphasis'\">\r\n                    <article col-start\r\n                             id=\"totalPaymentLabel\"\r\n                             fxFlex=\"grow\">\r\n                        Payment Amount:\r\n                    </article>\r\n\r\n                    <article col-end\r\n                             id=\"totalPaymentValue\"\r\n                             fxFlex=\"none\">\r\n                        <currency [value]=\"plateContainer.paymentAmount\"></currency>\r\n                    </article>\r\n                </row-container>\r\n            </section>\r\n\r\n            <section fxLayout=\"column\" class=\"u-spacing__sectionToRow--marginTop\">\r\n                <article>\r\n                    <cms-content id=\"thankYouSection\" [template]=\"cmsSectionThankYou.LongDescription\" [data]=\"thankYouSectionParams\"></cms-content>\r\n                </article>\r\n            </section>\r\n\r\n\r\n            <!-- Billing Information Section -->\r\n            <section fxLayout=\"column\"\r\n                     class=\"u-spacing__headerToSection--marginTop\">\r\n                <header>\r\n                    <h2>{{cmsContent.BillingInformationHeader}}</h2>\r\n                    <mat-divider class=\"u-spacing__divider--marginTopBottom\"></mat-divider>\r\n                </header>\r\n\r\n                <payment-display [billingType]=\"billingMethod.billingType\"\r\n                                 [bankDetails]=\"billingMethod.eft\"\r\n                                 [creditCard]=\"billingMethod.credit\"\r\n                                 [showAccountNumber]=\"true\">\r\n                </payment-display>\r\n\r\n                <address-display *ngIf=\"billingMethod.billingType\"\r\n                                 class=\"u-spacing__addressToPaymentDisplay--marginTop\"\r\n                                 [address]=\"billingMethod.billingType === BillingType.Credit ?  billingMethod.credit : billingMethod.eft\"\r\n                                 [international]=\"billingMethod.billingType === BillingType.Credit ? billingMethod.credit.international : billingMethod.eft.international\">\r\n                </address-display>\r\n            </section>\r\n\r\n            <!-- Important Information Section-->\r\n            <section fxLayout=\"column\"\r\n                     class=\"u-spacing__headerToSection--marginTop\">\r\n                <header>\r\n                    <h2>{{cmsSectionImportantInformation.Title}}</h2>\r\n                    <mat-divider class=\"u-spacing__divider--marginTopBottom\"></mat-divider>\r\n                </header>\r\n\r\n                <article>\r\n                    <cms-content id=\"importantInformationSection\" [template]=\"cmsSectionImportantInformation.LongDescription\" [data]=\"thankYouSectionParams\"></cms-content>\r\n                </article>\r\n            </section>\r\n\r\n            <!-- Buttons/Links for 'next' & 'cancel' states -->\r\n            <section class=\"u-spacing--widthFill u-spacing__buttonToField--marginTop\">\r\n                <storefront-utility #storefront></storefront-utility>\r\n                <section *ngIf=\"!storefront.isKioskView\">\r\n                    <wizard-ui [reverseOrder]=\"true\"\r\n                               (next)=\"goToLoginOrAccountOverview()\"\r\n                               (previous)=\"backToInvoicesGrid()\">\r\n                        <span wizard-next>LOGIN</span>\r\n                        <span wizard-previous>Return to Invoices</span>\r\n                    </wizard-ui>\r\n                </section>\r\n\r\n                <section *ngIf=\"storefront.isKioskView\">\r\n                    <wizard-ui (next)=\"nextTask($event)\">\r\n                        <span wizard-next>PROCEED</span>\r\n                    </wizard-ui>\r\n                </section>\r\n            </section>\r\n        </card-container>\r\n\r\n    </div>\r\n</page-centered-container>\r\n","import { Component, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { StateOrName, StateService, UIRouterGlobals } from '@uirouter/angular';\r\nimport { StateConfig } from 'common/interfaces';\r\nimport { BillingInfo, BillingType } from 'common/models';\r\nimport { ResponseErrorService } from 'common/services';\r\nimport { CreditCardEntryComponent } from 'common/ui';\r\nimport { BaseBankAccountRequest, WebApisService as ValidationApis } from 'validation/services/webApis.service';\r\nimport { FrameComponent } from '../frame/frame.component';\r\n\r\n\r\nexport interface CmsContent {\r\n    Title: string;\r\n    ShortDescription: string;\r\n    PaymentMethodHeader: string;\r\n    CCBillingAddressHeader: string;\r\n    EFTBillingAddressHeader: string;\r\n}\r\n\r\n@Component({\r\n    selector: 'select-payment',\r\n    templateUrl: './selectPayment.html',\r\n    styleUrls: ['./selectPayment.less']\r\n})\r\n\r\nexport class SelectPaymentComponent implements OnInit {\r\n\r\n    constructor(\r\n        private state: StateService,\r\n        private uiRouterGlobals: UIRouterGlobals,\r\n        private parent: FrameComponent,\r\n        private validationApis: ValidationApis,\r\n        private responseErrorService: ResponseErrorService\r\n    ) {\r\n    }\r\n\r\n    @ViewChild(CreditCardEntryComponent, { static: false }) creditEntry: CreditCardEntryComponent;\r\n\r\n    @Input() stateList: any[];\r\n    @Input() countryList: any[];\r\n    @Input() cmsContent: CmsContent;\r\n\r\n    public BillingType = BillingType;\r\n    public billingInfo: BillingInfo = {\r\n        eft: {\r\n            accountType: null,\r\n            name: null,\r\n            routingNumber: null,\r\n            accountNumber: null,\r\n            address1: null,\r\n            city: null,\r\n            state: null,\r\n            zip: null,\r\n            plus4: null,\r\n            country: 'USA',\r\n            displayCountry: 'USA',\r\n            international: false\r\n        },\r\n        credit: {\r\n            cardCode: null,\r\n            cardNbr: null,\r\n            expMonth: null,\r\n            expYear: null,\r\n            nameOnCard: null,\r\n            address1: null,\r\n            city: null,\r\n            state: null,\r\n            zip: null,\r\n            plus4: null,\r\n            country: 'USA',\r\n            displayCountry: 'USA',\r\n            international: false\r\n        },\r\n        billingType: null\r\n    };\r\n\r\n    async nextStep(nextState: StateConfig) {\r\n\r\n        let paymentReady = false;\r\n\r\n        if (this.billingInfo.billingType === BillingType.Eft) {\r\n            const eftRequest: BaseBankAccountRequest = {\r\n                accountType: this.billingInfo.eft.accountType,\r\n                routingNumber: this.billingInfo.eft.routingNumber,\r\n                accountNumber: this.billingInfo.eft.accountNumber\r\n            };\r\n\r\n            const response = await this.validationApis.validateRoutingNumber(eftRequest);\r\n\r\n            if (Array.isArray(response.alerts) && response.alerts.length !== 0) {\r\n                this.responseErrorService.displayAlertsFromResponse(response, true);\r\n            }\r\n\r\n            paymentReady = true;\r\n        } else if (this.creditEntry) {\r\n            paymentReady = await this.creditEntry.submit();\r\n        }\r\n\r\n        if (paymentReady) {\r\n            await this.state.go(nextState, { billingInfo: this.billingInfo });\r\n        }\r\n    }\r\n\r\n    async goToPreviousState(targetState: StateOrName) {\r\n        await this.state.go(targetState, { billingInfo: this.billingInfo });\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.billingInfo = this.uiRouterGlobals.params.billingInfo || this.billingInfo;\r\n        this.parent.setTitle(this.cmsContent.Title);\r\n        this.parent.stepNum = 2;\r\n        this.parent.scrollToTop();\r\n    }\r\n}\r\n","<page-centered-container>\r\n    <form #BillingForm=\"ngForm\" validation-focus name=\"violationsForm\"\r\n          fxLayout=\"column\"\r\n          class=\"u-spacing--widthFill\">\r\n        <card-container>\r\n            <header>\r\n                <h2>{{cmsContent.PaymentMethodHeader}}</h2>\r\n                <mat-divider class=\"u-spacing__divider--marginTopBottom\"></mat-divider>\r\n            </header>\r\n            <section>\r\n                <payment-method [(billingType)]=\"billingInfo.billingType\">\r\n                </payment-method>\r\n            </section>\r\n            <section *ngIf=\"billingInfo.billingType\" class=\"u-spacing__fieldToField--marginTop\">\r\n                <bank-account-entry *ngIf=\"billingInfo.billingType === BillingType.Eft\"\r\n                                    [bankDetails]=\"billingInfo.eft\"\r\n                                    [validate]=\"true\"\r\n                                    [showName]=\"true\">\r\n                </bank-account-entry>\r\n                <credit-card-entry *ngIf=\"billingInfo.billingType === BillingType.Credit\"\r\n                                   [creditCard]=\"billingInfo.credit\">\r\n                </credit-card-entry>\r\n            </section>\r\n        </card-container>\r\n        <card-container *ngIf=\"billingInfo.billingType\"\r\n                        class=\"u-spacing__cardToCard--marginTop\">\r\n            <header>\r\n                <h2>Billing Address</h2>\r\n                <mat-divider class=\"u-spacing__divider--marginTopBottom\"></mat-divider>\r\n            </header>\r\n            <address-entry [stateList]=\"stateList\"\r\n                           [address]=\"billingInfo.billingType === BillingType.Credit ?  billingInfo.credit : billingInfo.eft\"\r\n                           [billingType]=\"billingInfo.billingType\"\r\n                           [validate]=\"true\"\r\n                           [countryList]=\"countryList\"\r\n                           [(international)]=\"billingInfo.billingType === BillingType.Credit ? billingInfo.credit.international : billingInfo.eft.international\">\r\n            </address-entry>\r\n        </card-container>\r\n\r\n        <section class=\"u-spacing__buttonToField--marginTop\">\r\n            <wizard-ui (next)=\"nextStep($event)\"\r\n                       (previous)=\"goToPreviousState($event)\">\r\n                <span wizard-next>CONTINUE</span>\r\n                <span wizard-previous\r\n                      fxLayout=\"row\"\r\n                      fxLayoutAlign=\"start center\">\r\n                    <mat-icon svgIcon=\"previous-arrow\"></mat-icon>\r\n                    Previous\r\n                </span>\r\n                <span wizard-cancel>Cancel</span>\r\n            </wizard-ui>\r\n        </section>\r\n    </form>\r\n</page-centered-container>\r\n"],"names":["BankAccountType","BillingType","BillingModalComponent","cloneDeep","isEmpty","WizardComponent","i0","ctx_r3","ConfirmComponent","constructor","parent","uiRouterGlobals","state","webApis","responseErrorService","dialogService","ngOnInit","billingInfo","params","plateContainer","stepNum","ngAfterViewInit","billingType","setupPage","wizardComponent","gotoPreviousState","getPlateContainer","setTitle","cmsData","Title","scrollToTop","previous","targetState","go","submit","plate","paymentAmount","paymentRequest","isCreditCard","Credit","eftPaymentMethod","eft","nameOnBankAccount","name","accountTypeDisplay","accountType","Personal","creditCardPaymentMethod","credit","totalPaymentAmount","response","makePayment","errors","length","displayErrorsFromResponse","goToNextState","nextState","custom","isExplicitlyAllowedTransition","openModal","data","billingInformation","stateList","countryList","openSliderCentered","then","result","selectors","viewQuery","ctx","WindowRef","wait","hideTrigger","FrameComponent","webStorageConst","violationStates","windowRef","webStorage","stateService","licensePlate","licenseState","discountProgramCode","uninvoicedViolations","invoices","steps","cms","Step1","background","Step2","Step3","Step4","isHidden","scrollTo","currentData","current","_a","title","getValue","enhancedViolationsPlateAndInvoiceData","Landing","emptyPlate","inputs","decls","vars","consts","template","stateNames","cavveStates","ENVIRON_CONFIG","clone","isNil","PdfUrlService","WebApisService","PrevPaidInvoicesComponent","ctx_r22","ctx_r24","ctx_r13","ctx_r14","ctx_r15","ctx_r27","ctx_r16","ctx_r37","agency_r35","ctx_r41","agency_r39","ctx_r44","ctx_r7","ctx_r52","ctx_r54","ctx_r47","ctx_r48","ctx_r49","ctx_r57","ctx_r50","ctx_r9","ctx_r64","ctx_r66","ctx_r67","ctx_r68","ctx_r70","_r60","_r62","_r6","_r8","ctx_r71","ctx_r73","ctx_r75","ctx_r4","GridComponent","environmentConfig","toasterService","invoicesAndViolations","paginationConfig","violations","PageSize","LimitToStart","discountTop","text","invoiceHeader","invoiceHeaderDescription","selectHeader","selectHeaderDescription","summary","importantReminderHeader","importantReminder","noDiscountTop","plateHeader","plateHeaderDescription","outstandingViolationsHeader","outstandingViolationsHeaderDescription","previouslyPaidInvoices","plateDueBeforeDiscount","discountCmsData","hasOutstandingViolations","partialPayments","discountPerAgencyAvailable","showDiscountPage","agencies","forEach","agency","isChecked","selectedAgenciesToPay","totalDueAfterDiscount","plateContainerWithDiscount","violationsFlowName","ItemName","totalSelected","serviceFee","remainingBalance","setKeyValue","mobileLoadedCombinedViolationsArrayLength","mobileLoadedPlate","recalculatePlateContainerValues","reduce","sum","totalFeesDiscounted","discountTotal","totalDueBeforeDiscount","selectSingleAgencyToPay","event","target","checked","push","find","x","agencyName","toLowerCase","value","unpaidAgencies","document","getElementById","filter","obj","selectAllCheckboxes","pop","violation","Array","isArray","concat","vio","discountStringArray","Set","map","item","discountProgram","previouslyPaidPlate","getPreviouslyPaidPlate","showPreviouslyPaidPlate","hasViewableContent","currentStep","getCurrentStep","Children","child","toString","DISCOUNT_ENUM","DISCOUNT_STRING","setSummaryArray","noDiscountCmsData","prevPaidCmsData","PAYMENT_SUMMARY_INFO","LongDescription","getShowDiscountPage","NO_DISCOUNT_HEADER","ShortDescription","NO_DISCOUNT_INVOICE_HEADER","DISCOUNT_INVOICE_HEADER","DISCOUNT_VIOLATIONS_HEADER","IMPORTANT_REMINDER","licensePlateState","toUpperCase","licensePlateNumber","itemsFound","totalAmountDue","overpaymentModalCmsContent","OVERPAYMENT_HEADER","PrimaryContent","OVERPAYMENT_BODY","wizardBackLabel","isNewEzTagAccountEligibile","noDiscountWizardBackLabel","getDiscountTitle","paginatedPlate","paginationLimit","updateViolationsDetailsTable","pageIndex","pageSize","defaultPageSize","mobileLoadMore","start","end","subViolationsArray","slice","openPrevPaidInvoices","number","openSliderFilled","goToNextWhenPaymentAmountValid","show","TOAST_NO_INVOICES_SELECTED","savePlateContainer","showDiscount","goToPreviousState","hideDiscount","to","Offer","discountEnumArray","discountCms","discountSummary","discountArray","features","provide","useExisting","_r3","_r1","InvoiceExampleComponent","LoginModalComponent","ctx_r6","LandingComponent","violationsDataService","cmsUtilService","storefrontUtilityService","authService","selectedState","stateCode","invoiceNumber","removeAllWebStorageEntries","cmsMainPage","cmsImage","parseAllImageAttributes","cmsSectionInvoiceImage","Image","notKioskModeOrIsFullSiteKiosk","isRunningAsKiosk","webStoreData","fullSiteMode","isAuthenticated","showLoginModal","cmsContent","cmsLoginModal","closeImage","openGenericModal","findViolations","fullRequest","violationsData","openInvoiceExample","pageData","cmsInvoiceExample","cmsSectionDoYouHaveAnEZTagAccount","cmsSectionImportantReminders","cmsSectionSearchForTollViolationInvoices","usStates","ctx_r0","ReceiptComponent","browserExtensionHandlerService","window","wizard","dateNow","Date","billingMethod","sendTag","showReturnToInvoicesLink","thankYouSectionParams","paymentDate","totalPayment","goToLoginOrAccountOverview","gotoNextState","backToInvoicesGrid","invoiceSearchNum","Grid","options","nextTask","cmsSectionImportantInformation","cmsSectionThankYou","cmsPaymentPostingPopup","CreditCardEntryComponent","ctx_r2","SelectPaymentComponent","validationApis","routingNumber","accountNumber","address1","city","zip","plus4","country","displayCountry","international","cardCode","cardNbr","expMonth","expYear","nameOnCard","nextStep","paymentReady","Eft","eftRequest","validateRoutingNumber","alerts","displayAlertsFromResponse","creditEntry"],"sourceRoot":"webpack:///"}