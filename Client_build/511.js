"use strict";(self.webpackChunkng_app=self.webpackChunkng_app||[]).push([[511],{12511:(on,ie,l)=>{l.r(ie),l.d(ie,{CAVVEModule:()=>nn});var se=l(59008),m=l(4857),h=l(63660),Me=l(68359),Q=l(55297),ae=l(73201),Pe=l(68665),Oe=l(29419),Ae=l(67914),Te=l(82701),we=l(26186),Se=l(98730),N=l(39230),y=l(44982),A=l(79210),X=l(27520),Ze=l(40739),g=l(73748),e=l(13847),W=l(38898),S=l(83434),De=l(38018),Fe=l(63457);let L=(()=>{class o{constructor(t,n,i){this.webStorageConst=t,this.webStorage=n,this.stateService=i,this.steps=[],this.stepNum=0}getPlateContainer(){return this.webStorage.getValue(this.webStorageConst.enhancedViolationsPlateAndInvoiceData)||(this.stateService.go(X.Dn.Landing),{plate:{licensePlate:"",licenseState:"",discountProgramCode:0,uninvoicedViolations:[],invoices:[]}})}ngOnInit(){this.webStorage.removeEntry(this.webStorageConst.cavveConversionData),this.violations=this.webStorage.getValue(g.yu.uninvoiced),this.createAccountFromViolationsTotals=this.webStorage.getValue(g.yu.createAccountFromViolationsTotals)||{},this.createAccountFromViolationsTotals.totalViolationsDue=this.webStorage.getValue(g.yu.remainingPlateTotalBeforeDiscount),this.createAccountFromViolationsTotals.serviceFee=this.webStorage.getValue(g.yu.serviceFee),this.steps=[{name:this.cmsBaseContent.Step1,background:"secondary"},{name:this.cmsBaseContent.Step2,background:"secondary"},{name:this.cmsBaseContent.Step3,background:"secondary"},{name:this.cmsBaseContent.Step4}],this.showAccountDetailsHeader=!1}setFrameTitle(t){this.cmsBaseContent.Title=t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(A.LC),e.Y36(W.V),e.Y36(S.StateService))},o.\u0275cmp=e.Xpm({type:o,selectors:[["cavve-frame-component"]],inputs:{cmsBaseContent:"cmsBaseContent",usStates:"usStates",countries:"countries"},decls:5,vars:3,consts:[[1,"refresh-2020"],[3,"steps","currentStepNum"]],template:function(t,n){1&t&&(e.TgZ(0,"main",0)(1,"title-banner"),e._uU(2),e.qZA(),e._UZ(3,"stepper",1)(4,"ui-view"),e.qZA()),2&t&&(e.xp6(2),e.hij(" ",n.cmsBaseContent.Title," "),e.xp6(1),e.Q6J("steps",n.steps)("currentStepNum",n.stepNum))},directives:[De.v,Fe.v,se.UIView],styles:[""]}),o})();var x=l(60195),le=l(39387),z=l(41034),Le=l(95556),p=l(45184),re=l(89707),Ue=l(16573),_=l(12423),M=l(14550),J=l(32761),O=l(97461),b=l(96165),K=l(47553),Qe=l(40063),Ne=l(29719);const Je=function(){return{"extended-row":!1}};let Be=(()=>{class o{constructor(t){this.dialogService=t}openTollDetailsModal(){this.dialogService.openSliderFilled(Qe.u,{invoiced:this.invoiced,plate:this.plate,isPreviousPaid:!1},{title:"Invoice Details",hasBack:!0,hasClose:!1})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(b.xA))},o.\u0275cmp=e.Xpm({type:o,selectors:[["cavve-violations-invoiced"]],inputs:{tollDetailsTitle:"tollDetailsTitle",plate:"plate",invoiced:"invoiced"},decls:16,vars:10,consts:[["ngClass","extended-row",3,"ngClass.lt-md"],[1,"clickable",3,"backgroundColorClass","click"],["col-start","",1,"fx-flex-auto","fx-layout-row","fx-layout-align-start-center"],[1,"fx-flex-auto-shrink-more","limited-flex"],[1,"fx-layout-row","fx-layout-align-start-center","u--noUnderline"],["translation-skip","",1,"fx-flex-none","violationId--width"],[1,"fx-flex-none","glyphicon","glyphicon-chevron-right"],["fxShow","","fxHide.lt-md","",1,"fx-flex-auto-shrink-more","limited-flex"],["translation-skip","","fxShow","","fxHide.lt-md","",1,"fx-flex-auto-grow-more","unlimited-flex"],["col-end","",1,"fx-flex-none","fx-layout-row","fx-layout-align-end-center"],[1,"fx-flex-auto","limited-flex-end"],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"main",0)(1,"fx-row",1),e.NdJ("click",function(){return n.openTollDetailsModal()}),e.TgZ(2,"section",2)(3,"div",3)(4,"a",4)(5,"div",5),e._uU(6),e.qZA(),e._UZ(7,"div",6),e.qZA()(),e.TgZ(8,"div",7),e._uU(9),e.ALo(10,"dateWithTimeZone"),e.qZA(),e.TgZ(11,"div",8),e._uU(12),e.qZA()(),e.TgZ(13,"section",9)(14,"div",10),e._UZ(15,"currency",11),e.qZA()()()()),2&t&&(e.Q6J("ngClass.lt-md",e.DdM(9,Je)),e.xp6(1),e.Q6J("backgroundColorClass","white-background"),e.xp6(5),e.Oqu(n.invoiced.invoiceNum),e.xp6(3),e.hij(" ",e.xi3(10,6,n.invoiced.dueDate,"date1")," "),e.xp6(3),e.hij(" ",n.invoiced.agencyName," "),e.xp6(3),e.Q6J("value",n.invoiced.invoiceDueBeforeDiscount))},directives:[m.mk,M.oO,K.b,M.b8,J.Q],pipes:[Ne.J],styles:["[_nghost-%COMP%]{width:100%}[_nghost-%COMP%]   .hidden[_ngcontent-%COMP%]{display:none;visibility:hidden}[_nghost-%COMP%]   .fx-flex-auto[_ngcontent-%COMP%]{flex:1 1 auto;box-sizing:border-box}[_nghost-%COMP%]   .fx-flex-none[_ngcontent-%COMP%]{flex:0 0 auto;box-sizing:border-box}[_nghost-%COMP%]   .fx-flex-auto-shrink-more[_ngcontent-%COMP%]{flex:1 2 auto;box-sizing:border-box}[_nghost-%COMP%]   .fx-flex-auto-grow-more[_ngcontent-%COMP%]{flex:2 1 auto;box-sizing:border-box}[_nghost-%COMP%]   .fx-layout-row[_ngcontent-%COMP%]{flex-direction:row;box-sizing:border-box;display:flex}[_nghost-%COMP%]   .fx-layout-column[_ngcontent-%COMP%]{flex-direction:column;box-sizing:border-box;display:flex}[_nghost-%COMP%]   .fx-layout-align-start-center[_ngcontent-%COMP%]{align-content:center;justify-content:flex-start;align-items:center}[_nghost-%COMP%]   .fx-layout-align-end-center[_ngcontent-%COMP%]{align-content:center;justify-content:flex-end;align-items:center}[_nghost-%COMP%]   .limited-flex[_ngcontent-%COMP%]{min-width:170px;max-width:530px;width:100%}[_nghost-%COMP%]   .unlimited-flex[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .limited-flex-end[_ngcontent-%COMP%]{min-width:70px;max-width:80px;width:100%;text-align:end}[_nghost-%COMP%]   .larger-limited-flex-end[_ngcontent-%COMP%]{min-width:143px;max-width:145px;width:100%;text-align:end}[_nghost-%COMP%]   .table-space[_ngcontent-%COMP%]{margin-top:8px}[_nghost-%COMP%]   .table-space.lt-md[_ngcontent-%COMP%]{margin-top:2px}[_nghost-%COMP%]   .rows[_ngcontent-%COMP%]{height:50px;width:469px}[_nghost-%COMP%]   .rowsConfirm[_ngcontent-%COMP%]{height:50px;width:566px}[_nghost-%COMP%]   .topRow[_ngcontent-%COMP%]{height:50px;width:469px;border-top:2px solid #d1d1d5;border-bottom:2px solid #d1d1d5}[_nghost-%COMP%]   .topRowConfirm[_ngcontent-%COMP%]{height:48px;width:566px;border-top:0px;border-bottom:1px solid #e0e0ef}[_nghost-%COMP%]   .bottomRow[_ngcontent-%COMP%]{height:50px;width:469px;border-top:2px solid #d1d1d5}[_nghost-%COMP%]   .bottomRowConfirm[_ngcontent-%COMP%]{height:49px;width:566px;border-top:0px;background-color:#e0e0ef;border-bottom-left-radius:10px;border-bottom-right-radius:10px}[_nghost-%COMP%]   .fields[_ngcontent-%COMP%]{padding-left:14px}[_nghost-%COMP%]   .greenFields[_ngcontent-%COMP%]{color:#018749;padding-left:14px;font-weight:700}[_nghost-%COMP%]   .values[_ngcontent-%COMP%]{padding-right:14px}[_nghost-%COMP%]   .greenValues[_ngcontent-%COMP%]{color:#018749;padding-right:14px;font-weight:700}[_nghost-%COMP%]   .rowSelected[_ngcontent-%COMP%]{background-color:#efeff4;border-top:2px solid white;border-bottom:2px solid white}[_nghost-%COMP%]   .totalRowSelected[_ngcontent-%COMP%]{border-top:2px solid white}[_nghost-%COMP%]   .confirmBorder[_ngcontent-%COMP%]{border-width:1px;border-style:solid;border-color:#e0e0ef;border-radius:10px;height:248px;width:566px}[_nghost-%COMP%]   #tollViolationsLabel[_ngcontent-%COMP%]{color:#007aff!important;padding-left:14px}[_nghost-%COMP%]   .glyphicon.glyphicon-chevron-right[_ngcontent-%COMP%]{font-size:11px;font-weight:100;top:-2px;color:#007aff!important}[_nghost-%COMP%]   .border-height[_ngcontent-%COMP%]{height:248px}[_nghost-%COMP%]   .border-height-nondiscount[_ngcontent-%COMP%]{height:198px}[_nghost-%COMP%]   .extended-row[_ngcontent-%COMP%]{margin-left:-20px;margin-right:-20px;padding-left:20px;padding-right:20px}[_nghost-%COMP%]   .extended-row.lt-md[_ngcontent-%COMP%]{margin-left:-14px;margin-right:-14px;padding-left:14px;padding-right:14px}[_nghost-%COMP%]   .glyphicon.glyphicon-chevron-right[_ngcontent-%COMP%]{font-size:11px;font-weight:100;top:-2px}[_nghost-%COMP%]   .violationId--width[_ngcontent-%COMP%]{width:118px}"]}),o})();var Re=l(21682);const Ve=function(){return{"extended-row":!1}};let Ee=(()=>{class o{constructor(t){this.dialogService=t}ngOnInit(){this.violationNumber=this.unInvoiced.violationId}openTollDetailsModal(){const t={agencyCode:this.unInvoiced.agencyName,amountDue:this.unInvoiced.tollAmount,location:this.unInvoiced.location,violationDate:this.unInvoiced.violationDate,violationNumber:this.unInvoiced.violationId.toString()};this.dialogService.openSliderFilled(Re.J,{uninvoicedDetails:t},{title:"Transaction Details",hasBack:!0,hasClose:!1})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(b.xA))},o.\u0275cmp=e.Xpm({type:o,selectors:[["cavve-violations-uninvoiced"]],inputs:{tollDetailsTitle:"tollDetailsTitle",plate:"plate",unInvoiced:"unInvoiced"},decls:14,vars:6,consts:[["ngClass","extended-row",3,"ngClass.lt-md"],[1,"clickable",3,"backgroundColorClass","click"],["col-start","",1,"fx-flex-auto","fx-layout-row","fx-layout-align-start-center"],[1,"fx-flex-auto-shrink-more","limited-flex"],[1,"fx-layout-row","fx-layout-align-start-center","u--noUnderline"],["translation-skip","",1,"fx-flex-none","violationId--width"],[1,"fx-flex-none","glyphicon","glyphicon-chevron-right"],["fxShow","","fxHide.lt-md","",1,"fx-flex-auto-shrink-more","limited-flex"],["translation-skip","","fxShow","","fxHide.lt-md","",1,"fx-flex-auto-grow-more","unlimited-flex"],["col-end","",1,"fx-flex-none","fx-layout-row","fx-layout-align-end-center"],[1,"fx-flex-auto","limited-flex-end"],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"main",0)(1,"fx-row",1),e.NdJ("click",function(){return n.openTollDetailsModal()}),e.TgZ(2,"section",2)(3,"div",3)(4,"a",4)(5,"div",5),e._uU(6),e.qZA(),e._UZ(7,"div",6),e.qZA()(),e._UZ(8,"div",7),e.TgZ(9,"div",8),e._uU(10),e.qZA()(),e.TgZ(11,"section",9)(12,"div",10),e._UZ(13,"currency",11),e.qZA()()()()),2&t&&(e.Q6J("ngClass.lt-md",e.DdM(5,Ve)),e.xp6(1),e.Q6J("backgroundColorClass","white-background"),e.xp6(5),e.Oqu(n.violationNumber),e.xp6(4),e.hij(" ",n.unInvoiced.agencyName," "),e.xp6(3),e.Q6J("value",n.unInvoiced.tollAmount))},directives:[m.mk,M.oO,K.b,M.b8,J.Q],styles:["[_nghost-%COMP%]{width:100%}[_nghost-%COMP%]   .hidden[_ngcontent-%COMP%]{display:none;visibility:hidden}[_nghost-%COMP%]   .fx-flex-auto[_ngcontent-%COMP%]{flex:1 1 auto;box-sizing:border-box}[_nghost-%COMP%]   .fx-flex-none[_ngcontent-%COMP%]{flex:0 0 auto;box-sizing:border-box}[_nghost-%COMP%]   .fx-flex-auto-shrink-more[_ngcontent-%COMP%]{flex:1 2 auto;box-sizing:border-box}[_nghost-%COMP%]   .fx-flex-auto-grow-more[_ngcontent-%COMP%]{flex:2 1 auto;box-sizing:border-box}[_nghost-%COMP%]   .fx-layout-row[_ngcontent-%COMP%]{flex-direction:row;box-sizing:border-box;display:flex}[_nghost-%COMP%]   .fx-layout-column[_ngcontent-%COMP%]{flex-direction:column;box-sizing:border-box;display:flex}[_nghost-%COMP%]   .fx-layout-align-start-center[_ngcontent-%COMP%]{align-content:center;justify-content:flex-start;align-items:center}[_nghost-%COMP%]   .fx-layout-align-end-center[_ngcontent-%COMP%]{align-content:center;justify-content:flex-end;align-items:center}[_nghost-%COMP%]   .limited-flex[_ngcontent-%COMP%]{min-width:170px;max-width:530px;width:100%}[_nghost-%COMP%]   .unlimited-flex[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .limited-flex-end[_ngcontent-%COMP%]{min-width:70px;max-width:80px;width:100%;text-align:end}[_nghost-%COMP%]   .larger-limited-flex-end[_ngcontent-%COMP%]{min-width:143px;max-width:145px;width:100%;text-align:end}[_nghost-%COMP%]   .table-space[_ngcontent-%COMP%]{margin-top:8px}[_nghost-%COMP%]   .table-space.lt-md[_ngcontent-%COMP%]{margin-top:2px}[_nghost-%COMP%]   .rows[_ngcontent-%COMP%]{height:50px;width:469px}[_nghost-%COMP%]   .rowsConfirm[_ngcontent-%COMP%]{height:50px;width:566px}[_nghost-%COMP%]   .topRow[_ngcontent-%COMP%]{height:50px;width:469px;border-top:2px solid #d1d1d5;border-bottom:2px solid #d1d1d5}[_nghost-%COMP%]   .topRowConfirm[_ngcontent-%COMP%]{height:48px;width:566px;border-top:0px;border-bottom:1px solid #e0e0ef}[_nghost-%COMP%]   .bottomRow[_ngcontent-%COMP%]{height:50px;width:469px;border-top:2px solid #d1d1d5}[_nghost-%COMP%]   .bottomRowConfirm[_ngcontent-%COMP%]{height:49px;width:566px;border-top:0px;background-color:#e0e0ef;border-bottom-left-radius:10px;border-bottom-right-radius:10px}[_nghost-%COMP%]   .fields[_ngcontent-%COMP%]{padding-left:14px}[_nghost-%COMP%]   .greenFields[_ngcontent-%COMP%]{color:#018749;padding-left:14px;font-weight:700}[_nghost-%COMP%]   .values[_ngcontent-%COMP%]{padding-right:14px}[_nghost-%COMP%]   .greenValues[_ngcontent-%COMP%]{color:#018749;padding-right:14px;font-weight:700}[_nghost-%COMP%]   .rowSelected[_ngcontent-%COMP%]{background-color:#efeff4;border-top:2px solid white;border-bottom:2px solid white}[_nghost-%COMP%]   .totalRowSelected[_ngcontent-%COMP%]{border-top:2px solid white}[_nghost-%COMP%]   .confirmBorder[_ngcontent-%COMP%]{border-width:1px;border-style:solid;border-color:#e0e0ef;border-radius:10px;height:248px;width:566px}[_nghost-%COMP%]   #tollViolationsLabel[_ngcontent-%COMP%]{color:#007aff!important;padding-left:14px}[_nghost-%COMP%]   .glyphicon.glyphicon-chevron-right[_ngcontent-%COMP%]{font-size:11px;font-weight:100;top:-2px;color:#007aff!important}[_nghost-%COMP%]   .border-height[_ngcontent-%COMP%]{height:248px}[_nghost-%COMP%]   .border-height-nondiscount[_ngcontent-%COMP%]{height:198px}[_nghost-%COMP%]   .extended-row[_ngcontent-%COMP%]{margin-left:-20px;margin-right:-20px;padding-left:20px;padding-right:20px}[_nghost-%COMP%]   .extended-row.lt-md[_ngcontent-%COMP%]{margin-left:-14px;margin-right:-14px;padding-left:14px;padding-right:14px}[_nghost-%COMP%]   .glyphicon.glyphicon-chevron-right[_ngcontent-%COMP%]{font-size:11px;font-weight:100;top:-2px}[_nghost-%COMP%]   .violationId--width[_ngcontent-%COMP%]{width:118px}"]}),o})();var ce=l(80001);const de=function(){return{"lt-md":!0}},ge=function(o,s){return{state:o,number:s}};function ke(o,s){if(1&o&&(e.TgZ(0,"div")(1,"div",14),e._UZ(2,"cavve-violations-invoiced",15),e.qZA()()),2&o){const t=s.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngClass.lt-md",e.DdM(3,de)),e.xp6(1),e.Q6J("invoiced",t)("plate",e.WLB(4,ge,n.plate.licenseState,n.plate.licensePlate))}}function Ye(o,s){if(1&o&&(e.TgZ(0,"div")(1,"div",14),e._UZ(2,"cavve-violations-uninvoiced",16),e.qZA()()),2&o){const t=s.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngClass.lt-md",e.DdM(3,de)),e.xp6(1),e.Q6J("unInvoiced",t)("plate",e.WLB(4,ge,n.plate.licenseState,n.plate.licensePlate))}}const pe=function(){return{hidden:!0}};let ze=(()=>{class o{constructor(t,n){this.dialogRef=t,this.environmentConfig=n,this.data={},this.sortInvoices=i=>[...i].sort((r,I)=>r.agencyName===I.agencyName?(0,O.isString)(r.dueDate)||(0,O.isNumber)(r.dueDate)||(0,O.isDate)(r.dueDate)?(0,O.isString)(I.dueDate)||(0,O.isNumber)(I.dueDate)||(0,O.isDate)(I.dueDate)?new Date(r.dueDate)>new Date(I.dueDate)?1:-1:1:-1:"h"===r.agencyName||"f"===r.agencyName&&"h"!==I.agencyName?-1:"f"===r.agencyName&&"h"===I.agencyName||"m"===r.agencyName?1:0)}close(){this.dialogRef.close()}ngOnInit(){this.data={...this.dialogRef.data},this.plate=this.data.plate,this.invoices=this.sortInvoices(this.plate.invoices),this.unInvoiced=this.environmentConfig.isMergeMATandVioOn?this.plate.uninvoicedViolations:[],this.totalAmount=this.data.tollSummaryDetails.totalViolationsDue,this.recordsFound=this.environmentConfig.isMergeMATandVioOn?this.invoices.length+this.unInvoiced.length:this.invoices.length}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(b.zj),e.Y36(z.U4))},o.\u0275cmp=e.Xpm({type:o,selectors:[["cavve-toll-violations-modal"]],decls:24,vars:12,consts:[["fxLayout","column"],["fxFlex","none","fxLayoutGap","8px"],[2,"padding-top","8px",3,"isLabel","backgroundColorClass"],["col-start","",1,"fx-flex-auto","fx-layout-row","fx-layout-align-start-center"],[1,"fx-flex-auto-shrink-more","limited-flex"],[1,"fx-flex-auto-shrink-more","limited-flex",3,"ngClass.lt-md"],[1,"fx-flex-auto-grow-more","unlimited-flex",3,"ngClass.lt-md"],["col-end","",1,"fx-flex-none","fx-layout-row","fx-layout-align-end-center"],[1,"fx-flex-auto","limited-flex-end"],[4,"ngFor","ngForOf"],[2,"padding-top","8px",3,"rowType"],["col-start","","fxFlex","grow"],["col-end","","fxFlex","none"],[3,"value"],[2,"padding-top","8px",3,"ngClass.lt-md"],[3,"invoiced","plate"],[3,"unInvoiced","plate"]],template:function(t,n){1&t&&(e.TgZ(0,"main")(1,"div",0)(2,"aside",1),e._uU(3),e.qZA(),e.TgZ(4,"fx-row",2)(5,"section",3)(6,"mat-label",4),e._uU(7,"INVOICE/TRANSACTION ID"),e.qZA(),e.TgZ(8,"mat-label",5),e._uU(9,"INVOICE DATE"),e.qZA(),e.TgZ(10,"mat-label",6),e._uU(11,"AGENCY"),e.qZA()(),e.TgZ(12,"section",7)(13,"mat-label",8),e._uU(14,"AMOUNT"),e.qZA()()(),e.YNc(15,ke,3,7,"div",9),e.YNc(16,Ye,3,7,"div",9),e.TgZ(17,"row-container",10)(18,"section",11)(19,"h3"),e._uU(20,"Total Toll Transactions"),e.qZA()(),e.TgZ(21,"section",12)(22,"h3"),e._UZ(23,"currency",13),e.qZA()()()()()),2&t&&(e.xp6(3),e.AsE(" ",n.recordsFound," Record",n.recordsFound>1?"s":""," found "),e.xp6(1),e.Q6J("isLabel",!0)("backgroundColorClass","transparent-background"),e.xp6(4),e.Q6J("ngClass.lt-md",e.DdM(10,pe)),e.xp6(2),e.Q6J("ngClass.lt-md",e.DdM(11,pe)),e.xp6(5),e.Q6J("ngForOf",n.invoices),e.xp6(1),e.Q6J("ngForOf",n.unInvoiced),e.xp6(1),e.Q6J("rowType","bodyInvert"),e.xp6(6),e.Q6J("value",n.totalAmount))},directives:[p.xw,p.yH,p.SQ,K.b,ae.hX,M.oO,m.sg,Be,Ee,ce.v,J.Q],styles:["[_nghost-%COMP%]{width:100%}[_nghost-%COMP%]   .hidden[_ngcontent-%COMP%]{display:none;visibility:hidden}[_nghost-%COMP%]   .fx-flex-auto[_ngcontent-%COMP%]{flex:1 1 auto;box-sizing:border-box}[_nghost-%COMP%]   .fx-flex-none[_ngcontent-%COMP%]{flex:0 0 auto;box-sizing:border-box}[_nghost-%COMP%]   .fx-flex-auto-shrink-more[_ngcontent-%COMP%]{flex:1 2 auto;box-sizing:border-box}[_nghost-%COMP%]   .fx-flex-auto-grow-more[_ngcontent-%COMP%]{flex:2 1 auto;box-sizing:border-box}[_nghost-%COMP%]   .fx-layout-row[_ngcontent-%COMP%]{flex-direction:row;box-sizing:border-box;display:flex}[_nghost-%COMP%]   .fx-layout-column[_ngcontent-%COMP%]{flex-direction:column;box-sizing:border-box;display:flex}[_nghost-%COMP%]   .fx-layout-align-start-center[_ngcontent-%COMP%]{align-content:center;justify-content:flex-start;align-items:center}[_nghost-%COMP%]   .fx-layout-align-end-center[_ngcontent-%COMP%]{align-content:center;justify-content:flex-end;align-items:center}[_nghost-%COMP%]   .limited-flex[_ngcontent-%COMP%]{min-width:170px;max-width:530px;width:100%}[_nghost-%COMP%]   .unlimited-flex[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .limited-flex-end[_ngcontent-%COMP%]{min-width:70px;max-width:80px;width:100%;text-align:end}[_nghost-%COMP%]   .larger-limited-flex-end[_ngcontent-%COMP%]{min-width:143px;max-width:145px;width:100%;text-align:end}[_nghost-%COMP%]   .table-space[_ngcontent-%COMP%]{margin-top:8px}[_nghost-%COMP%]   .table-space.lt-md[_ngcontent-%COMP%]{margin-top:2px}"]}),o})();var T=l(6304),ue=l(14614);const q=function(o,s){return{rowSelected:o,rowsConfirm:s}},U=function(){return{width:"100%"}};function qe(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"section",14)(2,"div",2)(3,"span",15),e._uU(4,"Adjustments"),e.qZA()(),e.TgZ(5,"div",2)(6,"span",16),e._uU(7," -"),e._UZ(8,"currency",7),e.qZA()()(),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.WLB(3,q,t.isCreateAccount&&"yes"===t.choiceSelected||!t.isCreateAccount&&"no"===t.choiceSelected,t.isConfirmPage))("ngStyle.lt-md",e.DdM(6,U)),e.xp6(7),e.Q6J("value",t.adjustments)}}function He(o,s){if(1&o&&(e.TgZ(0,"div",17)(1,"section",14)(2,"div",2)(3,"span",18),e._uU(4,"Starting Balance"),e.qZA()(),e.TgZ(5,"div",2)(6,"span",6),e._UZ(7,"currency",7),e.qZA()()(),e.TgZ(8,"section",14)(9,"div",2)(10,"span",15),e._uU(11,"EZ TAG Fee"),e.qZA()(),e.TgZ(12,"div",2)(13,"span",16),e._UZ(14,"currency",7),e.qZA()()()()),2&o){const t=e.oxw();e.Q6J("ngStyle.lt-md",e.DdM(7,U)),e.xp6(1),e.Q6J("ngClass",e.WLB(8,q,t.isCreateAccount&&"yes"===t.choiceSelected||!t.isCreateAccount&&"no"===t.choiceSelected,t.isConfirmPage))("ngStyle.lt-md",e.DdM(11,U)),e.xp6(6),e.Q6J("value",t.fees.createAccountStartingBalance),e.xp6(1),e.Q6J("ngClass",e.WLB(12,q,t.isCreateAccount&&"yes"===t.choiceSelected||!t.isCreateAccount&&"no"===t.choiceSelected,t.isConfirmPage))("ngStyle.lt-md",e.DdM(15,U)),e.xp6(6),e.Q6J("value",t.fees.createAccountEZTagFee)}}function Ge(o,s){if(1&o&&(e.TgZ(0,"section",14)(1,"div",2)(2,"span",18),e._uU(3,"Admin Fee"),e.qZA()(),e.TgZ(4,"div",2)(5,"span",6),e._UZ(6,"currency",7),e.qZA()()()),2&o){const t=e.oxw();e.Q6J("ngClass",e.WLB(3,q,t.isCreateAccount&&"yes"===t.choiceSelected||!t.isCreateAccount&&"no"===t.choiceSelected,t.isConfirmPage))("ngStyle.lt-md",e.DdM(6,U)),e.xp6(6),e.Q6J("value",t.fees.serviceFee)}}const je=function(o,s,t){return{confirmBorder:o,"border-height":s,"border-height-nondiscount":t}},Xe=function(o,s){return{rowSelected:o,topRowConfirm:s}},We=function(o,s){return{totalRowSelected:o,bottomRowConfirm:s}};let fe=(()=>{class o{constructor(t,n,i){this.parent=t,this.dialogService=n,this.environmentConfig=i}ngOnInit(){this.isCreateAccount=this.isCreateAccount||!1,this.isFrp3=this.environmentConfig.isMergeMATandVioOn,this.tollSummary={totalViolationsDue:this.fees.totalViolationsDue},this.adjustments=new ue.Decimal(this.isCreateAccount||this.isConfirmPage?this.fees.createAccountDiscount:this.fees.totalFeesDiscountedDontCreateAccount)}openTollViolationsModal(){const t={tollSummaryDetails:(0,T.Xh)(this.tollSummary),plate:this.parent.getPlateContainer().plate};this.dialogService.openSliderFilled(ze,t,{title:"Toll Transactions"})}get isAdjustmentsZero(){return this.adjustments?this.adjustments.isZero():this.adjustments}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(L),e.Y36(b.xA),e.Y36(z.U4))},o.\u0275cmp=e.Xpm({type:o,selectors:[["cavve-payment-summary"]],inputs:{fees:"fees",isCreateAccount:"isCreateAccount",isConfirmPage:"isConfirmPage",choiceSelected:"choiceSelected"},decls:20,vars:24,consts:[[3,"ngClass","ngStyle.lt-md"],["fxLayout","row","fxLayoutAlign","space-between center",1,"topRow",3,"ngClass","ngStyle.lt-md"],["fxLayout","column","fxLayoutAlign","center start"],["fxLayout","row","fxLayoutAlign","start center"],["id","tollViolationsLabel",1,"clickable",3,"click"],["fxFlexOffset","5px",1,"fx-flex-none","glyphicon","glyphicon-chevron-right"],[1,"values"],[3,"value"],[4,"ngIf"],[3,"ngStyle.lt-md",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","class","rows",3,"ngClass","ngStyle.lt-md",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center",1,"bottomRow",3,"ngClass","ngStyle.lt-md"],[1,"fields",2,"font-weight","bold"],[1,"values",2,"font-weight","bold"],["fxLayout","row","fxLayoutAlign","space-between center",1,"rows",3,"ngClass","ngStyle.lt-md"],[1,"greenFields"],[1,"greenValues"],[3,"ngStyle.lt-md"],[1,"fields"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"span",4),e.NdJ("click",function(){return n.openTollViolationsModal()}),e._uU(5,"Toll Transactions"),e.qZA(),e._UZ(6,"div",5),e.qZA()(),e.TgZ(7,"div",2)(8,"span",6),e._UZ(9,"currency",7),e.qZA()()(),e.YNc(10,qe,9,7,"ng-container",8),e.YNc(11,He,15,16,"div",9),e.YNc(12,Ge,7,7,"section",10),e.TgZ(13,"section",11)(14,"div",2)(15,"span",12),e._uU(16,"Total Due Today"),e.qZA()(),e.TgZ(17,"div",2)(18,"span",13),e._UZ(19,"currency",7),e.qZA()()()()),2&t&&(e.Q6J("ngClass",e.kEZ(11,je,!0===n.isConfirmPage,!n.adjustments.isZero(),n.adjustments.isZero()))("ngStyle.lt-md",e.DdM(15,U)),e.xp6(1),e.Q6J("ngClass",e.WLB(16,Xe,n.isCreateAccount&&"yes"===n.choiceSelected||!n.isCreateAccount&&"no"===n.choiceSelected,n.isConfirmPage))("ngStyle.lt-md",e.DdM(19,U)),e.xp6(8),e.Q6J("value",n.fees.totalViolationsDue),e.xp6(1),e.Q6J("ngIf",!n.adjustments.isZero()),e.xp6(1),e.Q6J("ngIf",n.isCreateAccount||n.isConfirmPage),e.xp6(1),e.Q6J("ngIf",!n.isCreateAccount&&n.isFrp3&&!n.isConfirmPage),e.xp6(1),e.Q6J("ngClass",e.WLB(20,We,n.isCreateAccount&&"yes"===n.choiceSelected||!n.isCreateAccount&&"no"===n.choiceSelected,n.isConfirmPage))("ngStyle.lt-md",e.DdM(23,U)),e.xp6(6),e.Q6J("value",n.isCreateAccount||n.isConfirmPage?n.fees.createAccountPlateTotal:n.fees.dontCreateAccountPlateTotal))},directives:[m.mk,M.oO,M.Zl,p.xw,p.Wh,p.UT,J.Q,m.O5],styles:["[_nghost-%COMP%]   .rows[_ngcontent-%COMP%]{height:50px;width:469px}[_nghost-%COMP%]   .rowsConfirm[_ngcontent-%COMP%]{height:50px;width:566px}[_nghost-%COMP%]   .topRow[_ngcontent-%COMP%]{height:50px;width:469px;border-top:2px solid #d1d1d5;border-bottom:2px solid #d1d1d5}[_nghost-%COMP%]   .topRowConfirm[_ngcontent-%COMP%]{height:48px;width:566px;border-top:0px;border-bottom:1px solid #e0e0ef}[_nghost-%COMP%]   .bottomRow[_ngcontent-%COMP%]{height:50px;width:469px;border-top:2px solid #d1d1d5}[_nghost-%COMP%]   .bottomRowConfirm[_ngcontent-%COMP%]{height:49px;width:566px;border-top:0px;background-color:#e0e0ef;border-bottom-left-radius:10px;border-bottom-right-radius:10px}[_nghost-%COMP%]   .fields[_ngcontent-%COMP%]{padding-left:14px}[_nghost-%COMP%]   .greenFields[_ngcontent-%COMP%]{color:#018749;padding-left:14px;font-weight:700}[_nghost-%COMP%]   .values[_ngcontent-%COMP%]{padding-right:14px}[_nghost-%COMP%]   .greenValues[_ngcontent-%COMP%]{color:#018749;padding-right:14px;font-weight:700}[_nghost-%COMP%]   .rowSelected[_ngcontent-%COMP%]{background-color:#efeff4;border-top:2px solid white;border-bottom:2px solid white}[_nghost-%COMP%]   .totalRowSelected[_ngcontent-%COMP%]{border-top:2px solid white}[_nghost-%COMP%]   .confirmBorder[_ngcontent-%COMP%]{border-width:1px;border-style:solid;border-color:#e0e0ef;border-radius:10px;height:248px;width:566px}[_nghost-%COMP%]   #tollViolationsLabel[_ngcontent-%COMP%]{color:#007aff!important;padding-left:14px}[_nghost-%COMP%]   .glyphicon.glyphicon-chevron-right[_ngcontent-%COMP%]{font-size:11px;font-weight:100;top:-2px;color:#007aff!important}[_nghost-%COMP%]   .border-height[_ngcontent-%COMP%]{height:248px}[_nghost-%COMP%]   .border-height-nondiscount[_ngcontent-%COMP%]{height:198px}"]}),o})(),Ke=(()=>{class o{transform(t){return"glyphicon "+(t?"glyphicon-chevron-right":"glyphicon-chevron-down")}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275pipe=e.Yjl({name:"collapsedClass",type:o,pure:!0}),o})();const $e=["yesPaymentSummary"],et=function(){return{width:"962px"}},R=function(){return{width:"100%"}},me=function(o){return{selected:o}},tt=function(){return{width:"100%","padding-bottom":"5px"}},H=function(o){return{height:o}},B=function(o,s){return{value:o,params:s}},nt=function(){return{width:"100%","padding-bottom":"27px"}},he=function(){return{height:"288px"}};let ot=(()=>{class o{constructor(t,n){this.parent=t,this.environmentConfig=n,this.choiceSelected="",this.choiceSelectedChange=new e.vpe}ngOnInit(){this.createAccountFromViolationsTotals=this.parent.createAccountFromViolationsTotals,this.isFrp3=this.environmentConfig.isMergeMATandVioOn,this.paymentSummaryYesCollapsed=!1,this.paymentSummaryNoCollapsed=!1,this.yesSummary=g.O4.Open,this.noSummary=g.O4.Open}toggleYes(){this.yesSummary=this.yesSummary===g.O4.Closed?g.O4.Open:g.O4.Closed,this.paymentSummaryYesCollapsed=!this.paymentSummaryYesCollapsed}toggleNo(){this.noSummary=this.noSummary===g.O4.Closed?g.O4.Open:g.O4.Closed,this.paymentSummaryNoCollapsed=!this.paymentSummaryNoCollapsed}updateValue(){this.choiceSelectedChange.emit(this.choiceSelected)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(L),e.Y36(z.U4))},o.\u0275cmp=e.Xpm({type:o,selectors:[["cavve-offer-button"]],viewQuery:function(t,n){if(1&t&&e.Gf($e,5),2&t){let i;e.iGM(i=e.CRH())&&(n.yesPaymentSummary=i.first)}},inputs:{choiceSelected:"choiceSelected"},outputs:{choiceSelectedChange:"choiceSelectedChange"},decls:58,vars:72,consts:[["fxLayout","column","fxLayoutAlign","start start",1,"u-spacing--widthFill"],["fxLayout","row","fxLayout.lt-md","column","fxLayoutAlign","space-between start",3,"ngStyle","ngStyle.lt-md"],[1,"unSelected",3,"ngClass","ngStyle.lt-md"],["fxLayout","column","fxLayoutAlign","start start"],["fxLayout","row","fxLayoutAlign","start start"],["fxLayout","column","fxLayoutAlign","start center",1,"radioColumn"],["type","radio","id","acceptOfferRdo","value","yes","name","offerRdo",3,"ngModel","ngModelChange","change"],["AcceptOfferRdo","ngModel"],["for","acceptOfferRdo"],["fxLayout","column","fxLayoutAlign","start start",1,"displayColumn"],[1,"radioLabel"],[1,"totalDisplay"],[3,"value"],[1,"totalLabel"],[1,"paymentDisplayLabel"],["fxLayout","row","fxLayoutAlign","start start",1,"clickable",3,"click"],["fxFlexOffset","5px"],[3,"ngClass"],[1,"paymentSummary"],["fxLayout","row","fxLayoutAlign","start start",3,"ngStyle.lt-md"],["id","paymentSummary",3,"ngStyle.lt-md"],[3,"isCreateAccount","fees","choiceSelected"],["yesPaymentSummary",""],["fxFlexOffset.lt-md","8px",1,"unSelected",3,"ngClass","ngStyle.lt-md"],["type","radio","id","rejectOfferRdo","value","no","name","offerRdo",3,"ngModel","ngModelChange","change"],["RejectOfferRdo","ngModel"],["for","rejectOfferRdo"],["id","paymentSummaryNoAccount",3,"ngStyle.lt-md"]],template:function(t,n){if(1&t&&(e.TgZ(0,"main")(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"input",6,7),e.NdJ("ngModelChange",function(r){return n.choiceSelected=r})("change",function(){return n.updateValue()}),e.qZA(),e._UZ(9,"label",8),e.qZA(),e.TgZ(10,"div",9)(11,"div")(12,"span",10),e._uU(13," Yes, Create My Account "),e.qZA()(),e.TgZ(14,"div")(15,"span",11),e._UZ(16,"currency",12),e.qZA(),e.TgZ(17,"span",13),e._uU(18,"\xa0TOTAL TODAY"),e.qZA()(),e.TgZ(19,"div",14)(20,"div",15),e.NdJ("click",function(){return n.toggleYes()}),e.TgZ(21,"div",16),e._UZ(22,"span",17),e.ALo(23,"collapsedClass"),e.qZA(),e.TgZ(24,"div",16)(25,"span",18),e._uU(26,"View Payment Summary"),e.qZA()()()()()(),e.TgZ(27,"div",19)(28,"div",20),e._UZ(29,"cavve-payment-summary",21,22),e.qZA()()()(),e.TgZ(31,"div",23)(32,"div",3)(33,"div",4)(34,"div",5)(35,"input",24,25),e.NdJ("ngModelChange",function(r){return n.choiceSelected=r})("change",function(){return n.updateValue()}),e.qZA(),e._UZ(37,"label",26),e.qZA(),e.TgZ(38,"div",9)(39,"div")(40,"span",10),e._uU(41," No, Don't Create My Account "),e.qZA()(),e.TgZ(42,"div")(43,"span",11),e._UZ(44,"currency",12),e.qZA(),e.TgZ(45,"span",13),e._uU(46,"\xa0TOTAL TODAY"),e.qZA()(),e.TgZ(47,"div",14)(48,"div",15),e.NdJ("click",function(){return n.toggleNo()}),e.TgZ(49,"div",16),e._UZ(50,"span",17),e.ALo(51,"collapsedClass"),e.qZA(),e.TgZ(52,"div",16)(53,"span",18),e._uU(54,"View Payment Summary"),e.qZA()()()()()(),e.TgZ(55,"div",19)(56,"div",27),e._UZ(57,"cavve-payment-summary",21),e.qZA()()()()()()()),2&t){const i=e.MAs(30);e.xp6(2),e.Q6J("ngStyle",e.DdM(32,et))("ngStyle.lt-md",e.DdM(33,R)),e.xp6(1),e.Q6J("ngClass",e.VKq(34,me,"yes"===n.choiceSelected))("ngStyle.lt-md",e.DdM(36,tt))("@slideYes",e.WLB(39,B,n.yesSummary,e.VKq(37,H,i.isAdjustmentsZero?"338px":"388px"))),e.xp6(1),e.Q6J("@slideYes",e.WLB(44,B,n.yesSummary,e.VKq(42,H,i.isAdjustmentsZero?"338px":"388px"))),e.xp6(3),e.Q6J("ngModel",n.choiceSelected),e.xp6(9),e.Q6J("value",n.createAccountFromViolationsTotals.createAccountPlateTotal),e.xp6(6),e.Q6J("ngClass",e.lcZ(23,28,n.paymentSummaryYesCollapsed)),e.xp6(5),e.Q6J("ngStyle.lt-md",e.DdM(47,R)),e.xp6(1),e.Q6J("ngStyle.lt-md",e.DdM(48,R)),e.xp6(1),e.Q6J("@collapse",n.paymentSummaryYesCollapsed)("isCreateAccount",!0)("fees",n.createAccountFromViolationsTotals)("choiceSelected",n.choiceSelected),e.xp6(2),e.Q6J("ngClass",e.VKq(49,me,"no"===n.choiceSelected))("ngStyle.lt-md",e.DdM(51,nt))("@slideNo",n.isFrp3?e.WLB(54,B,n.noSummary,e.VKq(52,H,i.isAdjustmentsZero?"290px":"340px")):e.WLB(58,B,n.noSummary,e.DdM(57,he))),e.xp6(1),e.Q6J("@slideNo",n.isFrp3?e.WLB(63,B,n.noSummary,e.VKq(61,H,i.isAdjustmentsZero?"290px":"340px")):e.WLB(67,B,n.noSummary,e.DdM(66,he))),e.xp6(3),e.Q6J("ngModel",n.choiceSelected),e.xp6(9),e.Q6J("value",n.createAccountFromViolationsTotals.dontCreateAccountPlateTotal),e.xp6(6),e.Q6J("ngClass",e.lcZ(51,30,n.paymentSummaryNoCollapsed)),e.xp6(5),e.Q6J("ngStyle.lt-md",e.DdM(70,R)),e.xp6(1),e.Q6J("ngStyle.lt-md",e.DdM(71,R)),e.xp6(1),e.Q6J("@collapse",n.paymentSummaryNoCollapsed)("isCreateAccount",!1)("fees",n.createAccountFromViolationsTotals)("choiceSelected",n.choiceSelected)}},directives:[p.xw,p.Wh,m.PC,M.Zl,m.mk,M.oO,h._,h.Fj,h.JJ,h.On,J.Q,p.UT,fe],pipes:[Ke],styles:["[_nghost-%COMP%]   input[type=radio][_ngcontent-%COMP%]{cursor:pointer;height:23px;width:23px;padding-left:10px;padding-right:10px}[_nghost-%COMP%]   .selected[_ngcontent-%COMP%]{background-color:#e0e0ef;box-shadow:0 0 0 1px #2b90ff}[_nghost-%COMP%]   .unSelected[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:#d1d1d5;border-radius:10px;height:136px;width:473px}[_nghost-%COMP%]   .radioLabel[_ngcontent-%COMP%]{font-size:20px;font-weight:700;font-family:Jost}[_nghost-%COMP%]   .totalDisplay[_ngcontent-%COMP%]{font-size:32px;font-weight:700}[_nghost-%COMP%]   .totalLabel[_ngcontent-%COMP%]{font-size:10px;color:#757575}[_nghost-%COMP%]   .paymentDisplayLabel[_ngcontent-%COMP%]{padding-top:14px}[_nghost-%COMP%]   .yesStretched[_ngcontent-%COMP%]{padding-top:90px}[_nghost-%COMP%]   .noStretched[_ngcontent-%COMP%]{padding-top:50px}[_nghost-%COMP%]   .radioColumn[_ngcontent-%COMP%]{width:43px;padding-top:20px}[_nghost-%COMP%]   .displayColumn[_ngcontent-%COMP%]{height:136px;padding-top:20px}[_nghost-%COMP%]   .paymentSummary[_ngcontent-%COMP%]{font-size:16px}"],data:{animation:[Ue.b,(0,_.X$)("slideYes",[(0,_.SB)(g.O4.Open,(0,_.oB)({height:"{{height}}"}),{params:{height:"338px"}}),(0,_.SB)(g.O4.Closed,(0,_.oB)({height:"136px"})),(0,_.eR)("open => closed",(0,_.jt)("100ms ease-in-out")),(0,_.eR)("closed => open",(0,_.jt)("100ms ease-in-out"))]),(0,_.X$)("slideNo",[(0,_.SB)(g.O4.Open,(0,_.oB)({height:"{{height}}"}),{params:{height:"288px"}}),(0,_.SB)(g.O4.Closed,(0,_.oB)({height:"136px"})),(0,_.eR)("open => closed",(0,_.jt)("100ms ease-in-out")),(0,_.eR)("closed => open",(0,_.jt)("100ms ease-in-out"))])]}}),o})();var V=l(32993),E=l(27358);let it=(()=>{class o{constructor(t,n,i){this.parent=t,this.state=n,this.environmentConfig=i,this.subHeaderParams={},this.choiceSelected=""}ngOnInit(){this.parent.setFrameTitle(this.landingPageInfo.Title),this.parent.stepNum=0,this.plateContainer=this.parent.getPlateContainer(),this.subHeaderParams={plateInfo:this.plateContainer.plate.licenseState+" "+this.plateContainer.plate.licensePlate}}onOfferButtonSelectionChanged(t){this.choiceSelected=t}goToGridPage(){return this.state.go(this.environmentConfig.isMergeMATandVioOn?le.Dn.Grid:X.Dn.Grid,{},{custom:{isExplicitlyAllowedTransition:!0}})}goToNextPage(t){var n=this;return(0,x.Z)(function*(){"yes"===n.choiceSelected?yield n.state.go(t):n.goToGridPage()})()}previous(t){var n=this;return(0,x.Z)(function*(){yield n.state.go(n.environmentConfig.isMergeMATandVioOn?le.Dn.Landing:t,{custom:{isExplicitlyAllowedTransition:!0}})})()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(L),e.Y36(S.StateService),e.Y36(z.U4))},o.\u0275cmp=e.Xpm({type:o,selectors:[["cavve-offer-component"]],inputs:{landingPageInfo:"landingPageInfo"},decls:20,vars:4,consts:[["fxLayout","column","fxLayoutAlign","center start",1,"u-spacing--widthFill",2,"padding-top","21px"],["fxLayout","row","fxLayoutAlign","space-between start",1,"u-spacing--widthFill"],[3,"template","data"],["fxLayout","column","fxLayoutAlign","center start",1,"u-spacing--widthFill",2,"padding-top","20.5px"],["fxLayout","row"],[3,"innerHtml"],["fxLayout","column","fxLayoutAlign","center start",1,"u-spacing--widthFill",2,"padding-top","8px","padding-bottom","32px"],[3,"choiceSelectedChange"],["fxLayout","column",1,"u-spacing--widthFill",2,"padding-top","8px"],[3,"disabled","next","previous"],["wizard-next",""],["wizard-previous","","fxLayout","row","fxLayoutAlign","start center"],["svgIcon","previous-arrow"]],template:function(t,n){1&t&&(e.TgZ(0,"page-filled-container")(1,"section",0)(2,"div",1)(3,"header")(4,"h2"),e._UZ(5,"cms-content",2),e.qZA(),e._UZ(6,"mat-divider"),e.qZA()()(),e.TgZ(7,"section",3)(8,"div",4),e._UZ(9,"div",5),e.qZA()(),e.TgZ(10,"section",6)(11,"div",4)(12,"cavve-offer-button",7),e.NdJ("choiceSelectedChange",function(r){return n.onOfferButtonSelectionChanged(r)}),e.qZA()()(),e.TgZ(13,"section",8)(14,"wizard-ui",9),e.NdJ("next",function(r){return n.goToNextPage(r)})("previous",function(r){return n.previous(r)}),e.TgZ(15,"span",10),e._uU(16,"CONTINUE"),e.qZA(),e.TgZ(17,"span",11),e._UZ(18,"mat-icon",12),e._uU(19," Previous "),e.qZA()()()()),2&t&&(e.xp6(5),e.Q6J("template",n.landingPageInfo.subHeader)("data",n.subHeaderParams),e.xp6(4),e.Q6J("innerHtml",n.landingPageInfo.LongDescription,e.oJD),e.xp6(5),e.Q6J("disabled",""===n.choiceSelected))},directives:[Le.C,p.xw,p.Wh,re.R,Q.d,ot,V.P,E.O,N.Hw],styles:["[_nghost-%COMP%]   mat-divider[_ngcontent-%COMP%]{width:65px}[_nghost-%COMP%]   h2[_ngcontent-%COMP%]{max-height:70px;padding-bottom:24px}"]}),o})();var st=l(28072),at=l(28218),Z=l(79150),G=l(68043),$=l(39453),j=l(25023);function lt(o,s){if(1&o&&(e.TgZ(0,"div")(1,"span",1),e._uU(2),e.qZA(),e.TgZ(3,"span",1),e._uU(4),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Oqu(t.personalInfo.firstName?t.personalInfo.firstName+" ":""),e.xp6(2),e.Oqu(t.personalInfo.lastName)}}let rt=(()=>{class o{constructor(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["personal-info-display"]],inputs:{personalInfo:"personalInfo"},decls:1,vars:1,consts:[[4,"ngIf"],["translation-skip",""]],template:function(t,n){1&t&&e.YNc(0,lt,5,2,"div",0),2&t&&e.Q6J("ngIf",n.personalInfo)},directives:[m.O5],styles:["[_nghost-%COMP%]   span[_ngcontent-%COMP%]{word-break:break-word}"]}),o})();var ee=l(23204),te=l(49703),Ce=l(35256),ct=l(20516);function dt(o,s){1&o&&(e.TgZ(0,"div",25),e._UZ(1,"mat-icon",26),e.TgZ(2,"span"),e._uU(3,"Missing Information"),e.qZA()())}function gt(o,s){if(1&o&&(e.ynx(0),e.YNc(1,dt,4,0,"div",22),e._UZ(2,"personal-info-display",23)(3,"address-display",24),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isMailingInfoIncomplete),e.xp6(1),e.Q6J("personalInfo",t.accountInfo),e.xp6(1),e.Q6J("address",t.accountInfo)("international",t.accountInfo.internationalAddress)}}function pt(o,s){1&o&&(e.TgZ(0,"div",25),e._UZ(1,"mat-icon",26),e.TgZ(2,"span"),e._uU(3,"Missing Information"),e.qZA()())}const ut=function(){return["licPlate","licState"]};function ft(o,s){if(1&o&&(e.ynx(0),e.YNc(1,pt,4,0,"div",22),e.TgZ(2,"div")(3,"span",27),e._uU(4),e.qZA()(),e._UZ(5,"vehicle-display",28),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isVehicleInfoIncomplete),e.xp6(3),e.AsE("",t.accountInfo.licState,"-",t.accountInfo.licPlate,""),e.xp6(1),e.Q6J("vehicleInfo",t.accountInfo)("exclude",e.DdM(5,ut))}}function mt(o,s){if(1&o&&e._UZ(0,"p",33),2&o){const t=e.oxw(3);e.Q6J("innerHtml",t.personalPageInfo.verifyInfoHelp,e.oJD)}}function ht(o,s){if(1&o&&(e.ynx(0,31),e.YNc(1,mt,1,1,"p",32),e.BQk()),2&o){const t=e.oxw().$implicit;e.Q6J("ngSwitch",t.key),e.xp6(1),e.Q6J("ngSwitchCase","required")}}function Ct(o,s){if(1&o&&(e.TgZ(0,"div",29),e.YNc(1,ht,2,2,"ng-container",30),e.qZA()),2&o){e.oxw();const t=e.MAs(2);e.xp6(1),e.Q6J("ngIf",t.submitted)}}const yt=function(){return{"margin-bottom":"30px"}};let xt=(()=>{class o{constructor(t,n,i,r,I,D,w){this.parent=t,this.state=n,this.responseErrorService=i,this.dialogService=r,this.genericRepoService=I,this.webStorage=D,this.webStorageConst=w,this.statesList=[],this.initAccountInfo=()=>({securityQuestionID:null,driverLicenseNumber:null,byMail:null,byEmail:null,username:null,internationalAddress:null,firstName:null,lastName:null,address1:null,city:null,country:null,licState:null,licPlate:null,vehicleYear:null,vehicleModel:null,vehicleMake:null,vehicleColor:null,vehicleClassCode:2,vehicleClassDesc:null,temporaryLicPlate:null,motorcycle:null,nickname:null,isMotorcycleDisabled:null,emailAddress:null,phoneNum:null,phoneExt:null,smsAlertsOptIn:null,driverLicenseState:null}),this.getMailingAddressInfo=()=>({firstName:this.accountInfo.firstName,lastName:this.accountInfo.lastName,internationalAddress:this.accountInfo.internationalAddress,address1:this.accountInfo.address1,address2:this.accountInfo.address2,city:this.accountInfo.city,state:this.accountInfo.state,zip:this.accountInfo.zip,plus4:this.accountInfo.plus4,country:this.accountInfo.country}),this.getVehicleInfo=()=>({licState:this.accountInfo.licState,licPlate:this.accountInfo.licPlate,vehicleYear:this.accountInfo.vehicleYear,vehicleModel:this.accountInfo.vehicleModel,vehicleMake:this.accountInfo.vehicleMake,vehicleColor:this.accountInfo.vehicleColor,vehicleClassCode:this.accountInfo.vehicleClassCode,vehicleClassDesc:this.accountInfo.vehicleClassDesc,temporaryLicPlate:this.accountInfo.temporaryLicPlate,nickname:this.accountInfo.nickname,motorcycle:this.accountInfo.motorcycle,isMotorcycleDisabled:this.isMotorcycleDisabled}),this.setMailingAddressInfo=c=>{this.accountInfo.firstName=c.firstName,this.accountInfo.lastName=c.lastName,this.accountInfo.internationalAddress=c.internationalAddress,this.accountInfo.address1=c.address1,this.accountInfo.address2=c.address2,this.accountInfo.city=c.city,this.accountInfo.state=c.state,this.accountInfo.zip=c.zip,this.accountInfo.plus4=c.plus4,this.accountInfo.country=c.country},this.setVehicleInfo=c=>{this.accountInfo.licState=c.licState,this.accountInfo.licPlate=c.licPlate,this.accountInfo.vehicleYear=c.vehicleYear,this.accountInfo.vehicleModel=c.vehicleModel,this.accountInfo.vehicleMake=c.vehicleMake,this.accountInfo.vehicleColor=c.vehicleColor,this.accountInfo.vehicleClassCode=c.vehicleClassCode,this.accountInfo.vehicleClassDesc=c.vehicleClassDesc,this.accountInfo.temporaryLicPlate=c.temporaryLicPlate,this.accountInfo.motorcycle=c.motorcycle,this.accountInfo.nickname=c.nickname},this.isNotMissingMailSliderInfo=()=>{const c=this.accountInfo;return c.firstName&&c.lastName&&c.address1&&(c.internationalAddress||c.city&&c.state&&c.zip)&&(!c.internationalAddress||c.country)?(this.isMailingInfoIncomplete=!1,!0):(this.isMailingInfoIncomplete=!0,!1)},this.isNotMissingVehicleSliderInfo=()=>{const c=this.accountInfo;return c.vehicleClassCode&&c.vehicleYear&&c.vehicleMake&&c.vehicleModel&&c.vehicleColor?(this.isVehicleInfoIncomplete=!1,!0):(this.isVehicleInfoIncomplete=!0,!1)},this.setViolatorAccountInfo=c=>{this.responseErrorService.isErrorFree(c)&&(null!==c.accountInfo?(c.accountInfo.securityQuestionID=0===c.accountInfo.securityQuestionID?void 0:c.accountInfo.securityQuestionID,c.accountInfo.driverLicenseState=c.accountInfo.driverLicenseNumber?c.accountInfo.driverLicenseState:"TX",this.accountInfo=c.accountInfo,this.isNotMissingMailSliderInfo(),this.isNotMissingVehicleSliderInfo(),this.hasInitialLoginInfo=!!this.accountInfo.username):(this.loginInfo={password:"",securityAnswer:""},this.isShowPassword=!1,this.isShowSecurityAnswer=!1,this.accountInfo.licPlate=this.plateContainer.plate.licensePlate,this.accountInfo.licState=this.plateContainer.plate.licenseState,this.accountInfo.accountId=this.plateContainer.accountId,this.accountInfo.personId=this.plateContainer.accountConversionData.personId,this.accountInfo.addressId=this.plateContainer.accountConversionData.addressId,this.isMailingInfoIncomplete=!0,this.isVehicleInfoIncomplete=!0))},this.setSecurityQuestions=c=>{this.responseErrorService.isErrorFree(c)&&(this.securityQuestions=c.securityQuestions)},this.setStatesList=c=>{this.responseErrorService.isErrorFree(c)&&(this.statesList=c.states)},this.setCountryList=c=>{this.responseErrorService.isErrorFree(c)&&(this.countryList=c.countries)}}ngOnInit(){var t=this;return(0,x.Z)(function*(){let n;if(t.plateContainer=t.parent.getPlateContainer(),t.accountInfo=t.initAccountInfo(),t.parent.stepNum=1,t.parent.setFrameTitle(t.personalPageInfo.pageTitle),t.loginInfo={password:"",securityAnswer:""},t.isShowPassword=!1,t.isShowSecurityAnswer=!1,t.currentAccountInfo=t.webStorage.getValue(t.webStorageConst.cavveConversionData),null===t.currentAccountInfo?(n=yield t.genericRepoService.dataFactory.GetViolatorAccntInfo(),t.setViolatorAccountInfo(n)):t.accountInfo=t.currentAccountInfo,n=yield t.genericRepoService.dataFactory.getSecurityQuestions(),t.setSecurityQuestions(n),n=yield t.genericRepoService.dataFactory.getStates(),t.setStatesList(n),n=yield t.genericRepoService.dataFactory.getCountries(),t.setCountryList(n),null!==t.currentAccountInfo&&(t.isNotMissingMailSliderInfo(),t.isNotMissingVehicleSliderInfo(),t.hasInitialLoginInfo=!!t.accountInfo.username),t.securityQuestion="",t.maskedDriverLicenseNumber="",t.hasInitialLoginInfo){const i=t.securityQuestions.filter(r=>r.securityQuestionID===t.accountInfo.securityQuestionID)[0];i&&(t.securityQuestion=i.securityQuestion),t.accountInfo.driverLicenseNumber&&(t.maskedDriverLicenseNumber=`****-${t.accountInfo.driverLicenseNumber.substring(t.accountInfo.driverLicenseNumber.length-3)}`)}t.isMotorcycleDisabled=!0})()}ngOnDestroy(){this.webStorage.setKeyValue(this.webStorageConst.cavveConversionData,this.accountInfo)}submit(t){if(this.isNotMissingMailSliderInfo()&&this.isNotMissingVehicleSliderInfo())return this.accountInfo.byMail=!1,this.accountInfo.byEmail=!0,this.genericRepoService.dataFactory.SetViolatorAccountInfo({accountInfo:this.accountInfo,password:this.loginInfo.password,securityAnswer:this.loginInfo.securityAnswer}).then(i=>{this.responseErrorService.isErrorFree(i)&&this.state.go(t)})}previous(t){var n=this;return(0,x.Z)(function*(){yield n.state.go(t)})()}tryCancel(t){var n=this;return(0,x.Z)(function*(){const i={cmsContent:{Title:n.cancelMessageContent.cancelQuestion,PrimaryContent:"",CancelBtn:n.cancelMessageContent.cancelResolve,AcceptBtn:n.cancelMessageContent.cancelReject}};(yield n.dialogService.openGenericModal(Z.E5,i))||n.state.go(t)})()}openMailingAddressModal(){const t={mailingInfo:(0,T.Xh)(this.getMailingAddressInfo()),stateList:this.statesList,countryList:this.countryList,isShowPersonalInfo:!0,addressTitle:"Mailing Address"};return this.dialogService.openSliderCentered(st.z,t,{title:"Edit Personal Information"}).then(n=>{n&&(this.setMailingAddressInfo(n.mailingInfo),this.isNotMissingMailSliderInfo())})}openLicensePlateModal(){const t={vehicleInfo:(0,T.Xh)(this.getVehicleInfo()),modalCms:{vehicleInfoTitle:this.personalPageInfo.vehicleInfoTitle,vehicleToolTipEditButton:this.personalPageInfo.vehicleToolTipEditButton,vehicleToolTipText:this.personalPageInfo.vehicleToolTipText},stateList:this.statesList,plateIsReadOnly:!0,motorcycleDisabled:!0};return this.dialogService.openSliderCentered(at.w,t,{title:"Edit Vehicle Information"}).then(n=>{n&&(this.setVehicleInfo(n.vehicleInfo),this.isNotMissingVehicleSliderInfo())})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(L),e.Y36(S.StateService),e.Y36(b.Sr),e.Y36(b.xA),e.Y36(b.mb),e.Y36(W.V),e.Y36(A.LC))},o.\u0275cmp=e.Xpm({type:o,selectors:[["cavve-personal-component"]],inputs:{personalPageInfo:"personalPageInfo",cancelMessageContent:"cancelMessageContent",usStates:"usStates",pwCmsData:"pwCmsData"},decls:47,vars:23,consts:[["validation-focus","","name","cavvePersonalForm",1,"u-spacing--widthFill",3,"ngStyle.lt-md"],["PersonalForm","ngForm"],["fxLayout","column","fxLayoutGap","32px"],["alignment","start start"],["fxLayout","row","fxLayoutAlign","space-between start",1,"u-spacing--widthFill",2,"padding-bottom","21px"],["fxFlex","none","aria-label","Edit",1,"editButton",3,"click"],[4,"ngIf"],[2,"padding-top","32px",3,"error-check"],["fxLayout","row","fxLayoutAlign","start start",1,"u-spacing--widthFill"],["type","checkbox","name","verifyInfoChecked","required","",2,"width","20px","height","20px",3,"ngModel"],["CompletedInfo","ngModel"],[1,"textOverlay",2,"margin-top","6px",3,"innerHtml"],["role","alert",4,"ngFor","ngForOf"],["fxLayout","column","fxLayoutAlign","start start",1,"u-spacing--widthFill",2,"padding-bottom","21px"],["fxLayout","row","fxLayoutAlign","space-between start",1,"u-spacing--widthFill"],[3,"hasInitialLoginInfo","accLoginInfo","sercurityInfo","securityQuestions","securityQuestion","isShowPassword","isShowSecurityAnswer","statesList","passwordValidationCMS","phoneALertsOptInCMS","hasInitialLoginInfoChange","accLoginInfoChange","sercurityInfoChange","securityQuestionChange","isShowPasswordChange","isShowSecurityAnswerChange"],["fxFlexOffset","32px"],[3,"next","previous","cancel"],["wizard-next",""],["wizard-previous","","fxLayout","row","fxLayoutAlign","start center"],["svgIcon","previous-arrow"],["wizard-cancel",""],["class","missingInfo",4,"ngIf"],[3,"personalInfo"],[3,"address","international"],[1,"missingInfo"],["svgIcon","alert"],["translation-skip","",2,"text-transform","uppercase"],["isCompactView","true",3,"vehicleInfo","exclude"],["role","alert"],[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],["class","help-block",3,"innerHtml",4,"ngSwitchCase"],[1,"help-block",3,"innerHtml"]],template:function(t,n){if(1&t&&(e.TgZ(0,"page-centered-container")(1,"form",0,1)(3,"div",2)(4,"card-container",3)(5,"div",4)(6,"header")(7,"h2"),e._uU(8),e.qZA(),e._UZ(9,"mat-divider"),e.qZA(),e.TgZ(10,"a",5),e.NdJ("click",function(){return n.openMailingAddressModal()}),e._uU(11," Edit "),e.qZA()(),e.YNc(12,gt,4,4,"ng-container",6),e.qZA(),e.TgZ(13,"card-container",3)(14,"div",4)(15,"header")(16,"h2"),e._uU(17),e.qZA(),e._UZ(18,"mat-divider"),e.qZA(),e.TgZ(19,"a",5),e.NdJ("click",function(){return n.openLicensePlateModal()}),e._uU(20," Edit "),e.qZA()(),e.YNc(21,ft,6,6,"ng-container",6),e.TgZ(22,"div",7)(23,"div",8),e._UZ(24,"input",9,10)(26,"label",11),e.qZA(),e.YNc(27,Ct,2,1,"div",12),e.ALo(28,"keyvalue"),e.qZA()(),e.TgZ(29,"card-container")(30,"section",13)(31,"div",14)(32,"header")(33,"h2"),e._uU(34),e.qZA(),e._UZ(35,"mat-divider"),e.qZA()()(),e.TgZ(36,"section")(37,"create-account-form-entry",15),e.NdJ("hasInitialLoginInfoChange",function(r){return n.hasInitialLoginInfo=r})("accLoginInfoChange",function(r){return n.accountInfo=r})("sercurityInfoChange",function(r){return n.loginInfo=r})("securityQuestionChange",function(r){return n.securityQuestion=r})("isShowPasswordChange",function(r){return n.isShowPassword=r})("isShowSecurityAnswerChange",function(r){return n.isShowSecurityAnswer=r}),e.qZA()()(),e.TgZ(38,"section",16)(39,"wizard-ui",17),e.NdJ("next",function(r){return n.submit(r)})("previous",function(r){return n.previous(r)})("cancel",function(r){return n.tryCancel(r)}),e.TgZ(40,"span",18),e._uU(41,"CONTINUE"),e.qZA(),e.TgZ(42,"span",19),e._UZ(43,"mat-icon",20),e._uU(44," Previous "),e.qZA(),e.TgZ(45,"span",21),e._uU(46,"Cancel"),e.qZA()()()()()()),2&t){const i=e.MAs(25);e.xp6(1),e.Q6J("ngStyle.lt-md",e.DdM(22,yt)),e.xp6(7),e.Oqu(n.personalPageInfo.mailingAddressHeader),e.xp6(4),e.Q6J("ngIf",n.accountInfo),e.xp6(5),e.Oqu(n.personalPageInfo.licenseHeader),e.xp6(4),e.Q6J("ngIf",n.accountInfo),e.xp6(1),e.Q6J("error-check",i),e.xp6(2),e.Q6J("ngModel",n.verifyInfoChecked),e.xp6(2),e.Q6J("innerHtml",n.personalPageInfo.verifyInfoCheckboxDescription,e.oJD),e.xp6(1),e.Q6J("ngForOf",e.lcZ(28,20,i.errors)),e.xp6(7),e.Oqu(n.personalPageInfo.securityInfoHeader),e.xp6(3),e.Q6J("hasInitialLoginInfo",n.hasInitialLoginInfo)("accLoginInfo",n.accountInfo)("sercurityInfo",n.loginInfo)("securityQuestions",n.securityQuestions)("securityQuestion",n.securityQuestion)("isShowPassword",n.isShowPassword)("isShowSecurityAnswer",n.isShowSecurityAnswer)("statesList",n.statesList)("passwordValidationCMS",n.pwCmsData)("phoneALertsOptInCMS",n.personalPageInfo.phoneAlertsOptInDesc)}},directives:[G.D,h._Y,h.JL,h.F,$.R,M.Zl,p.xw,p.SQ,j.D,p.Wh,Q.d,p.yH,m.O5,N.Hw,rt,ee.G,te.i,Ce.i,h.Zs,h.Wl,h.JJ,h.On,m.sg,m.RF,m.n9,ct.W,p.UT,V.P,E.O],pipes:[m.Nd],styles:["cavve-personal-component form{margin-bottom:100px;max-width:540px}cavve-personal-component mat-divider{width:65px}cavve-personal-component h2{max-height:70px;padding-bottom:24px}cavve-personal-component .editButton{font-weight:500;font-family:Jost;text-align:right;padding-top:5px}cavve-personal-component input[type=checkbox]{margin-right:4px}cavve-personal-component .missingInfo mat-icon{vertical-align:text-top;margin-right:9px}cavve-personal-component .textOverlay{color:#34353a;font-family:Montserrat;font-weight:600;font-size:16px}cavve-personal-component .missingInfo{color:#fc2125;padding-bottom:16px}cavve-personal-component action-buttons{width:100%}\n"],encapsulation:2}),o})();var C=l(44367),vt=l(51325),_t=l(48738),It=l(70858),bt=l(43714);function Mt(o,s){if(1&o&&e._UZ(0,"bank-account-entry",16),2&o){const t=e.oxw(2);e.Q6J("bankDetails",t.billingInfo.eft)("validate",!0)("showName",!0)}}function Pt(o,s){if(1&o&&e._UZ(0,"credit-card-entry",17),2&o){const t=e.oxw(2);e.Q6J("creditCard",t.billingInfo.credit)}}function Ot(o,s){if(1&o&&(e.TgZ(0,"section",8),e.YNc(1,Mt,1,3,"bank-account-entry",14),e.YNc(2,Pt,1,1,"credit-card-entry",15),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.billingInfo.billingType===t.BillingType.Eft),e.xp6(1),e.Q6J("ngIf",t.billingInfo.billingType===t.BillingType.Credit)}}const At=function(){return{"margin-bottom":"48px"}};let Tt=(()=>{class o{constructor(t,n,i,r,I,D){this.parent=t,this.state=n,this.genericRepoService=i,this.responseErrorService=r,this.uiRouterGlobals=I,this.dialogService=D,this.BillingType=C.ck,this.billingInfo={eft:{accountType:null,name:null,routingNumber:null,accountNumber:null,address1:null,city:null,state:null,zip:null,plus4:null,country:"USA",displayCountry:"USA",international:!1},credit:{cardCode:null,cardNbr:null,expMonth:null,expYear:null,nameOnCard:null,address1:null,city:null,state:null,zip:null,plus4:null,country:"USA",displayCountry:"USA",international:!1},billingType:null},this.compareAddress=w=>{if(w){const c=this.normalizeAddress(w),P=this.normalizeAddress(this.defaultAddress);return P.address1===c.address1&&P.address2===c.address2&&P.city===c.city&&P.country===c.country&&P.plus4===c.plus4&&P.state===c.state&&P.zip===c.zip}return!1},this.normalizeAddress=({address1:w,address2:c,city:P,state:Y,country:a,zip:d,plus4:u})=>{const v={address1:w,address2:c,city:P,state:Y,country:a,zip:d,plus4:u};return Object.keys(v).forEach(f=>{""===v[f]&&(v[f]=null)}),v}}ngOnInit(){this.checkBoxFlag=Z.uq.Default,this.newAddressFlag=Z.zF.Empty,this.parent.stepNum=2,this.parent.setFrameTitle(this.cmsContent.Title),this.statesList=this.parent.usStates,this.countriesList=this.parent.countries,this.setDefaultAddress()}setDefaultAddress(){var t=this;return(0,x.Z)(function*(){const n=yield t.genericRepoService.dataFactory.GetMailingAddressCreateAccountViolation();t.responseErrorService.isErrorFree(n)&&(t.defaultAddress={firstName:null,lastName:null,internationalAddress:null,address1:n.address1,address2:n.address2,city:n.city,state:n.state,zip:n.zip,plus4:n.plus4,country:n.country},t.setBillingInfoFromStateParams())})()}setBillingInfoFromStateParams(){if(this.uiRouterGlobals.params.billingInfo){const t=this.uiRouterGlobals.params.billingInfo;t.billingType===C.ck.Credit?(this.billingInfo.credit=t.credit,this.billingInfo.billingType=C.ck.Credit):(this.billingInfo.eft={...t.eft},this.billingInfo.eft.account2=this.billingInfo.eft.accountNumber,this.billingInfo.billingType=C.ck.Eft),!this.compareAddress(t.billingType===C.ck.Credit?this.billingInfo.credit:this.billingInfo.eft)&&(t.credit||t.eft)&&(this.newAddressFlag=Z.zF.Updated,this.checkBoxFlag=Z.uq.New,this.newAddress=t.billingType===C.ck.Credit?{...t.credit}:{...t.eft},this.newAddress.internationalAddress=t.billingType===C.ck.Credit?t.credit.international:t.eft.international)}}submitBillingInfo(t){var n=this;return(0,x.Z)(function*(){if(n.billingAddress=n.checkBoxFlag===Z.uq.Default?n.defaultAddress:n.newAddress,n.billingInfo.billingType===C.ck.Credit){if(n.creditEntry&&!(yield n.creditEntry.submit()))return;const i={creditCardPaymentMethod:Object.assign(n.billingInfo.credit,n.billingAddress),isCreditCard:!0},r=yield n.genericRepoService.dataFactory.SetBillingInfoCreateAccountViolation(i);yield n.processBillingInfoCall(r,t)}else if(n.billingInfo.billingType===C.ck.Eft){const r={eFTPaymentMethod:Object.assign(n.billingInfo.eft,{nameOnBankAccount:n.billingInfo.eft.name,accountTypeDisplay:n.billingInfo.eft.accountType===C.Jb.Business?"Business":"Personal"},n.billingAddress),isCreditCard:!1},I=yield n.genericRepoService.dataFactory.SetBillingInfoCreateAccountViolation(r);yield n.processBillingInfoCall(I,t)}})()}processBillingInfoCall(t,n){var i=this;return(0,x.Z)(function*(){i.responseErrorService.isErrorFree(t)&&(i.responseErrorService.displayAlertsFromResponse(t,!0),yield i.billingInfo.billingType===C.ck.Credit?i.state.go(n):i.state.go(n,{eftAddress:{address1:i.billingInfo.eft.address1,address2:i.billingInfo.eft.address2}}))})()}cancel(t){var n=this;return(0,x.Z)(function*(){const i={cmsContent:{Title:n.cancelMessageContent.cancelQuestion,PrimaryContent:"",CancelBtn:n.cancelMessageContent.cancelResolve,AcceptBtn:n.cancelMessageContent.cancelReject}};(yield n.dialogService.openGenericModal(Z.E5,i))||n.state.go(t)})()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(L),e.Y36(S.StateService),e.Y36(b.mb),e.Y36(b.Sr),e.Y36(S.UIRouterGlobals),e.Y36(b.xA))},o.\u0275cmp=e.Xpm({type:o,selectors:[["cavve-billing-component"]],viewQuery:function(t,n){if(1&t&&e.Gf(Z.Ot,5),2&t){let i;e.iGM(i=e.CRH())&&(n.creditEntry=i.first)}},inputs:{cmsContent:"cmsContent",cancelMessageContent:"cancelMessageContent"},decls:26,vars:13,consts:[["validation-focus","","name","CavveForm","fxLayout","column",1,"u-spacing--widthFill",3,"ngStyle.lt-md"],["BillingForm","ngForm"],[1,"h1-mo"],[2,"margin-top","21px"],[3,"billingType","billingTypeChange"],["style","margin-top:32px",4,"ngIf"],["fxFlexOffset","32px","fxLayout","column"],[3,"billingTitle","defaultAddress","newAddress","checkBoxFlag","newAddressFlag","countriesList","statesList","defaultAddressChange","newAddressChange","checkBoxFlagChange","newAddressFlagChange"],[2,"margin-top","32px"],[3,"next","cancel"],["wizard-next",""],["wizard-previous","","fxLayout","row","fxLayoutAlign","start center"],["svgIcon","previous-arrow"],["wizard-cancel",""],[3,"bankDetails","validate","showName",4,"ngIf"],[3,"creditCard",4,"ngIf"],[3,"bankDetails","validate","showName"],[3,"creditCard"]],template:function(t,n){1&t&&(e.TgZ(0,"page-centered-container")(1,"form",0,1)(3,"card-container")(4,"section")(5,"h2",2),e._uU(6),e.qZA(),e._UZ(7,"mat-divider"),e.qZA(),e.TgZ(8,"section",3)(9,"payment-method",4),e.NdJ("billingTypeChange",function(r){return n.billingInfo.billingType=r}),e.qZA()(),e.YNc(10,Ot,3,2,"section",5),e.qZA(),e.TgZ(11,"card-container",6)(12,"section")(13,"h2",2),e._uU(14),e.qZA(),e._UZ(15,"mat-divider"),e.qZA(),e.TgZ(16,"select-billing-address",7),e.NdJ("defaultAddressChange",function(r){return n.defaultAddress=r})("newAddressChange",function(r){return n.newAddress=r})("checkBoxFlagChange",function(r){return n.checkBoxFlag=r})("newAddressFlagChange",function(r){return n.newAddressFlag=r}),e.qZA()(),e.TgZ(17,"section",8)(18,"wizard-ui",9),e.NdJ("next",function(r){return n.submitBillingInfo(r)})("cancel",function(r){return n.cancel(r)}),e.TgZ(19,"span",10),e._uU(20,"CONTINUE"),e.qZA(),e.TgZ(21,"span",11),e._UZ(22,"mat-icon",12),e._uU(23," Previous "),e.qZA(),e.TgZ(24,"span",13),e._uU(25,"Cancel"),e.qZA()()()()()),2&t&&(e.xp6(1),e.Q6J("ngStyle.lt-md",e.DdM(12,At)),e.xp6(5),e.Oqu(n.cmsContent.paymentMethodHeader),e.xp6(3),e.Q6J("billingType",n.billingInfo.billingType),e.xp6(1),e.Q6J("ngIf",n.billingInfo.billingType),e.xp6(4),e.Oqu(n.cmsContent.billingAddressHeader),e.xp6(2),e.Q6J("billingTitle",n.cmsContent.newBillingSliderHeader)("defaultAddress",n.defaultAddress)("newAddress",n.newAddress)("checkBoxFlag",n.checkBoxFlag)("newAddressFlag",n.newAddressFlag)("countriesList",n.countriesList)("statesList",n.statesList))},directives:[G.D,h._Y,h.JL,h.F,$.R,p.xw,M.Zl,j.D,Q.d,vt.Z,m.O5,_t.m,It.O,p.UT,bt.A$,V.P,E.O,p.Wh,N.Hw],styles:["[_nghost-%COMP%]   form[_ngcontent-%COMP%]{max-width:540px}[_nghost-%COMP%]   mat-divider[_ngcontent-%COMP%]{width:65px}[_nghost-%COMP%]   h2[_ngcontent-%COMP%]{max-height:70px;padding-bottom:14px}"]}),o})();var wt=l(37882),ye=l(5472),St=l(25636),Zt=l(67734),Dt=l(19511),xe=l(10061),ve=l(38321);function Ft(o,s){if(1&o&&e._UZ(0,"payment-display",41),2&o){const t=e.oxw();e.Q6J("billingType",t.billingInfo.billingType)("bankDetails",t.billingInfo.eft)("creditCard",t.billingInfo.credit)("hideTitle",!0)("showAccountNumber",!0)("showNameOnCard",!0)("showLabels",!0)}}function Lt(o,s){if(1&o&&e._UZ(0,"address-display",42),2&o){const t=e.oxw();e.Q6J("address",t.billingInfo.billingType===t.BillingType.Credit?t.billingInfo.credit:t.billingInfo.eft)("international",t.billingInfo.billingType===t.BillingType.Credit?t.billingInfo.credit.international:t.billingInfo.eft.international)("showLabels",!0)}}function Ut(o,s){if(1&o&&e._UZ(0,"vehicle-display",43),2&o){const t=e.oxw();e.Q6J("vehicleInfo",t.vehicleInfo)}}function Qt(o,s){if(1&o&&e._UZ(0,"article",44),2&o){const t=e.oxw();e.Q6J("innerHtml",t.cmsSectionConfirmOrderSummary.LongDescription,e.oJD)}}function Nt(o,s){if(1&o&&e._UZ(0,"p",49),2&o){const t=e.oxw(3);e.Q6J("innerHtml",t.cmsSectionConfirmOrderSummary.EzTagAgreementValidation,e.oJD)}}function Jt(o,s){if(1&o&&(e.ynx(0,47),e.YNc(1,Nt,1,1,"p",48),e.BQk()),2&o){const t=e.oxw().$implicit;e.Q6J("ngSwitch",t.key),e.xp6(1),e.Q6J("ngSwitchCase","required")}}function Bt(o,s){if(1&o&&(e.TgZ(0,"div",45),e.YNc(1,Jt,2,2,"ng-container",46),e.qZA()),2&o){e.oxw();const t=e.MAs(2);e.xp6(1),e.Q6J("ngIf",t.submitted)}}const Rt=function(){return{"margin-bottom":"30px"}},_e=function(){return{"margin-top":"24px"}};let Vt=(()=>{class o{constructor(t,n,i,r,I,D,w,c,P,Y){var a=this;this.parent=t,this.state=n,this.userRoles=i,this.dialogService=r,this.billingInfoUtilitiesService=I,this.uiRouterGlobals=D,this.authChannel=w,this.genericRepoService=c,this.responseErrorService=P,this.session=Y,this.BillingType=C.ck,this.setUpPage=(0,x.Z)(function*(){a.parent.setFrameTitle(a.cmsContent.Title),a.parent.stepNum=3,a.createAccountFromViolationsTotals=a.parent.createAccountFromViolationsTotals;const d=yield a.genericRepoService.dataFactory.GetAccountSummaryCreateAccountFromViolation();yield a.setAccountData(d),a.responseErrorService.isErrorFree(d)&&(a.billingInfo.eft.address1=a.billingInfo.eft.address1||(a.uiRouterGlobals.params.eftAddress?a.uiRouterGlobals.params.eftAddress.address1:null),a.billingInfo.eft.address2=a.billingInfo.eft.address2||(a.uiRouterGlobals.params.eftAddress?a.uiRouterGlobals.params.eftAddress.address2:null),a.billingInfoOriginal.eft.address1=a.billingInfoOriginal.eft.address1||(a.uiRouterGlobals.params.eftAddress?a.uiRouterGlobals.params.eftAddress.address1:null),a.billingInfoOriginal.eft.address2=a.billingInfoOriginal.eft.address2||(a.uiRouterGlobals.params.eftAddress?a.uiRouterGlobals.params.eftAddress.address2:null))}),this.setAccountData=d=>{var u,v;if(this.responseErrorService.isErrorFree(d)){const f={credit:this.normalizeCreditCard(d.creditCardPaymentMethod||{}),eft:this.normalizeEFT(d.eftPaymentMethod||{}),billingType:d.isCreditCard?C.ck.Credit:C.ck.Eft,international:this.billingInfoUtilitiesService.isInternationalAddress(d.creditCardPaymentMethod)};if(this.billingInfo&&this.billingInfo.eft&&(null===(u=null==f?void 0:f.eft)||void 0===u?void 0:u.address1)&&(null===(v=null==f?void 0:f.eft)||void 0===v?void 0:v.address2)&&(f.eft.address1=this.billingInfo.eft.address1,f.eft.address2=this.billingInfo.eft.address2),this.billingInfo){this.billingInfo.billingType!==f.billingType&&(this.billingInfo.credit={},this.billingInfo.eft={});const F=this.billingInfo.credit,ne=this.billingInfo.eft;Object.keys(F).forEach(oe=>delete F[oe]),Object.keys(ne).forEach(oe=>delete ne[oe]),Object.assign(F,f.credit),Object.assign(ne,f.eft),this.billingInfo.billingType=f.billingType,this.billingInfo.international=f.international}else this.billingInfo=f;this.billingInfoOriginal=(0,T.Xh)(this.billingInfo),this.accountInfoOriginal=(0,T.Xh)(d.accountInfo),this.vehicleInfoOriginal=this.normalizeVehicleInfo(d.accountInfo),(!this.vehicleInfo||(0,O.isEqual)(this.vehicleInfo,this.vehicleInfoOriginal))&&(this.vehicleInfo=(0,T.Xh)(this.vehicleInfoOriginal))}},this.normalizeCreditCard=d=>(0,O.isString)(d.cardNbr)&&(0,O.isNumber)(d.expMonth)&&(0,O.isNumber)(d.expYear)?Object.assign({},d,{cardNbr:d.cardNbr.slice(d.cardNbr.length-4),cardExpires:`${d.expMonth}/${d.expYear}`,selectedYear:d.expYear,international:this.billingInfoUtilitiesService.isInternationalAddress(d)}):d,this.normalizeEFT=d=>(0,O.isString)(d.nameOnBankAccount)?Object.assign({},d,{name:d.nameOnBankAccount,accountType:d.accountTypeDisplay.toUpperCase(),accountTypeDisplay:d.accountTypeDisplay.toUpperCase(),account2:d.accountNumber,international:this.billingInfoUtilitiesService.isInternationalAddress(d)}):d,this.normalizeVehicleInfo=d=>({licPlate:d.licPlate,licState:d.licState,motorcycle:d.motorcycle,nickname:d.nickname,temporaryLicPlate:d.temporaryLicPlate,vehicleClassCode:Number(d.vehicleClassCode),vehicleClassDesc:d.vehicleClassDesc,vehicleColor:d.vehicleColor,vehicleMake:d.vehicleMake,vehicleModel:d.vehicleModel,vehicleYear:d.vehicleYear,isMotorcycleDisabled:!0}),this.onSubmit=function(){var d=(0,x.Z)(function*(u){yield a.setEditedBillingInfo(a.billingInfo),yield a.setEditedVehicleInfo(a.vehicleInfo),yield a.convertAccountAndGoToReceiptPage(u)});return function(u){return d.apply(this,arguments)}}(),this.onPrevious=function(){var d=(0,x.Z)(function*(u){yield a.state.go(u,{billingInfo:a.billingInfo},{custom:{isExplicitlyAllowedTransition:!0}})});return function(u){return d.apply(this,arguments)}}(),this.convertAccountAndGoToReceiptPage=function(){var d=(0,x.Z)(function*(u){const v={deliveryMethod:a.deliveryMethodOptions.deliveryMethod,totalPaymentAmount:a.createAccountFromViolationsTotals.createAccountPlateTotal},f=yield a.genericRepoService.dataFactory.ConvertAccountCreateAccountFromViolation(v);a.responseErrorService.isErrorFree(f)&&(a.session.userRole=a.userRoles.active,a.session.setAcctActivity("A"),a.authChannel.logIn(f),yield a.state.go(u,{billingInfo:a.billingInfo,vehicleInfo:a.vehicleInfo},{custom:{isExplicitlyAllowedTransition:!0}}))});return function(u){return d.apply(this,arguments)}}(),this.setEditedBillingInfo=function(){var d=(0,x.Z)(function*(u){const v={creditCardPaymentMethod:u.billingType===C.ck.Credit?u.credit:null,eftPaymentMethod:u.billingType===C.ck.Eft?u.eft:null,isCreditCard:u.billingType===C.ck.Credit};if(!(0,O.isEqual)(u,a.billingInfoOriginal)){u.billingType===C.ck.Eft&&(v.eftPaymentMethod.nameOnBankAccount=a.billingInfo.eft.name,v.eftPaymentMethod.accountType===C.Jb.Business?(v.eftPaymentMethod.accountType="Business",v.eftPaymentMethod.accountTypeDisplay="Business"):(v.eftPaymentMethod.accountType="Personal",v.eftPaymentMethod.accountTypeDisplay="Personal"));const f=yield a.genericRepoService.dataFactory.SetBillingInfoCreateAccountViolation(v);if(!a.responseErrorService.isErrorFree(f))throw new Error("setEditedBillingInfo() failed at API call SetBillingInfoCreateAccountViolation().");{a.responseErrorService.displayAlertsFromResponse(f);const F=yield a.genericRepoService.dataFactory.GetAccountSummaryCreateAccountFromViolation();a.responseErrorService.isErrorFree(F)&&a.setAccountData(F)}}});return function(u){return d.apply(this,arguments)}}(),this.setEditedVehicleInfo=function(){var d=(0,x.Z)(function*(u){const v={AccountInfo:Object.assign({},a.accountInfoOriginal,u)};if(!(0,O.isEqual)(u,a.vehicleInfoOriginal)){const f=yield a.genericRepoService.dataFactory.SetViolatorAccountInfo(v);if(!a.responseErrorService.isErrorFree(f))throw new Error("setEditedVehicleInfo() failed at API call SetViolatorAccountInfo().");{const F=yield a.genericRepoService.dataFactory.GetAccountSummaryCreateAccountFromViolation();a.responseErrorService.isErrorFree(F)&&a.setAccountData(F)}}});return function(u){return d.apply(this,arguments)}}()}ngOnInit(){this.setUpPage()}openEditBillingModal(){const t={billingInformation:{credit:(0,T.Xh)(this.billingInfo.credit),eft:(0,T.Xh)(this.billingInfo.eft)},billingType:(0,T.Xh)(this.billingInfo.billingType),stateList:(0,T.Xh)(this.parent.usStates),countryList:(0,T.Xh)(this.parent.countries)};return this.dialogService.openSliderCentered(wt.i,t,{title:"Edit Payment Method"}).then(n=>{n&&(this.billingInfo=n.billingInformation,this.billingInfo.billingType=n.billingType,n.billingType===C.ck.Credit&&(this.billingInfo.credit=this.normalizeCreditCard(this.billingInfo.credit)),n.billingType===C.ck.Eft&&(this.billingInfo.eft.accountTypeDisplay=n.billingInformation.eft.accountType,this.billingInfo.eft.nameOnBankAccount=n.billingInformation.eft.name,this.billingInfo.eft=this.normalizeEFT(this.billingInfo.eft)))})}openEditVehiclesModal(){const t={vehicleInfo:(0,T.Xh)(this.vehicleInfo),modalCms:{vehicleInfoTitle:this.cmsContent.editVehicleInfoTitle,vehicleToolTipEditButton:this.cmsContent.editVehicleToolTipEditButton,vehicleToolTipText:this.cmsContent.editVehicleToolTipText},stateList:this.parent.usStates,plateIsReadOnly:!0,motorcycleDisabled:!0};this.dialogService.openSliderCentered(Z.wn,t,{title:"Edit Vehicles"}).then(n=>{n&&(this.vehicleInfo=this.normalizeVehicleInfo(n.vehicleInfo))})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(L),e.Y36(S.StateService),e.Y36(A.vX),e.Y36(b.xA),e.Y36(St.b),e.Y36(S.UIRouterGlobals),e.Y36(Zt.P),e.Y36(b.mb),e.Y36(b.Sr),e.Y36(Dt.m))},o.\u0275cmp=e.Xpm({type:o,selectors:[["cavve-confirm-component"]],viewQuery:function(t,n){if(1&t&&e.Gf(ye.z,5),2&t){let i;e.iGM(i=e.CRH())&&(n.deliveryMethodOptions=i.first)}},inputs:{cmsContent:"cmsContent",cmsSectionConfirmOrderSummary:"cmsSectionConfirmOrderSummary"},decls:68,vars:22,consts:[["validation-focus","","name","cavveEzTagAgreementForm",1,"u-spacing--widthFill",3,"ngStyle.lt-md"],["EzTagAgreementForm","ngForm"],["storefront",""],["fxLayout","column"],["id","billingInfoSection"],["fxLayout","column","fxLayoutAlign","start start"],["fxLayout","row","fxLayoutAlign","space-between start",1,"u-spacing--widthFill"],["id","billingInfoHdr"],["fxFlex","none","aria-label","Edit",1,"editButton",3,"click"],["fxLayout","column",2,"margin-top","24px"],[3,"billingType","bankDetails","creditCard","hideTitle","showAccountNumber","showNameOnCard","showLabels",4,"ngIf"],[3,"address","international","showLabels",4,"ngIf"],["id","vehicleInfoSection","fxFlexOffset","21px"],["fxLayout","column","fxLayoutAlign","start start",1,"u-spacing--widthFill"],["id","vehicleInfoHdr"],["fxLayout","column","fxLayoutAlign","center start",2,"margin-top","24px"],[3,"vehicleInfo",4,"ngIf"],["id","chooseDeliveryMethodSection","fxFlexOffset","21px"],["fxLayout","row","fxLayout.lt-md","column"],["fxLayout","column","fxFlex","grow","fxFlexOrder","1","fxFlexOrder.lt-md","2","ngClass.lt-md","u-spacing--widthFill",3,"ngStyle.lt-md"],["id","chooseDeliveryMethodHdr"],["fxLayout","column","fxFlex","none","fxLayoutAlign","start end","fxLayoutAlign.lt-md","start start","fxFlexOrder","2","fxFlexOrder.lt-md","1","ngClass.lt-md","u-spacing--widthFill",2,"font-weight","bold"],["DeliveryMethodsOptions",""],["id","orderSummarySection","fxFlexOffset","21px"],["id","orderSummaryHdr"],["fxLayout","column","fxLayoutAlign","center",2,"margin-top","24px"],[3,"isConfirmPage","fees"],["id","ezTagAgreementSection",2,"margin-top","4px"],["style","margin-top:18px;",3,"innerHtml",4,"ngIf"],[2,"margin-top","18px",3,"error-check"],["fxLayout","row","fxLayoutAlign","start start",1,"u-spacing--widthFill"],["type","checkbox","name","verifyAgreementChecked","required","",2,"width","16px","height","16px",3,"ngModel"],["EzTagAgreementCheck","ngModel"],[2,"margin-top","2px","margin-left","10px",3,"innerHtml"],["role","alert",4,"ngFor","ngForOf"],[1,"u-spacing__buttonToField--marginTop"],[3,"next","previous"],["wizard-next",""],["wizard-previous","","fxLayout","row","fxLayoutAlign","start center"],["svgIcon","previous-arrow"],["wizard-cancel",""],[3,"billingType","bankDetails","creditCard","hideTitle","showAccountNumber","showNameOnCard","showLabels"],[3,"address","international","showLabels"],[3,"vehicleInfo"],[2,"margin-top","18px",3,"innerHtml"],["role","alert"],[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],["class","help-block",3,"innerHtml",4,"ngSwitchCase"],[1,"help-block",3,"innerHtml"]],template:function(t,n){if(1&t&&(e.TgZ(0,"page-centered-container")(1,"form",0,1),e._UZ(3,"storefront-utility",null,2),e.TgZ(5,"div",3)(6,"card-container",4)(7,"section",5)(8,"div",6)(9,"header",3)(10,"h2",7),e._uU(11),e.qZA(),e._UZ(12,"mat-divider"),e.qZA(),e.TgZ(13,"a",8),e.NdJ("click",function(){return n.openEditBillingModal()}),e._uU(14," Edit "),e.qZA()()(),e.TgZ(15,"section",9),e.YNc(16,Ft,1,7,"payment-display",10),e.YNc(17,Lt,1,3,"address-display",11),e.qZA()(),e.TgZ(18,"card-container",12)(19,"section",13)(20,"div",6)(21,"header",3)(22,"h2",14),e._uU(23),e.qZA(),e._UZ(24,"mat-divider"),e.qZA(),e.TgZ(25,"a",8),e.NdJ("click",function(){return n.openEditVehiclesModal()}),e._uU(26," Edit "),e.qZA()()(),e.TgZ(27,"section",15),e.YNc(28,Ut,1,1,"vehicle-display",16),e.qZA()(),e.TgZ(29,"card-container",17)(30,"section",18)(31,"article",19)(32,"header")(33,"h2",20),e._uU(34),e.qZA()(),e._UZ(35,"mat-divider"),e.qZA(),e._UZ(36,"article",21),e.qZA(),e.TgZ(37,"section",15),e._UZ(38,"choose-delivery-method",null,22),e.qZA()(),e.TgZ(40,"card-container",23)(41,"section",18)(42,"article",19)(43,"header")(44,"h2",24),e._uU(45),e.qZA()(),e._UZ(46,"mat-divider"),e.qZA(),e._UZ(47,"article",21),e.qZA(),e.TgZ(48,"section",25),e._UZ(49,"cavve-payment-summary",26),e.TgZ(50,"section",27),e.YNc(51,Qt,1,1,"article",28),e.TgZ(52,"div",29)(53,"div",30),e._UZ(54,"input",31,32)(56,"label",33),e.qZA(),e.YNc(57,Bt,2,1,"div",34),e.ALo(58,"keyvalue"),e.qZA()()()(),e.TgZ(59,"section",35)(60,"wizard-ui",36),e.NdJ("next",function(r){return n.onSubmit(r)})("previous",function(r){return n.onPrevious(r)}),e.TgZ(61,"span",37),e._uU(62,"PAY"),e.qZA(),e.TgZ(63,"span",38),e._UZ(64,"mat-icon",39),e._uU(65," Previous "),e.qZA(),e.TgZ(66,"span",40),e._uU(67,"Cancel"),e.qZA()()()()()()),2&t){const i=e.MAs(55);e.xp6(1),e.Q6J("ngStyle.lt-md",e.DdM(19,Rt)),e.xp6(10),e.hij(" ",n.cmsContent.billingInfoHeader," "),e.xp6(5),e.Q6J("ngIf",n.billingInfo),e.xp6(1),e.Q6J("ngIf",n.billingInfo&&n.billingInfo.billingType),e.xp6(6),e.hij(" ",n.cmsContent.vehicleInfoHeader," "),e.xp6(5),e.Q6J("ngIf",n.vehicleInfo),e.xp6(3),e.Q6J("ngStyle.lt-md",e.DdM(20,_e)),e.xp6(3),e.hij(" ",n.cmsContent.deliveryMethodHeader," "),e.xp6(8),e.Q6J("ngStyle.lt-md",e.DdM(21,_e)),e.xp6(3),e.hij(" ",n.cmsSectionConfirmOrderSummary.Title," "),e.xp6(4),e.Q6J("isConfirmPage",!0)("fees",n.createAccountFromViolationsTotals),e.xp6(2),e.Q6J("ngIf",n.cmsSectionConfirmOrderSummary.LongDescription),e.xp6(1),e.Q6J("error-check",i),e.xp6(2),e.Q6J("ngModel",n.verifyAgreementChecked),e.xp6(2),e.Q6J("innerHtml",n.cmsSectionConfirmOrderSummary.ShortDescription,e.oJD),e.xp6(1),e.Q6J("ngForOf",e.lcZ(58,17,i.errors))}},directives:[G.D,h._Y,h.JL,h.F,$.R,M.Zl,xe.x,p.xw,j.D,p.Wh,Q.d,p.yH,m.O5,ve.K,ee.G,p.UT,te.i,p.r7,M.oO,ye.z,fe,Ce.i,h.Zs,h.Wl,h.JJ,h.On,m.sg,m.RF,m.n9,V.P,E.O,N.Hw],pipes:[m.Nd],styles:["[_nghost-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;max-height:70px;padding-bottom:16px}[_nghost-%COMP%]   mat-divider[_ngcontent-%COMP%]{width:65px}[_nghost-%COMP%]   .editButton[_ngcontent-%COMP%]{font-weight:500;font-family:Jost;text-align:right;padding-top:5px}"]}),o})();var Et=l(75888),kt=l(61264),Yt=l(87917),zt=l(33402),qt=l(65380);function Ht(o,s){if(1&o&&e._UZ(0,"payment-display",26),2&o){const t=e.oxw();e.Q6J("billingType",t.billingInfo.billingType)("bankDetails",t.billingInfo.eft)("creditCard",t.billingInfo.credit)("hideTitle",!0)("hideEdit",!0)("showAccountNumber",!0)("showNameOnCard",!0)}}function Gt(o,s){if(1&o&&e._UZ(0,"address-display",27),2&o){const t=e.oxw();e.Q6J("address",t.billingInfo.billingType===t.BillingType.Credit?t.billingInfo.credit:t.billingInfo.eft)("international",t.billingInfo.billingType===t.BillingType.Credit?t.billingInfo.credit.international:t.billingInfo.eft.international)("showLabels",!1)("showEdit",!1)}}function jt(o,s){if(1&o&&e._UZ(0,"vehicle-display",28),2&o){const t=e.oxw();e.Q6J("vehicleInfo",t.vehicleInfo)}}function Xt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"section")(1,"action-buttons",29),e.NdJ("main",function(){return e.CHM(t),e.oxw().goToAccountOverviewOrLoginPage()}),e.TgZ(2,"span",30),e._uU(3,"ACCOUNT OVERVIEW"),e.qZA()()()}}function Wt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"section")(1,"wizard-ui",31),e.NdJ("next",function(i){return e.CHM(t),e.oxw().nextTask(i)}),e.TgZ(2,"span",32),e._uU(3,"PROCEED"),e.qZA()()()}}const Ie=function(){return{"padding-top":"24px"}},Kt=function(){return{"padding-top":"16px","padding-right":"15px"}},$t=function(){return{"padding-top":"16px","padding-left":"26px"}};let en=(()=>{class o{constructor(t,n,i,r,I,D,w,c,P,Y){var a=this;this.webStorage=t,this.responseErrorService=n,this.genericRepo=i,this.window=r,this.parent=I,this.authService=D,this.uiRouterGlobals=w,this.webStorageConst=c,this.state=P,this.currentUserService=Y,this.BillingType=C.ck,this.paymentDetailsParams={},this.currentUser={},this.setUpPage=(0,x.Z)(function*(){a.parent.stepNum=4,a.parent.showAccountDetailsHeader=!0,a.populateCMSContent(),yield a.authService.profile({}),yield a.setAccountData()}),this.populateCMSContent=()=>{this.parent.setFrameTitle(this.cmsContent.Title),this.paymentDetailsParams={current_date:this.dateNow,total_paid:this.totalPaid}},this.setAccountData=(0,x.Z)(function*(){a.uiRouterGlobals.params.billingInfo&&a.uiRouterGlobals.params.vehicleInfo?(a.billingInfo=a.uiRouterGlobals.params.billingInfo,a.vehicleInfo=a.uiRouterGlobals.params.vehicleInfo):(yield a.getVehicleInfo(),yield a.getBillingInfo())}),this.getVehicleInfo=(0,x.Z)(function*(){const d=yield a.genericRepo.dataFactory.getEZTagInfo();a.responseErrorService.isErrorFree(d)&&(a.vehicleInfo=d.accountTags)}),this.getBillingInfo=(0,x.Z)(function*(){const d=yield a.genericRepo.dataFactory.oneTimePaymentGetBillingInfo();a.responseErrorService.isErrorFree(d)&&(a.billingInfo=d.billingInfo)})}ngOnInit(){this.createAccountFromViolationsTotals=this.webStorage.getValue(this.webStorageConst.createAccountFromViolationsTotals)||{},this.createAccountFromViolationsTotals.totalViolationsDue=this.webStorage.getValue(this.webStorageConst.remainingPlateTotalBeforeDiscount),this.createAccountFromViolationsTotals.serviceFee=this.webStorage.getValue(this.webStorageConst.serviceFee),this.totalPaid=this.createAccountFromViolationsTotals.createAccountPlateTotal,this.currentUser=this.currentUserService.getCurrentUser(),this.setUpPage()}print(){this.window.print()}get dateNow(){return new Date}goToAccountOverviewOrLoginPage(){this.state.go(Et.Dn.Frame)}nextTask(t){var n=this;return(0,x.Z)(function*(){yield n.state.go(t)})()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(W.V),e.Y36(b.Sr),e.Y36(b.mb),e.Y36(kt.X9),e.Y36(L),e.Y36(Yt.$),e.Y36(S.UIRouterGlobals),e.Y36(A.LC),e.Y36(S.StateService),e.Y36(b.SF))},o.\u0275cmp=e.Xpm({type:o,selectors:[["cavve-receipt-component"]],inputs:{cmsContent:"cmsContent",cmsSectionThankYou:"cmsSectionThankYou"},decls:58,vars:25,consts:[["storefront",""],["fxLayout","column"],["fxFlexOffset","21px"],["fxLayout","row","fxLayout.lt-md","column",2,"padding-top","24px"],["fxLayout","column","fxFlex","grow","fxFlexOrder","1","fxFlexOrder.lt-md","2","ngClass.lt-md","u-spacing--widthFill",3,"ngStyle.lt-md"],["fxFlexOrder","2","fxFlexOrder.lt-md","1",3,"ngStyle","ngStyle.lt-md"],["id","PrintButton"],[2,"padding-top","24px"],[3,"rowType"],["col-start","","fxFlex","grow",2,"font-weight","bold"],["col-end","","fxFlex","none",2,"font-weight","bold"],[3,"value"],["fxLayout","column","fxLayoutAlign","center start",2,"padding-top","24px"],["id","thankYouSection",3,"template","data"],["fxLayout","row","fxLayoutAlign","center start",2,"padding-top","24px"],["col-start","","fxFlex","auto",2,"padding-top","15px","padding-bottom","15px"],["svgIcon","checkmark"],[1,"account-created-text"],[1,"acc-num-text"],[1,"acc-num-val"],[3,"billingType","bankDetails","creditCard","hideTitle","hideEdit","showAccountNumber","showNameOnCard",4,"ngIf"],[1,"u-spacing__addressToPaymentDisplay--marginTop"],[3,"address","international","showLabels","showEdit",4,"ngIf"],["fxLayout","column","fxFlex","none","fxLayoutAlign","start end","fxLayoutAlign.lt-md","start start","fxFlexOrder","2","fxFlexOrder.lt-md","1","ngClass.lt-md","u-spacing--widthFill",2,"font-weight","bold"],["isCompactView","true",3,"vehicleInfo",4,"ngIf"],[4,"ngIf"],[3,"billingType","bankDetails","creditCard","hideTitle","hideEdit","showAccountNumber","showNameOnCard"],[3,"address","international","showLabels","showEdit"],["isCompactView","true",3,"vehicleInfo"],["reverseOrder","true",3,"main"],["action-main",""],[3,"next"],["wizard-next",""]],template:function(t,n){if(1&t&&(e.TgZ(0,"page-centered-container"),e._UZ(1,"storefront-utility",null,0),e.TgZ(3,"div",1)(4,"div",2)(5,"card-container")(6,"section",3)(7,"article",4)(8,"header")(9,"h2"),e._uU(10),e.qZA()(),e._UZ(11,"mat-divider"),e.qZA(),e.TgZ(12,"article",5),e._UZ(13,"print-link",6),e.qZA()(),e.TgZ(14,"section",7)(15,"row-container",8)(16,"section",9),e._uU(17," Payment Amount: "),e.qZA(),e.TgZ(18,"section",10),e._UZ(19,"currency",11),e.qZA()()(),e.TgZ(20,"section",12)(21,"article",1),e._UZ(22,"cms-content",13),e.qZA()(),e.TgZ(23,"section",14)(24,"row-container",8)(25,"section",15),e._UZ(26,"mat-icon",16),e.TgZ(27,"span",17),e._uU(28),e.qZA(),e.TgZ(29,"span",18),e._uU(30),e.TgZ(31,"span",19),e._uU(32),e.qZA()()()()(),e.TgZ(33,"section",12)(34,"article",1),e._uU(35),e.qZA()(),e.TgZ(36,"section",12)(37,"header",1)(38,"h2"),e._uU(39),e.qZA(),e._UZ(40,"mat-divider"),e.qZA()(),e.TgZ(41,"section",12)(42,"article"),e.YNc(43,Ht,1,7,"payment-display",20),e.qZA(),e.TgZ(44,"article",21),e.YNc(45,Gt,1,4,"address-display",22),e.qZA()(),e.TgZ(46,"section",3)(47,"article",4)(48,"header")(49,"h2"),e._uU(50),e.qZA()(),e._UZ(51,"mat-divider"),e.qZA(),e._UZ(52,"article",23),e.qZA(),e.TgZ(53,"section",12),e.YNc(54,jt,1,1,"vehicle-display",24),e.qZA(),e.TgZ(55,"section",7),e.YNc(56,Xt,4,0,"section",25),e.qZA(),e.YNc(57,Wt,4,0,"section",25),e.qZA()()()()),2&t){const i=e.MAs(2);e.xp6(7),e.Q6J("ngStyle.lt-md",e.DdM(21,Ie)),e.xp6(3),e.hij(" ",n.cmsSectionThankYou.Title," "),e.xp6(2),e.Q6J("ngStyle",e.DdM(22,Kt))("ngStyle.lt-md",e.DdM(23,$t)),e.xp6(3),e.Q6J("rowType","emphasis"),e.xp6(4),e.Q6J("value",n.totalPaid),e.xp6(3),e.Q6J("template",n.cmsSectionThankYou.paymentDetails)("data",n.paymentDetailsParams),e.xp6(2),e.Q6J("rowType","semi-emphasis"),e.xp6(4),e.Oqu(n.cmsSectionThankYou.accountCreatedText),e.xp6(2),e.hij("",n.cmsSectionThankYou.accountNumText," "),e.xp6(2),e.Oqu(n.currentUser.acctId),e.xp6(3),e.hij(" ",n.cmsSectionThankYou.paymentDisclaimer," "),e.xp6(4),e.hij(" ",n.cmsContent.billingInfoHeader," "),e.xp6(4),e.Q6J("ngIf",n.billingInfo),e.xp6(2),e.Q6J("ngIf",n.billingInfo&&n.billingInfo.billingType),e.xp6(2),e.Q6J("ngStyle.lt-md",e.DdM(24,Ie)),e.xp6(3),e.hij(" ",n.cmsContent.ezTagRequestedHeader," "),e.xp6(4),e.Q6J("ngIf",n.vehicleInfo),e.xp6(2),e.Q6J("ngIf",!i.isKioskView),e.xp6(1),e.Q6J("ngIf",i.isKioskView)}},directives:[G.D,xe.x,p.xw,p.UT,j.D,p.yH,p.r7,M.oO,M.Zl,Q.d,m.PC,zt.F,ce.v,J.Q,p.Wh,re.R,N.Hw,m.O5,ve.K,ee.G,te.i,qt.O,V.P,E.O],styles:["[device-type]   [_nghost-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;max-height:70px;padding-bottom:16px}[device-type]   [_nghost-%COMP%]   mat-divider[_ngcontent-%COMP%]{width:65px}[device-type]   [_nghost-%COMP%]   .account-created-text[_ngcontent-%COMP%]{color:#018749;margin-left:16px}[device-type]   [_nghost-%COMP%]   #PrintButton[_ngcontent-%COMP%]{color:#34353a;font-family:Montserrat;font:normal normal normal 12px/15px}[device-type]   [_nghost-%COMP%]   mat-icon[svgIcon=checkmark][_ngcontent-%COMP%]{vertical-align:middle;margin-top:-2px}[device-type]   [_nghost-%COMP%]   .acc-num-text[_ngcontent-%COMP%]{display:block;font-weight:700;margin-top:15px;margin-left:37px}[device-type]   [_nghost-%COMP%]   .acc-num-text[_ngcontent-%COMP%]   .acc-num-val[_ngcontent-%COMP%]{font-size:20px}"]}),o})();var be=l(59119);const k=(0,y.hE)(A.Xn.cavveCurrentStep,g.Dn.Offer),tn=[{name:g.Dn.Root,abstract:!0,component:L,resolve:[(0,y.IM)(A.IT.anonymous),(0,y.SZ)("usStates"),(0,y.pe)("countries"),(0,y.oF)(A.s.Violations),(0,y.QK)("cmsBaseContent",{ItemId:g._J.Root})]},{name:g.Dn.Offer,url:g.o0.Offer,component:it,resolve:[(0,y.IM)(A.IT.anonymous),(0,y.QK)("landingPageInfo",{ItemId:g._J.Offer}),k()],wizard:{nextState:g.Dn.Personal,prevState:X.Dn.Landing}},{name:g.Dn.Personal,url:g.o0.Personal,component:xt,resolve:[(0,y.IM)(A.IT.anonymous),(0,y.QK)("personalPageInfo",{ItemId:g._J.PersonalInfoPage}),(0,y.QK)("cancelMessageContent",{ItemId:g._J.CancelMessages}),(0,y.QK)("pwCmsData",{ItemId:Ze.z9.passwordValidation,mergeParams:!0}),k()],wizard:{nextState:g.Dn.Billing,prevState:g.Dn.Offer,cancelState:g.Dn.Offer}},{name:g.Dn.Billing,url:g.o0.Billing,component:Tt,resolve:[(0,y.IM)(A.IT.anonymous),(0,y.QK)("cmsContent",{ItemId:g._J.Billing}),(0,y.QK)("cancelMessageContent",{ItemId:g._J.CancelMessages}),k()],params:{billingInfo:null,eftAddress:null},wizard:{nextState:g.Dn.Confirm,prevState:g.Dn.Personal,cancelState:g.Dn.Offer}},{name:g.Dn.Confirm,url:g.o0.Confirm,component:Vt,resolve:[(0,y.IM)(A.IT.anonymous),k({explicitlyForbidden:[g.Dn.Receipt]}),(0,y.QK)("cmsContent",{ItemId:g._J.Confirm}),(0,y.QK)("cmsSectionConfirmOrderSummary",{ItemId:g._J.ConfirmOrderSummarySection})],params:{eftAddress:null},wizard:{nextState:g.Dn.Receipt,prevState:g.Dn.Billing,cancelState:g.Dn.Offer}},{name:g.Dn.Receipt,url:g.o0.Receipt,component:en,resolve:[(0,y.IM)(A.IT.anonymous),k({denyRefresh:!0,explicitlyAllowed:[g.Dn.Confirm],explicitlyForbidden:[be.Dn.Frame]}),(0,y.QK)("cmsContent",{ItemId:g._J.Receipt,mergeParams:!0}),(0,y.QK)("cmsSectionThankYou",{ItemId:g._J.ReceiptThankYouSection,mergeParams:!0})],params:{vehicleInfo:null,billingInfo:null},wizard:{nextState:be.Dn.Frame,isEndState:!0}}];let nn=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[{provide:g.sV,useValue:g.Dn}],imports:[[m.ez,se.UIRouterModule.forChild({states:tn}),Ae.ez,Te.D,Se.kS,we.n,h.u5,Me.o9,Q.t,Pe.LD,ae.lN,Oe.lg,N.Ps]]}),o})()}}]);