
<div style="padding-left:10px; padding-right:10px;">

    <div *ngIf="noData === false && isLargeAccount === false">
        <div fxLayout="row"
             fxLayoutAlign="space-between start"
             class="u-spacing--widthFill">
            <header fxLayout="column">
                <h3>{{recentTransactionsTitle}}</h3>
            </header>

            <a class="viewAllButton"
               fxFlex="none" aria-label="View all" (click)="viewTransactionsClick()">
                View all
            </a>
        </div>

        <div fxLayout="column"
             fxLayoutAlign="start start" style="width:100%; height:245px;">

            <div fxLayout="column"
                 fxLayoutAlign="start start" style="width:100%;">

                <fx-row [isLabel]="true"
                                       [backgroundColorClass]="'transparent-background'"
                                       style="height:20px;">

                    <section col-start
                             class="fx-flex-auto fx-layout-row fx-layout-align-start-center">
                        <div class="fx-flex-auto-shrink-more limited-flex">
                            <mat-label>TRANSACTION DATE</mat-label>
                        </div>
                        <div fxShow
                             fxHide.lt-sm
                             class="fx-flex-auto-grow-more unlimited-flex">
                            <mat-label [ngClass.lt-sm]="{'hidden': true}">VEHICLE</mat-label>
                        </div>
                        <div fxShow
                             fxHide.lt-md2
                             class="fx-flex-auto-shrink-more limited-flex"
                             [ngClass.lt-md2]="{'hidden': true}">
                            <mat-label [ngClass.lt-md2]="{'hidden': true}">LOCATION</mat-label>
                        </div>
                    </section>

                    <section col-end
                             class="fx-flex-none fx-layout-row fx-layout-align-end-center">
                        <div class="fx-flex-auto limited-flex-end">
                            <mat-label class="fx-flex-auto limited-flex-end" style="text-align:left;">AMOUNT</mat-label>
                        </div>
                    </section>
                </fx-row>

                <div *ngFor="let transaction of transactions | slice:0:4; let i = index" style="width:100%;">

                    <div ngClass="extended-row"
                         [ngClass.lt-md]="{'extended-row': false}"
                         style="margin-top:2px;">

                        <fx-row [isTop]="i === 0 && transactions.length > 1 ? true : false"
                                               [isInner]="i > 0 && i+1 < transactions.length && i+1 < 4 ? true : false"
                                               [isBottom]="i > 0 && (i+1 === transactions.length || i+1 === 4) ? true : false">

                            <section col-start
                                     class="fx-flex-auto fx-layout-row fx-layout-align-start-center">
                                <div class="fx-flex-auto-shrink-more limited-flex">
                                    <span translation-skip class="rowItem">{{transaction.trxnDate | dateWithTimeZone: 'dateTime5'}}</span>
                                </div>
                                <div fxShow
                                     fxHide.lt-sm
                                     class="fx-flex-auto-grow-more unlimited-flex">
                                    <span *ngIf="transaction.locationName !== 'REBILL TAG STORE' && transaction.locationName !== 'WEB TAG STORE'">
                                        <span class="rowItem">{{transaction.licenseState}} - {{transaction.licensePlate}}</span>
                                    </span>
                                </div>
                                <div translation-skip
                                     fxShow
                                     fxHide.lt-md2
                                     class="fx-flex-auto-shrink-more limited-flex"
                                     [ngClass.lt-md2]="{'hidden': true}">
                                    <span *ngIf="transaction.locationName === 'REBILL TAG STORE'" class="rowItem">
                                        Rebill
                                    </span>
                                    <span *ngIf="transaction.locationName === 'WEB TAG STORE'" class="rowItem">
                                        {{transaction.locationName | titlecase}}
                                    </span>
                                    <span *ngIf="transaction.locationName !== 'REBILL TAG STORE' && transaction.locationName !== 'WEB TAG STORE'" class="rowItem">
                                        {{ (transaction.laneName || '') + ' ' + (transaction.plazaName || '') | truncate }}
                                    </span>
                                </div>
                            </section>

                            <section col-end
                                     class="fx-flex-none fx-layout-row fx-layout-align-end-center">
                                <div class="fx-flex-auto limited-flex-end">
                                    <span class="rowItem" style="text-align:right;" translation-skip>{{transaction.amount | currency:'USD'}}</span>
                                </div>
                            </section>
                        </fx-row>

                    </div>

                </div>

            </div>

        </div>
    </div>

    <div *ngIf="isLargeAccount === true"
         style="width:100%; height:272px;">

        <div>
            <div fxLayout="row"
                 fxLayoutAlign="space-between start"
                 class="u-spacing--widthFill">
                <header fxLayout="column">
                    <h3>{{recentTransactionsTitle}}</h3>
                </header>

                <a class="viewAllButton"
                   fxFlex="none" aria-label="View all" (click)="viewTransactionsClick()">
                    View all
                </a>
            </div>

            <div style="height:60px;">

            </div>

            <section fxLayout="column"
                     fxLayoutAlign="center center">

                <span class="rowItem">{{largeAccountCMS}}</span>
            </section>
        </div>

    </div>

    <div *ngIf="noData === true && isLargeAccount === false"
         style="width:100%; height:272px;">

        <div>
            <div fxLayout="row"
                 fxLayoutAlign="space-between start"
                 class="u-spacing--widthFill">
                <header fxLayout="column">
                    <h3>{{recentTransactionsTitle}}</h3>
                </header>

                <a class="viewAllButton"
                   fxFlex="none" aria-label="View all" (click)="viewTransactionsClick()">
                    View all
                </a>
            </div>

            <div style="height:60px;">

            </div>

            <section fxLayout="column"
                     fxLayoutAlign="center center">

                <mat-icon class="noData" svgIcon="bar-chart-icon"></mat-icon>

                <span class="rowItem">{{noDataTitle}}</span>
            </section>
        </div>

    </div>

</div>
