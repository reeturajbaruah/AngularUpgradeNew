<page-centered-container>
    <form #BillingForm="ngForm" validation-focus name="CavveForm"
          fxLayout="column"
          class="u-spacing--widthFill"
          [ngStyle.lt-md]="{'margin-bottom':'48px'}">
        <card-container>
            <section>
                <h2 class="h1-mo">{{cmsContent.paymentMethodHeader}}</h2>
                <mat-divider></mat-divider>
            </section>
            <section style="margin-top:21px">
                <payment-method [(billingType)]="billingInfo.billingType">
                </payment-method>
            </section>
            <section *ngIf="billingInfo.billingType" style="margin-top:32px">
                <bank-account-entry *ngIf="billingInfo.billingType === BillingType.Eft"
                                    [bankDetails]="billingInfo.eft"
                                    [validate]="true"
                                    [showName]="true">
                </bank-account-entry>
                <credit-card-entry *ngIf="billingInfo.billingType === BillingType.Credit"
                                   [creditCard]="billingInfo.credit">
                </credit-card-entry>
            </section>
        </card-container>

        <card-container fxFlexOffset="32px" fxLayout="column">
            <section>
                <h2 class="h1-mo">{{cmsContent.billingAddressHeader}}</h2>
                <mat-divider></mat-divider>
            </section>
            <select-billing-address [billingTitle]="cmsContent.newBillingSliderHeader"
                                    [(defaultAddress)]="defaultAddress"
                                    [(newAddress)]="newAddress"
                                    [(checkBoxFlag)]="checkBoxFlag"
                                    [(newAddressFlag)]="newAddressFlag"
                                    [countriesList]="countriesList"
                                    [statesList]="statesList"></select-billing-address>
        </card-container>

        <section style="margin-top:32px">
            <wizard-ui (next)="submitBillingInfo($event)" (cancel)="cancel($event)">
                <span wizard-next>CONTINUE</span>
                <span wizard-previous
                      fxLayout="row"
                      fxLayoutAlign="start center">
                    <mat-icon svgIcon="previous-arrow"></mat-icon>
                    Previous
                </span>
                <span wizard-cancel>Cancel</span>
            </wizard-ui>
        </section>
    </form>
</page-centered-container>
